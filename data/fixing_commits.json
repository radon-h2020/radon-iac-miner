[
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #50",
        "sha": "2546a8fca283af94be5e80dc6f5141836aca689a",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/2546a8fca283af94be5e80dc6f5141836aca689a",
        "parents": [
            "1d1002f58d64e00c5cb916cf8e890aff338b1c9a"
        ],
        "files": [
            {
                "sha": "ea43181c3cbef322147ad703a1389d78fa6f2b48",
                "filename": "tasks/configure-non-systemd.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/configure-non-systemd.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/configure-non-systemd.yml",
                "status": "modified",
                "patch": "@@ -6,10 +6,10 @@\n       DOCKER_OPTS: \"{{ docker_daemon_opts }}\"\n \n - name: Setup Docker environment file {{ docker_envs_dir[_docker_os_dist] }}/docker\n+  become: true\n   template:\n     src: docker-envs.j2\n     dest: \"{{ docker_envs_dir[_docker_os_dist] }}/docker\"\n-  become: yes\n   notify: restart docker\n   vars:\n     docker_envs: \"{{ docker_service_envs }}\"\n\\ No newline at end of file"
            },
            {
                "sha": "083a06ada7e59272066385e4463b79a6d4db144c",
                "filename": "tasks/setup-repository.yml",
                "previous_filename": null,
                "additions": 13,
                "deletions": 13,
                "changes": 26,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/setup-repository.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/setup-repository.yml",
                "status": "modified",
                "patch": "@@ -1,62 +1,62 @@\n ---\n - name: Ensure python and deps for Ansible modules\n-  raw: dnf install -y python2 python2-dnf libselinux-python\n   become: true\n+  raw: dnf install -y python2 python2-dnf libselinux-python\n   changed_when: false\n   when: _docker_os_dist == \"Fedora\"\n \n - name: Update APT cache\n+  become: true\n   apt:\n     update_cache: yes\n   changed_when: false\n-  become: true\n   when: _docker_os_dist == \"Ubuntu\" or\n         _docker_os_dist == \"Debian\"\n \n - name: Ensure packages are installed for repository setup\n+  become: true\n   package:\n     name: \"{{ item }}\"\n     state: present\n   with_items:\n     - \"{{ docker_repository_related_packages[_docker_os_dist] }}\"\n-  become: true\n   when: _docker_os_dist == \"Ubuntu\" or\n         _docker_os_dist == \"Debian\" or\n         _docker_os_dist == \"CentOS\" or\n         _docker_os_dist == \"RedHat\"\n \n - name: Add Docker official GPG key\n+  become: true\n   apt_key:\n     url: https://download.docker.com/linux/{{ _docker_os_dist|lower }}/gpg\n     state: present\n-  become: true\n   when: (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version > '14')\n         or _docker_os_dist == \"Debian\"\n \n - name: Add Docker APT key (alternative for older Ubuntu systems without SNI).\n+  become: true\n   shell: \"curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\"\n   args:\n     warn: false\n-  become: true\n   changed_when: false\n   when: _docker_os_dist == \"Ubuntu\" and\n         _docker_os_dist_major_version == '14'\n \n - name: Add Docker CE repository (Ubuntu/Debian)\n+  become: true\n   apt_repository:\n     repo: deb [arch=amd64] https://download.docker.com/linux/{{ _docker_os_dist|lower }} {{ _docker_os_dist_release }} stable {{ (docker_enable_ce_edge == true) | ternary('edge','') }}\n     state: present\n     filename: 'docker-ce'\n-  become: true\n   when: _docker_os_dist == \"Ubuntu\" or\n         _docker_os_dist == \"Debian\"\n \n - name: Add Docker CE repository (Fedora/CentOS/RedHat)\n+  become: true\n   get_url:\n     url: \"{{ docker_repository_url[_docker_os_dist] }}\"\n     dest: /etc/yum.repos.d/docker-ce.repo\n     mode: 0644\n-  become: true\n   register: docker_repo\n   when: _docker_os_dist == \"CentOS\" or\n         _docker_os_dist == \"Fedora\" or\n@@ -81,42 +81,42 @@\n         _docker_os_dist == \"RedHat\"\n \n - name: Enable/Disable Docker CE Edge Repository (Fedora/CentOS/RedHat)\n-  shell: \"{{ docker_cmd_enable_disable_edge_repo[_docker_os_dist] }}\"\n   become: true\n+  shell: \"{{ docker_cmd_enable_disable_edge_repo[_docker_os_dist] }}\"\n   when: (_docker_os_dist == \"CentOS\" or _docker_os_dist == \"Fedora\" or _docker_os_dist == \"RedHat\") and\n         _fact_docker_ce_edge_enabled != docker_enable_ce_edge\n \n # disable rt-beta so we don't get a 403 error retrieving repomd.xml\n - name: Check if rhel-7-server-rt-beta-rpms Repository is enabled (RedHat)\n-  shell: \"subscription-manager repos --list-enabled | grep rhel-7-server-rt-beta-rpms\"\n   become: true\n+  shell: \"subscription-manager repos --list-enabled | grep rhel-7-server-rt-beta-rpms\"\n   register: cmd_rhel_rt_beta_repo_enabled\n   when: _docker_os_dist == \"RedHat\"\n   changed_when: false\n   failed_when: cmd_rhel_rt_beta_repo_enabled.rc not in [ 0, 1 ]\n \n - name: Disable rhel-7-server-rt-beta-rpms Repository (RedHat)\n-  shell: \"subscription-manager repos --disable=rhel-7-server-rt-beta-rpms\"\n   become: true\n+  shell: \"subscription-manager repos --disable=rhel-7-server-rt-beta-rpms\"\n   when: _docker_os_dist == \"RedHat\" and cmd_rhel_rt_beta_repo_enabled.rc == 0\n \n # container-selinux package wants this\n - name: Check if rhel-7-server-extras-rpms Repository is enabled (RedHat)\n-  shell: \"subscription-manager repos --list-enabled | grep rhel-7-server-extras-rpms\"\n   become: true\n+  shell: \"subscription-manager repos --list-enabled | grep rhel-7-server-extras-rpms\"\n   register: cmd_rhel_extras_repo_enabled\n   when: _docker_os_dist == \"RedHat\"\n   changed_when: false\n   failed_when: cmd_rhel_extras_repo_enabled.rc not in [ 0, 1 ]\n \n - name: Enable rhel-7-server-extras-rpms Repository (RedHat)\n-  shell: \"subscription-manager repos --enable=rhel-7-server-extras-rpms\"\n   become: true\n+  shell: \"subscription-manager repos --enable=rhel-7-server-extras-rpms\"\n   when: _docker_os_dist == \"RedHat\" and cmd_rhel_extras_repo_enabled.rc == 1\n \n - name: Update repository cache\n+  become: true\n   shell: \"{{ docker_cmd_update_repo_cache[_docker_os_dist] }}\"\n   args:\n     warn: false\n-  become: true\n   when: docker_repo.changed\n\\ No newline at end of file"
            },
            {
                "sha": "ff55df29f92a3a92ed2e6868ec189f108bb5cd01",
                "filename": "tasks/bug-tweaks.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/bug-tweaks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/bug-tweaks.yml",
                "status": "modified",
                "patch": "@@ -6,20 +6,20 @@\n     register: may_detach_mounts\n \n   - name: Ensure fs.may_detach_mounts is set to avoid 'Device or resource busy' (CentOS/RedHat)\n+    become: true\n     sysctl:\n       name: fs.may_detach_mounts\n       value: 1\n       sysctl_file: /etc/sysctl.d/99-docker.conf\n       reload: yes\n-    become: yes\n     when: may_detach_mounts.stat.exists\n \n   # Keep for compatibility reasons of this role. Now everything is in the same file.\n   - name: Remove systemd drop-in for Docker Mount Flags slave configuration (CentOS/RedHat)\n+    become: true\n     file:\n       path: /etc/systemd/system/docker.service.d/mountflags-slave.conf\n       state: absent\n-    become: yes\n     notify: restart docker\n \n   - name: Set systemd service MountFlags option to \"slave\" to prevent \"device busy\" errors on CentOS/RedHat 7.3 kernels (CentOS/RedHat)"
            },
            {
                "sha": "407838bdfb01178a2d0c4a744395d3446214526d",
                "filename": "tasks/configure-systemd.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/configure-systemd.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/configure-systemd.yml",
                "status": "modified",
                "patch": "@@ -3,17 +3,17 @@\n     _systemd_service_config: \"{{ docker_systemd_service_config_tweaks + docker_systemd_service_config }}\"\n \n - name: Ensure /etc/systemd/system/docker.service.d directory exists\n+  become: true\n   file:\n     path: /etc/systemd/system/docker.service.d\n     state: directory\n     mode: 0755\n-  become: yes\n \n - name: Setup default Docker drop-in to enable use of environment file\n+  become: true\n   template:\n     src: drop-ins/default.conf.j2\n     dest: /etc/systemd/system/docker.service.d/default.conf\n-  become: yes\n   notify: restart docker\n   register: _systemd_docker_dropin\n   vars:\n@@ -28,17 +28,17 @@\n       DOCKER_OPTS: \"{{ docker_daemon_opts }}\"\n \n - name: Setup Docker environment file {{ docker_envs_dir[_docker_os_dist] }}/docker-envs\n+  become: true\n   template:\n     src: docker-envs.j2\n     dest: \"{{ docker_envs_dir[_docker_os_dist] }}/docker-envs\"\n-  become: yes\n   notify: restart docker\n   vars:\n     docker_envs: \"{{ docker_service_envs }}\"\n \n - name: Force daemon reload of systemd\n+  become: true\n   systemd:\n     daemon_reload: yes\n-  become: yes\n   notify: restart docker\n   when: _systemd_docker_dropin|changed\n\\ No newline at end of file"
            },
            {
                "sha": "fdd5fdbabd232c84896f0363d9a310bdbc4a2c83",
                "filename": "tasks/remove-pre-docker-ce.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/remove-pre-docker-ce.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/remove-pre-docker-ce.yml",
                "status": "modified",
                "patch": "@@ -11,12 +11,12 @@\n   when: cmd_docker_version.stdout_lines is defined and cmd_docker_version.stdout_lines[0] is defined\n \n - name: Check if Docker is running\n+  become: true\n   command: systemctl status docker\n   ignore_errors: yes\n   changed_when: false\n   register: service_docker_status\n   when: remove_old_docker | default(false) | bool == true\n-  become: true\n \n - name: Stop Docker service\n   service:\n@@ -25,10 +25,10 @@\n   when: \"service_docker_status.rc | default(1) == 0\"\n \n - name: Remove old Docker installation before Docker CE\n+  become: true\n   package:\n     name: \"{{ item }}\"\n     state: absent\n-  become: true\n   when: remove_old_docker|default(false) | bool == true\n   with_items:\n     - \"{{ docker_old_packages[_docker_os_dist] }}\""
            },
            {
                "sha": "ed1532b4ca5a1698ce0e3262b0b0c78711acf156",
                "filename": "tasks/configure-docker.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 6,
                "changes": 12,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/configure-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/configure-docker.yml",
                "status": "modified",
                "patch": "@@ -1,34 +1,34 @@\n ---\n - name: Ensure /etc/docker directory exists\n+  become: true\n   file:\n     path: /etc/docker\n     state: directory\n     mode: 0755\n-  become: true\n \n - name: Configure Docker daemon (file)\n+  become: true\n   copy:\n     src: \"{{ docker_daemon_config_file }}\"\n     dest: /etc/docker/daemon.json\n-  become: true\n   notify: restart docker\n   when: docker_daemon_config_file is defined\n \n - name: Configure Docker daemon (variables)\n+  become: true\n   copy:\n     content: \"{{ docker_daemon_config | to_nice_json }}\"\n     dest: /etc/docker/daemon.json\n-  become: true\n   notify: restart docker\n   when: docker_daemon_config_file is not defined and\n         docker_daemon_config is defined\n \n - name: Ensure Docker default user namespace is defined in subuid and subgid\n+  become: true\n   lineinfile:\n     path: \"{{ item }}\"\n     regexp: '^dockremap'\n     line: 'dockremap:500000:65536'\n-  become: yes\n   with_items:\n     - /etc/subuid\n     - /etc/subgid\n@@ -39,21 +39,21 @@\n         docker_bug_usermod|bool == true)\n \n - name: Ensure thin-provisioning-tools is installed when devicemapper is used (Ubuntu)\n+  become: true\n   package:\n     name: thin-provisioning-tools\n     state: present\n-  become: yes\n   when: (_docker_os_dist == \"Ubuntu\" or _docker_os_dist == \"Debian\") and\n         docker_daemon_config['storage-driver'] is defined and\n         docker_daemon_config['storage-driver'] == 'devicemapper'\n \n - name: Enable Docker service\n+  become: true\n   service:\n     name: docker\n     enabled: yes\n   notify: restart docker\n   register: docker_service\n-  become: yes\n \n - name: Trigger start/restart of Docker\n   service:"
            },
            {
                "sha": "defb54fb0fd7975e8d05b0e6eda0ed3ccb4ebb1f",
                "filename": "tasks/setup-audit.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 7,
                "changes": 13,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/setup-audit.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/setup-audit.yml",
                "status": "modified",
                "patch": "@@ -1,24 +1,23 @@\n ---\n - name: Ensure auditd is installed\n+  become: true\n   package:\n     name: auditd\n     state: present\n-  become: true\n-  when: _docker_os_dist == \"Ubuntu\" or\n-        _docker_os_dist == \"Debian\"\n+  when: docker_enable_audit and (_docker_os_dist == \"Ubuntu\" or _docker_os_dist == \"Debian\")\n \n - name: Copy Docker audit rules\n+  become: yes\n   copy:\n     src: files/etc/audit/rules.d/docker.rules\n     dest: /etc/audit/rules.d/docker.rules\n-  become: yes\n   notify: restart auditd\n-  when: docker_enable_audit | bool\n+  when: docker_enable_audit\n \n - name: Ensure Docker audit rules are removed\n+  become: yes\n   file:\n     path: /etc/audit/rules.d/docker.rules\n     state: absent\n-  become: yes\n   notify: restart auditd\n-  when: not docker_enable_audit | bool\n+  when: not docker_enable_audit"
            },
            {
                "sha": "d2893bcfb3c4cfc0ec7a2b9d4b33496d780c1bf4",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -20,8 +20,8 @@\n # https://wiki.ubuntu.com/SystemdForUpstartUsers\n # Important! systemd is only fully supported in Ubuntu 15.04 and later releases\n - name: Determine usage of systemd\n-  shell: \"ps -p1 | grep systemd 1>/dev/null && echo systemd || echo upstart\"\n   become: true\n+  shell: \"ps -p1 | grep systemd 1>/dev/null && echo systemd || echo upstart\"\n   changed_when: no\n   register: _determine_systemd_usage\n "
            },
            {
                "sha": "0a3d1ef72f190984235d6bd491ac362fe6df630c",
                "filename": "tasks/install-docker.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/install-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2546a8fca283af94be5e80dc6f5141836aca689a/tasks/install-docker.yml",
                "status": "modified",
                "patch": "@@ -5,8 +5,8 @@\n   when: docker_latest_version|bool\n \n - name: Ensure docker-ce is installed\n+  become: true\n   package:\n     name: \"{{ docker_pkg_name }}\"\n     state: \"{{ docker_pkg_state|default('present') }}\"\n-  become: true\n   notify: restart docker"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #67",
        "sha": "8c72df4ecfaa4188202ab0872f4500384ffe5233",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/8c72df4ecfaa4188202ab0872f4500384ffe5233",
        "parents": [
            "8c4af8da901c68ce8c4bdd21c62e08cec5d3c23a"
        ],
        "files": [
            {
                "sha": "38fd3d7d18624a4361694f5d1297ff1106282d4e",
                "filename": "tasks/setup-repository.yml",
                "previous_filename": null,
                "additions": 15,
                "deletions": 3,
                "changes": 18,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/setup-repository.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/setup-repository.yml",
                "status": "modified",
                "patch": "@@ -39,7 +39,8 @@\n   args:\n     warn: false\n   changed_when: false\n-  when: (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version == '14') or (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version == '7')\n+  when: (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version == '14') or (_docker_os_dist == \"Debian\" and\n+    _docker_os_dist_major_version == '7')\n \n - name: Determine channels to be enabled and/or disabled\n   set_fact:\n@@ -52,7 +53,8 @@\n - name: Add Docker CE repository with correct channels (Ubuntu/Debian)\n   become: true\n   apt_repository:\n-    repo: deb [arch=amd64] https://download.docker.com/linux/{{ _docker_os_dist|lower }} {{ _docker_os_dist_release }} {{ _docker_enable_channels | join(\" \") }}\n+    repo: \"deb [arch=amd64] https://download.docker.com/linux/{{ _docker_os_dist|lower }} \\\n+      {{ _docker_os_dist_release }} {{ _docker_enable_channels | join(' ') }}\"\n     state: present\n     filename: 'docker-ce'\n   when: _docker_os_dist == \"Ubuntu\" or\n@@ -88,6 +90,8 @@\n   when: _docker_os_dist == \"CentOS\" or\n         _docker_os_dist == \"Fedora\" or\n         _docker_os_dist == \"RedHat\"\n+  tags:\n+    - skip_ansible_lint\n \n - name: Enable Docker CE repository channels (Fedora/CentOS/RedHat)\n   become: true\n@@ -99,6 +103,8 @@\n   when: _docker_os_dist == \"CentOS\" or\n         _docker_os_dist == \"Fedora\" or\n         _docker_os_dist == \"RedHat\"\n+  tags:\n+    - skip_ansible_lint\n \n # disable rt-beta so we don't get a 403 error retrieving repomd.xml\n - name: Check if rhel-7-server-rt-beta-rpms Repository is enabled (RedHat)\n@@ -113,6 +119,8 @@\n   become: true\n   shell: \"subscription-manager repos --disable=rhel-7-server-rt-beta-rpms\"\n   when: _docker_os_dist == \"RedHat\" and cmd_rhel_rt_beta_repo_enabled.rc == 0\n+  tags:\n+    - skip_ansible_lint\n \n # container-selinux package wants this\n - name: Check if rhel-7-server-extras-rpms Repository is enabled (RedHat)\n@@ -127,10 +135,14 @@\n   become: true\n   shell: \"subscription-manager repos --enable=rhel-7-server-extras-rpms\"\n   when: _docker_os_dist == \"RedHat\" and cmd_rhel_extras_repo_enabled.rc == 1\n+  tags:\n+    - skip_ansible_lint\n \n - name: Update repository cache\n   become: true\n   shell: \"{{ docker_cmd_update_repo_cache[_docker_os_dist] }}\"\n   args:\n     warn: false\n-  changed_when: false\n\\ No newline at end of file\n+  changed_when: false\n+  tags:\n+    - skip_ansible_lint\n\\ No newline at end of file"
            },
            {
                "sha": "b2f928e721d66caebfcddf15dee782843cbee8c5",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8c72df4ecfaa4188202ab0872f4500384ffe5233/meta/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8c72df4ecfaa4188202ab0872f4500384ffe5233/meta/main.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,6 @@\n galaxy_info:\n   author: Bjorn Oscarsson\n+  company: none\n   description: \"Installs and configures Docker Community Edition (CE)\"\n   min_ansible_version: 2.4\n   license: MIT"
            },
            {
                "sha": "9f2d9bd09665de348e60f3c9089351b83c6b6895",
                "filename": "tasks/remove-pre-docker-ce.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 4,
                "changes": 9,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/remove-pre-docker-ce.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/remove-pre-docker-ce.yml",
                "status": "modified",
                "patch": "@@ -7,16 +7,17 @@\n \n - name: Set fact if old Docker installation shall be removed\n   set_fact:\n-    _remove_old_docker: \"{{ docker_remove_pre_ce | bool }} == true and {{ _cmd_docker_version.stdout_lines[0] | search('-ce') }} == false\"\n+    _remove_old_docker: \"{{ docker_remove_pre_ce | bool }} and not \\\n+      {{ _cmd_docker_version.stdout_lines[0] | search('-ce') }}\"\n   when: _cmd_docker_version.stdout_lines is defined and _cmd_docker_version.stdout_lines[0] is defined\n \n - name: Check if Docker is running\n   become: true\n-  command: systemctl status docker\n+  systemd:\n+    name: docker\n   ignore_errors: yes\n-  changed_when: false\n   register: _service_docker_status\n-  when: _remove_old_docker | default(False) | bool == true\n+  when: _remove_old_docker | default(False) | bool\n \n - name: Stop Docker service\n   service:"
            },
            {
                "sha": "79908bc1b9ecbed3c05c60f6b5301e51ecf6dedd",
                "filename": "tasks/bug-tweaks.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 4,
                "changes": 11,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/bug-tweaks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/bug-tweaks.yml",
                "status": "modified",
                "patch": "@@ -22,9 +22,10 @@\n       state: absent\n     notify: restart docker\n \n-  - name: Set systemd service MountFlags option to \"slave\" to prevent \"device busy\" errors on CentOS/RedHat 7.3 kernels (CentOS/RedHat)\n+  - name: Set MountFlags option to \"slave\" to prevent \"device busy\" errors on CentOS/RedHat 7.3 kernels (CentOS/RedHat)\n     set_fact:\n-      docker_systemd_service_config_tweaks: \"{{ docker_systemd_service_config_tweaks + _systemd_service_config_tweaks }}\"\n+      docker_systemd_service_config_tweaks: \"{{ docker_systemd_service_config_tweaks + \\\n+        _systemd_service_config_tweaks }}\"\n     vars:\n       _systemd_service_config_tweaks:\n         - 'MountFlags=slave'\n@@ -41,13 +42,15 @@\n       pool:\n         name: thinpool\n         volume_group: docker\n-        physical_volumes: \"{{ docker_daemon_config['storage-opts'] | select('match', '^dm.directlvm_device.+') | list | regex_replace('dm.directlvm_device=\\\\s*(.+)', '\\\\1') }}\"\n+        physical_volumes: \"{{ docker_daemon_config['storage-opts'] | select('match', '^dm.directlvm_device.+') \\\n+          | list | regex_replace('dm.directlvm_device=\\\\s*(.+)', '\\\\1') }}\"\n         metadata_size: \"1%VG\"\n         data_size: \"95%VG\"\n \n   - name: Modify storage-opts to handle problems with thinpool on Debian 8\n     set_fact:\n-      _modified_storage_config: \"{{ (docker_daemon_config['storage-opts'] | difference(_exclusions)) + ['dm.thinpooldev=/dev/mapper/docker-thinpool-tpool'] }}\"\n+      _modified_storage_config: \"{{ (docker_daemon_config['storage-opts'] | difference(_exclusions)) + \\\n+        ['dm.thinpooldev=/dev/mapper/docker-thinpool-tpool'] }}\"\n     vars:\n       _exclusions: \"{{ docker_daemon_config['storage-opts'] | select('match', '^dm.directlvm_device.+') | list }}\"\n "
            },
            {
                "sha": "af9c1c69700f43807fecab908888acb61b8a503e",
                "filename": "tasks/lvm-thinpool.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/lvm-thinpool.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/lvm-thinpool.yml",
                "status": "modified",
                "patch": "@@ -45,4 +45,6 @@\n         -c 512K\n         --thinpool \"{{ pool.volume_group }}/{{ pool.name }}\"\n         --poolmetadata \"{{ pool.volume_group }}/{{ pool.name }}meta\"\n-  when: _datavolume_created | changed\n\\ No newline at end of file\n+  when: _datavolume_created | changed\n+  tags:\n+    - skip_ansible_lint\n\\ No newline at end of file"
            },
            {
                "sha": "3360993201a4c5573dfda8be865e613dfd343915",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 2,
                "changes": 10,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8c72df4ecfaa4188202ab0872f4500384ffe5233/handlers/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8c72df4ecfaa4188202ab0872f4500384ffe5233/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -2,16 +2,22 @@\n # handlers file for ansible-role-docker-ce\n \n - name: restart docker\n+  become: yes\n   service:\n     name: docker\n     state: restarted\n-  become: yes\n+  tags: [\"install\", \"configure\"]\n+\n+- name: reload docker\n+  become: true\n+  systemd:\n+    daemon_reload: yes\n   tags: [\"install\", \"configure\"]\n \n # Workaround because systemd cannot be used: https://github.com/ansible/ansible/issues/22171\n - name: restart auditd\n+  become: yes\n   command: service auditd restart\n   args:\n     warn: no\n-  become: yes\n   tags: [\"install\", \"configure\"]"
            },
            {
                "sha": "88aef399bfc4458fff8b8cbe2df85df2ea9c4ac1",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -26,7 +26,7 @@\n   check_mode: no\n   register: _determine_systemd_usage\n \n-- name: Set fact to indicate systemd is not used\n+- name: Set fact to indicate systemd is used or not\n   set_fact:\n     _docker_systemd_used: \"{{ _determine_systemd_usage is defined and _determine_systemd_usage.stdout == 'systemd' }}\"\n \n@@ -35,7 +35,7 @@\n     docker_channel: edge\n   when:\n     - docker_enable_ce_edge is defined\n-    - docker_enable_ce_edge == true\n+    - docker_enable_ce_edge\n \n - name: Compatibility and distribution checks\n   include_tasks: checks.yml\n@@ -69,7 +69,7 @@\n \n - name: Configure non-systemd service\n   include_tasks: configure-non-systemd.yml\n-  when: _docker_systemd_used | bool == false\n+  when: _docker_systemd_used | bool\n   tags: [\"configure\"]\n \n - name: Configure Docker"
            },
            {
                "sha": "5ce912fb8b7fe41f67104f36263310c8c0b6e2c2",
                "filename": "tasks/postinstall.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 5,
                "changes": 15,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/postinstall.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/postinstall.yml",
                "status": "modified",
                "patch": "@@ -12,19 +12,22 @@\n \n - name: Set facts to install Docker SDK for Python\n   set_fact:\n-    _docker_additional_packages_pip: \"{{ _docker_additional_packages_pip + docker_predefined_packages_pip[_docker_os_dist]['sdk'] }}\"\n+    _docker_additional_packages_pip: \"{{ _docker_additional_packages_pip + \\\n+      docker_predefined_packages_pip[_docker_os_dist]['sdk'] }}\"\n   when:\n     - docker_sdk\n \n - name: Set facts to install Docker Compose\n   set_fact:\n-    _docker_additional_packages_pip: \"{{ _docker_additional_packages_pip + docker_predefined_packages_pip[_docker_os_dist]['compose'] }}\"\n+    _docker_additional_packages_pip: \"{{ _docker_additional_packages_pip + \\\n+      docker_predefined_packages_pip[_docker_os_dist]['compose'] }}\"\n   when:\n     - docker_compose\n \n - name: Set facts to install Docker Stack dependencies ('docker_stack')\n   set_fact:\n-    _docker_additional_packages_pip: \"{{ _docker_additional_packages_pip + docker_predefined_packages_pip[_docker_os_dist]['stack'] }}\"\n+    _docker_additional_packages_pip: \"{{ _docker_additional_packages_pip + \\\n+      docker_predefined_packages_pip[_docker_os_dist]['stack'] }}\"\n   when:\n     - docker_stack\n \n@@ -83,8 +86,10 @@\n - name: Install docker-compose (Linux)\n   become: true\n   get_url:\n-    url: \"https://github.com/docker/compose/releases/download/{{ _github_docker_compose.json.tag_name }}/docker-compose-{{ ansible_system }}-{{ ansible_architecture }}\"\n-    checksum: \"sha256:https://github.com/docker/compose/releases/download/{{ _github_docker_compose.json.tag_name }}/docker-compose-{{ ansible_system }}-{{ ansible_architecture }}.sha256\"\n+    url: \"https://github.com/docker/compose/releases/download/{{ _github_docker_compose.json.tag_name }}/\\\n+      docker-compose-{{ ansible_system }}-{{ ansible_architecture }}\"\n+    checksum: \"sha256:https://github.com/docker/compose/releases/download/{{ _github_docker_compose.json.tag_name }}/\\\n+      docker-compose-{{ ansible_system }}-{{ ansible_architecture }}.sha256\"\n     dest: /usr/local/bin/docker-compose\n     mode: 0755\n   when:"
            },
            {
                "sha": "0e9045144bca23543912b9a3557fdd5f9c9ba165",
                "filename": "tasks/configure-systemd.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 8,
                "changes": 8,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/configure-systemd.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/configure-systemd.yml",
                "status": "modified",
                "patch": "@@ -15,7 +15,6 @@\n     src: drop-ins/default.conf.j2\n     dest: /etc/systemd/system/docker.service.d/default.conf\n   notify: restart docker\n-  register: _systemd_docker_dropin\n   vars:\n     systemd_envs_dir: \"{{ docker_envs_dir[_docker_os_dist] }}\"\n     systemd_service_conf: \"{{ _systemd_service_config }}\"\n@@ -35,10 +34,3 @@\n   notify: restart docker\n   vars:\n     docker_envs: \"{{ docker_service_envs }}\"\n-\n-- name: Force daemon reload of systemd\n-  become: true\n-  systemd:\n-    daemon_reload: yes\n-  notify: restart docker\n-  when: _systemd_docker_dropin|changed\n\\ No newline at end of file"
            },
            {
                "sha": "132889d3222bdac5d6233bcf6d0930cc792b7044",
                "filename": "tasks/configure-docker.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/configure-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8c72df4ecfaa4188202ab0872f4500384ffe5233/tasks/configure-docker.yml",
                "status": "modified",
                "patch": "@@ -36,7 +36,7 @@\n         ((docker_daemon_config is defined and\n         docker_daemon_config['userns-remap'] is defined and\n         docker_daemon_config['userns-remap'] == 'default') or\n-        docker_bug_usermod|bool == true)\n+        docker_bug_usermod | bool)\n \n - name: Ensure Docker users are added to the docker group\n   become: true"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #93: Use include_tasks or import_tasks instead of include and static.",
        "sha": "0c050ee7f22968afdb69da3b859869efea2bfffa",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/0c050ee7f22968afdb69da3b859869efea2bfffa",
        "parents": [
            "669ef8a0840eb58b29fca67110f86c4e2d99eebc"
        ],
        "files": [
            {
                "sha": "402f07b57386df4615209951a6456af37047403f",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/0c050ee7f22968afdb69da3b859869efea2bfffa/meta/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/0c050ee7f22968afdb69da3b859869efea2bfffa/meta/main.yml",
                "status": "modified",
                "patch": "@@ -6,7 +6,7 @@ galaxy_info:\n   description: Apache Solr for Linux.\n   company: \"Midwestern Mac, LLC\"\n   license: \"license (BSD, MIT)\"\n-  min_ansible_version: 2.2\n+  min_ansible_version: 2.4\n   platforms:\n     - name: EL\n       versions:"
            },
            {
                "sha": "e18a6b05b2c9ac26ce3155146f2cc597ce22a23e",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 7,
                "changes": 13,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/0c050ee7f22968afdb69da3b859869efea2bfffa/tasks/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/0c050ee7f22968afdb69da3b859869efea2bfffa/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,5 @@\n ---\n-- include: user.yml\n+- import_tasks: user.yml\n   when: solr_create_user\n \n - name: Set solr_filename for Solr 4+.\n@@ -33,11 +33,11 @@\n   when: solr_download_status.changed\n \n # Install Solr < 5.\n-- include: install-pre5.yml\n+- import_tasks: install-pre5.yml\n   when: \"solr_version.split('.')[0] < '5'\"\n \n # Install Solr 5+.\n-- include: install.yml\n+- import_tasks: install.yml\n   when: \"solr_version.split('.')[0] >= '5'\"\n \n - name: Ensure solr is started and enabled on boot if configured.\n@@ -48,12 +48,11 @@\n   when: solr_service_manage\n \n # Configure solr.\n-- include: configure.yml\n+- import_tasks: configure.yml\n   when: \"solr_version.split('.')[0] >= '5'\"\n \n # Create cores, if any are configured.\n-- include: cores.yml\n+- import_tasks: cores.yml\n   when: \"solr_cores and solr_version.split('.')[0] >= '5'\"\n \n-- include: trim-fat.yml\n-  static: no\n+- include_tasks: trim-fat.yml"
            }
        ]
    },
    {
        "repo": "threatstack/threatstack-ansible",
        "author_id": "MDQ6VXNlcjQ3ODc3MQ==",
        "author_name": "Aleksey Vazhnov",
        "committer_id": "MDQ6VXNlcjQ3ODc3MQ==",
        "committer_name": "Aleksey Vazhnov",
        "committer_email": "vazhnov@yandex.ru",
        "message": "Fixed issue #8 \u00abWrong template src path: templates/config.j2\u00bb",
        "sha": "75580f72159e180dd1e97bbcf5870293a9ee5e36",
        "url": "https://api.github.com/repos/threatstack/threatstack-ansible/commits/75580f72159e180dd1e97bbcf5870293a9ee5e36",
        "parents": [
            "c0a575a4d0d5cd8c461b6388abf28ee3a245fd42"
        ],
        "files": [
            {
                "sha": "ec6906b48a9ef2a0fa72c0c4cfb4fc923e5a863f",
                "filename": "tasks/cloudsight_setup.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/threatstack/threatstack-ansible/blob/75580f72159e180dd1e97bbcf5870293a9ee5e36/tasks/cloudsight_setup.yml",
                "raw_url": "https://github.com/threatstack/threatstack-ansible/raw/75580f72159e180dd1e97bbcf5870293a9ee5e36/tasks/cloudsight_setup.yml",
                "status": "modified",
                "patch": "@@ -6,7 +6,7 @@\n \n - name: Create ThreatStack Config File\n   template:\n-    src: templates/config.j2\n+    src: config.j2\n     dest: \"{{ threatstack_config }}\"\n     owner: root\n     group: root"
            }
        ]
    },
    {
        "repo": "rocknsm/rock",
        "author_id": "MDQ6VXNlcjExOTkzNzUw",
        "author_name": "Johnathon",
        "committer_id": "MDQ6VXNlcjEzMTI0ODA=",
        "committer_name": "Jeff Geiger",
        "committer_email": "jeff.geiger@gmail.com",
        "message": "Fix user creation logic (#483)",
        "sha": "a27180e6941e7e80cf34eb5729aef2f5fb2e6226",
        "url": "https://api.github.com/repos/rocknsm/rock/commits/a27180e6941e7e80cf34eb5729aef2f5fb2e6226",
        "parents": [
            "11051981ef7064c86ca9b70ff9f3e45ea03dced9"
        ],
        "files": [
            {
                "sha": "c33a8164d35acec4392bfda687df660f5fc6f28b",
                "filename": "roles/lighttpd/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/rocknsm/rock/blob/a27180e6941e7e80cf34eb5729aef2f5fb2e6226/roles/lighttpd/tasks/main.yml",
                "raw_url": "https://github.com/rocknsm/rock/raw/a27180e6941e7e80cf34eb5729aef2f5fb2e6226/roles/lighttpd/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -126,4 +126,4 @@\n     - name: Output initial credentials\n       shell: \"echo -e \\\"U: {{ rocknsm_initial_username.stdout }}\\nP: {{ rocknsm_initial_password.stdout }}\\\"\n               > /home/{{ rocknsm_initial_username.stdout }}/KIBANA_CREDS.README\"\n-  when: rocknsm_initial_user_created.stat.exists | bool\n+  when: not rocknsm_initial_user_created.stat.exists | bool"
            }
        ]
    },
    {
        "repo": "openshift/openshift-ansible-contrib",
        "author_id": "MDQ6VXNlcjYzMDY2NzE=",
        "author_name": "Tlacenka",
        "committer_id": "MDQ6VXNlcjI3OTU4MjA=",
        "committer_name": "Bogdan Dobrelya",
        "committer_email": "bdobreli@redhat.com",
        "message": "Fix node label customisation (#679)\n\n* node labels: add checks for custom labels\r\n\r\n- README: add more info about customising labels\r\n- pre_tasks: add checks for label values, set to empty dict if undefined\r\n- group_vars: move labels customisation from OSEv3 to all\r\n\r\n* pre_tasks: tried a new approach to updating variables\r\n\r\n* pre_tasks: variable update fixed\r\n\r\n* pre_tasks: rollback upscaling changes (to be added in upscaling PR)\r\n\r\n* pre_tasks: blank line removed\r\n\r\n* pre_tasks: add check for undefined variable (should not happen though)\r\n\r\n* pre_tasks: be sure to have regions defined",
        "sha": "b017e614db8b5f6345958ffd26c3c42c3ff3ff60",
        "url": "https://api.github.com/repos/openshift/openshift-ansible-contrib/commits/b017e614db8b5f6345958ffd26c3c42c3ff3ff60",
        "parents": [
            "bec0c130c72953d23079c9ba10bfb55faeda0716"
        ],
        "files": [
            {
                "sha": "4d27ae873b233e0c487fb536d6a4fa558cc69949",
                "filename": "playbooks/provisioning/openstack/sample-inventory/group_vars/OSEv3.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 6,
                "changes": 6,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/b017e614db8b5f6345958ffd26c3c42c3ff3ff60/playbooks/provisioning/openstack/sample-inventory/group_vars/OSEv3.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/b017e614db8b5f6345958ffd26c3c42c3ff3ff60/playbooks/provisioning/openstack/sample-inventory/group_vars/OSEv3.yml",
                "status": "modified",
                "patch": "@@ -8,12 +8,6 @@ openshift_master_cluster_method: native\n openshift_master_cluster_hostname: \"{{ groups.lb.0|default(groups.masters.0) }}\"\n openshift_master_cluster_public_hostname: \"{{ groups.lb.0|default(groups.masters.0) }}\"\n \n-#openshift_cluster_node_labels:\n-#  app:\n-#    region: primary\n-#  infra:\n-#    region: infra\n-\n osm_default_node_selector: 'region=primary'\n \n # NOTE(shadower): the hostname check seems to always fail because the"
            },
            {
                "sha": "be29dad16f7aed0d2b0dfa9848a1c055abc2dae1",
                "filename": "playbooks/provisioning/openstack/pre_tasks.yml",
                "previous_filename": null,
                "additions": 16,
                "deletions": 0,
                "changes": 16,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/b017e614db8b5f6345958ffd26c3c42c3ff3ff60/playbooks/provisioning/openstack/pre_tasks.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/b017e614db8b5f6345958ffd26c3c42c3ff3ff60/playbooks/provisioning/openstack/pre_tasks.yml",
                "status": "modified",
                "patch": "@@ -31,3 +31,19 @@\n   delegate_to: localhost\n   when:\n   - openshift_master_default_subdomain is undefined\n+\n+# Check that openshift_cluster_node_labels has regions defined for all groups\n+# NOTE(kpilatov): if node labels are to be enabled for more groups,\n+#                 this check needs to be modified as well\n+- name: Set openshift_cluster_node_labels if undefined (should not happen)\n+  set_fact:\n+    openshift_cluster_node_labels: {'app': {'region': 'primary'}, 'infra': {'region': 'infra'}}\n+  when: openshift_cluster_node_labels is not defined\n+\n+- name: Set openshift_cluster_node_labels for the infra group\n+  set_fact:\n+    openshift_cluster_node_labels: \"{{ openshift_cluster_node_labels | combine({'infra': {'region': 'infra'}}, recursive=True) }}\"\n+\n+- name: Set openshift_cluster_node_labels for the app group\n+  set_fact:\n+    openshift_cluster_node_labels: \"{{ openshift_cluster_node_labels | combine({'app': {'region': 'primary'}}, recursive=True) }}\""
            },
            {
                "sha": "4b077be0a854f676486c86c5a95a68fd25006c95",
                "filename": "playbooks/provisioning/openstack/sample-inventory/group_vars/all.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 0,
                "changes": 9,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/b017e614db8b5f6345958ffd26c3c42c3ff3ff60/playbooks/provisioning/openstack/sample-inventory/group_vars/all.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/b017e614db8b5f6345958ffd26c3c42c3ff3ff60/playbooks/provisioning/openstack/sample-inventory/group_vars/all.yml",
                "status": "modified",
                "patch": "@@ -122,3 +122,12 @@ ansible_user: openshift\n # If you want to use the VM storage instead of Cinder volumes, set this to `true`.\n # NOTE: this is for testing only! Your data will be gone once the VM disappears!\n # ephemeral_volumes: false\n+\n+# # OpenShift node labels\n+# # - in order to customise node labels for app and/or infra group, set the\n+# #   openshift_cluster_node_labels variable\n+#openshift_cluster_node_labels:\n+#  app:\n+#    region: primary\n+#  infra:\n+#    region: infra"
            }
        ]
    },
    {
        "repo": "ahelal/ansible-concourse",
        "author_id": "MDQ6VXNlcjQwNjk0OTU=",
        "author_name": "Adham",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix retire script (#42)\n\n* pause for job to finish\r\n* Makre retire script a non interactive script called by init.d\r\n* Change the default behaviour of init.d script to try to retire script if it failed it kills the worker process.\r\n* Add a retire worker",
        "sha": "6649cc240207345e692ca55ed32b99ac1c1bd11d",
        "url": "https://api.github.com/repos/ahelal/ansible-concourse/commits/6649cc240207345e692ca55ed32b99ac1c1bd11d",
        "parents": [
            "217bf4428f0922b9126b10dd074163b8dfd5eb75"
        ],
        "files": [
            {
                "sha": "fef5dd7da53783b41f6b1039950c3463ef3d7e51",
                "filename": "test/helper_roles/fly/files/simple_success.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/ahelal/ansible-concourse/blob/6649cc240207345e692ca55ed32b99ac1c1bd11d/test/helper_roles/fly/files/simple_success.yml",
                "raw_url": "https://github.com/ahelal/ansible-concourse/raw/6649cc240207345e692ca55ed32b99ac1c1bd11d/test/helper_roles/fly/files/simple_success.yml",
                "status": "modified",
                "patch": "@@ -14,4 +14,5 @@ jobs:\n         args:\n         - -exc\n         - |\n-          exit 0\n\\ No newline at end of file\n+          echo \"I WILL SUCCESSED\"\n+          exit 0"
            },
            {
                "sha": "7324841333b29a907c5fd1c951eba5d301a7a8ce",
                "filename": "test/helper_roles/fly/files/simple_failure.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/ahelal/ansible-concourse/blob/6649cc240207345e692ca55ed32b99ac1c1bd11d/test/helper_roles/fly/files/simple_failure.yml",
                "raw_url": "https://github.com/ahelal/ansible-concourse/raw/6649cc240207345e692ca55ed32b99ac1c1bd11d/test/helper_roles/fly/files/simple_failure.yml",
                "status": "modified",
                "patch": "@@ -14,4 +14,5 @@ jobs:\n         args:\n         - -exc\n         - |\n-          exit 1\n\\ No newline at end of file\n+          echo \"I WILL FAIL\"\n+          exit 1"
            }
        ]
    },
    {
        "repo": "gantsign/ansible-role-oh-my-zsh",
        "author_id": "MDQ6VXNlcjE3OTg0NzA3",
        "author_name": "John Freeman",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fixed corrupted boot console prompt (#16)\n\nBoot console needs to be in UTF-8.\r\n\r\nFix: resolves #15",
        "sha": "20acb99b72fe8e14c30e3e2dfd8f041ad7522c25",
        "url": "https://api.github.com/repos/gantsign/ansible-role-oh-my-zsh/commits/20acb99b72fe8e14c30e3e2dfd8f041ad7522c25",
        "parents": [
            "71cf62339585978b46ba81ef203d66ed9f52c507"
        ],
        "files": [
            {
                "sha": "74341f49c8c02afdaa975bd2fab4388f5f45ca3b",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 31,
                "deletions": 0,
                "changes": 31,
                "blob_url": "https://github.com/gantsign/ansible-role-oh-my-zsh/blob/20acb99b72fe8e14c30e3e2dfd8f041ad7522c25/tasks/main.yml",
                "raw_url": "https://github.com/gantsign/ansible-role-oh-my-zsh/raw/20acb99b72fe8e14c30e3e2dfd8f041ad7522c25/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -48,3 +48,34 @@\n     backup: yes\n     mode: 'u=rw,go=r'\n   with_items: \"{{ users }}\"\n+\n+# This is for the boot console only (i.e. not xterm, ssh or docker).\n+# The oh-my-zsh prompt appears corrupted unless the console is in UTF-8.\n+# If the console-setup file is missing don't create it... assume we're\n+# running in an environment without a boot console (e.g. docker).\n+- name: check if console-setup exists\n+  stat:\n+    path: /etc/default/console-setup\n+  register: console_setup_file\n+\n+- name: install console-setup\n+  become: yes\n+  apt:\n+    name: console-setup\n+    state: present\n+  when: console_setup_file.stat.exists\n+\n+- name: edit console-setup to utf-8\n+  become: yes\n+  lineinfile:\n+    dest: /etc/default/console-setup\n+    regexp: ^CHARMAP=\n+    line: CHARMAP=\"UTF-8\"\n+    state: present\n+  when: console_setup_file.stat.exists\n+  register: console_setup\n+\n+- name: apply console configration\n+  become: yes\n+  command: /usr/sbin/dpkg-reconfigure -f noninteractive console-setup\n+  when: console_setup.changed"
            }
        ]
    },
    {
        "repo": "lae/ansible-role-netbox",
        "author_id": "MDQ6VXNlcjEzMTgwMTM=",
        "author_name": "Musee Ullah",
        "committer_id": "MDQ6VXNlcjEzMTgwMTM=",
        "committer_name": "Musee Ullah",
        "committer_email": "lae@lae.is",
        "message": "Configure MEDIA_ROOT to point to shared directory (fixes #19)",
        "sha": "f958689395b3fc98cacf0c605ed7b8b4b19718da",
        "url": "https://api.github.com/repos/lae/ansible-role-netbox/commits/f958689395b3fc98cacf0c605ed7b8b4b19718da",
        "parents": [
            "323de2d9e686babb9557b49848180eda05834f5c"
        ],
        "files": [
            {
                "sha": "99d09c0fe718eb07c5de1d5d352706235263504a",
                "filename": "tasks/deploy_netbox.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 0,
                "changes": 10,
                "blob_url": "https://github.com/lae/ansible-role-netbox/blob/f958689395b3fc98cacf0c605ed7b8b4b19718da/tasks/deploy_netbox.yml",
                "raw_url": "https://github.com/lae/ansible-role-netbox/raw/f958689395b3fc98cacf0c605ed7b8b4b19718da/tasks/deploy_netbox.yml",
                "status": "modified",
                "patch": "@@ -6,6 +6,7 @@\n   with_items:\n     - \"{{ netbox_releases_path }}\"\n     - \"{{ netbox_shared_path }}\"\n+    - \"{{ netbox_shared_path }}/media/image-attachments\"\n \n - include: \"install_via_{{ 'git' if netbox_git else 'stable' }}.yml\"\n \n@@ -57,6 +58,15 @@\n   notify:\n     - reload netbox.service\n \n+- name: Set MEDIA_ROOT to shared media directory\n+  lineinfile:\n+    path: \"{{ netbox_config_path }}/settings.py\"\n+    regexp: '^MEDIA_ROOT\\s*='\n+    line: 'MEDIA_ROOT = \"{{ netbox_shared_path }}/media/\"'\n+    state: present\n+  notify:\n+    - reload netbox.service\n+\n - name: Run database migrations for NetBox\n   django_manage:\n     command: migrate"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-golang",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fixes #43.",
        "sha": "9ebf5bb8e49abe5d15f2476966da093d73ae5b4b",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-golang/commits/9ebf5bb8e49abe5d15f2476966da093d73ae5b4b",
        "parents": [
            "08c1d1498fb7308fa1e7abd642fd27057d3b7051"
        ],
        "files": [
            {
                "sha": "656491be0afc0aef8969dd61a6d56b7086315ba2",
                "filename": "tasks/setup.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 2,
                "changes": 11,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/9ebf5bb8e49abe5d15f2476966da093d73ae5b4b/tasks/setup.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/9ebf5bb8e49abe5d15f2476966da093d73ae5b4b/tasks/setup.yml",
                "status": "modified",
                "patch": "@@ -13,7 +13,7 @@\n   set_fact:\n     GOARCH: \"amd64\"\n   when:\n-    - ansible_architecture == 'x86_64' or ansible_distribution == 'CentOS' or ansible_distribution == 'Debian' or ansible_distribution == 'Red Hat Enterprise Linux' or ansible_distribution == 'FreeBSD' or ansible_distribution == 'RedHat' or ansible_distribution == 'Ubuntu' or ansible_distribution == 'Ubuntu'\n+    - ansible_architecture == 'x86_64' or ansible_distribution == 'CentOS' or ansible_distribution == 'Debian' or ansible_distribution == 'Red Hat Enterprise Linux' or ansible_distribution == 'RedHat' or ansible_distribution == 'Ubuntu' or ansible_distribution == 'Ubuntu'\n     - GOARCH is not defined\n \n - name: \"Go-Lang | Define GOOS for Darwin systems\"\n@@ -24,11 +24,18 @@\n     - ansible_distribution == 'MacOSX'\n     - GOOS is not defined\n \n+- name: \"Go-Lang | Define GOOS for FreeBSD systems\"\n+  set_fact:\n+    GOOS: \"freebsd\"\n+  when:\n+    - ansible_distribution == 'FreeBSD'\n+    - GOOS is not defined\n+\n - name: \"Go-Lang | Define GOOS for linux systems\"\n   set_fact:\n     GOOS: \"linux\"\n   when:\n-    - ansible_architecture == 'x86_64' or ansible_distribution == 'CentOS' or ansible_distribution == 'Debian' or ansible_distribution == 'Red Hat Enterprise Linux' or ansible_distribution == 'FreeBSD' or ansible_distribution == 'RedHat' or ansible_distribution == 'Ubuntu' or ansible_distribution == 'Ubuntu'\n+    - ansible_architecture == 'x86_64' or ansible_distribution == 'CentOS' or ansible_distribution == 'Debian' or ansible_distribution == 'Red Hat Enterprise Linux' or ansible_distribution == 'RedHat' or ansible_distribution == 'Ubuntu' or ansible_distribution == 'Ubuntu'\n     - GOOS is not defined\n \n - name: \"Go-Lang | Define URL for distribution\""
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjUwNjI4Mw==",
        "author_name": "Daniel Widerin",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #35",
        "sha": "99ca923c69cb1a5af33452a44872dc2ef0a682c5",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/99ca923c69cb1a5af33452a44872dc2ef0a682c5",
        "parents": [
            "96d08490c5883297da11864d5297f02c32c94c63"
        ],
        "files": [
            {
                "sha": "2310e238c7c4863133dece6bbc06b8a64e237955",
                "filename": "tasks/install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/99ca923c69cb1a5af33452a44872dc2ef0a682c5/tasks/install.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/99ca923c69cb1a5af33452a44872dc2ef0a682c5/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -12,7 +12,7 @@\n     -u {{ solr_user }}\n     -s {{ solr_service_name }}\n     -p {{ solr_port }}\n-    creates={{ solr_install_dir }}/solr/bin/solr\n+    creates={{ solr_install_dir }}/{{ solr_service_name }}/bin/solr\n   register: solr_install_script_result\n \n # Workaround for bug https://github.com/ansible/ansible-modules-core/issues/915."
            }
        ]
    },
    {
        "repo": "iiab/iiab",
        "author_id": "MDQ6VXNlcjI0NTg5MDc=",
        "author_name": "A Holt",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #955 from holta/nextcloud-download-wo-cert\n\nTEMP Fixes #954 [download.nextcloud.com's SSL/TLS cert expired 2018-07-22 preventing MEDIUM+BIG IIAB installs]",
        "sha": "e81d4a6c8b579efb8fbd0e6e69566d1b30270538",
        "url": "https://api.github.com/repos/iiab/iiab/commits/e81d4a6c8b579efb8fbd0e6e69566d1b30270538",
        "parents": [
            "772a200a5ccd3a91eec54fe17ab86086d60269cb",
            "881783dee2bad2dc82aded0089c3eb34a1f65902"
        ],
        "files": [
            {
                "sha": "136bfea1aa88de195524f4815dd0265eaaf0cbc3",
                "filename": "roles/nextcloud/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/iiab/iiab/blob/e81d4a6c8b579efb8fbd0e6e69566d1b30270538/roles/nextcloud/tasks/main.yml",
                "raw_url": "https://github.com/iiab/iiab/raw/e81d4a6c8b579efb8fbd0e6e69566d1b30270538/roles/nextcloud/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -18,6 +18,7 @@\n     url: \"{{ nextcloud_dl_url }}/{{ nextcloud_orig_src_file }}\"\n     dest: \"{{ downloads_dir }}/{{ nextcloud_src_file }}\"\n     force: yes\n+    validate_certs: False    # TEMPORARY ON/AFTER 2018-07-22 AS download.nextcloud.com CERT EXPIRED: https://github.com/iiab/iiab/issues/954\n     timeout: \"{{ download_timeout }}\"\n   when: internet_available and nextcloud_force_install\n   async: 900"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-golang",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fixes #37: Add tasks to attempt to detect x86 architectures.",
        "sha": "15ee53e5168eb2d7834c22121500ae874b71fb86",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-golang/commits/15ee53e5168eb2d7834c22121500ae874b71fb86",
        "parents": [
            "218cdc58f9fe9d7ece7d43e5f100fe9631fde5cc"
        ],
        "files": [
            {
                "sha": "4cb01720de458aafd22237f483026e06bee104c2",
                "filename": "tasks/setup.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 1,
                "changes": 9,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/15ee53e5168eb2d7834c22121500ae874b71fb86/tasks/setup.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/15ee53e5168eb2d7834c22121500ae874b71fb86/tasks/setup.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,14 @@\n \n # Define system-specific variables for fubarhouse.golang.\n \n-- name: \"Go-Lang | Define GOARCH for amd64 systems\"\n+- name: \"Go-Lang | Define GOARCH for 32-bit systems\"\n+  set_fact:\n+    GOARCH: \"386\"\n+  when:\n+    - 'i386' in ansible_architecture\n+    - GOARCH is not defined\n+\n+- name: \"Go-Lang | Define GOARCH for 64-bit systems\"\n   set_fact:\n     GOARCH: \"amd64\"\n   when:"
            }
        ]
    },
    {
        "repo": "sensu/sensu-ansible",
        "author_id": "MDQ6VXNlcjEzMzM0OTc0",
        "author_name": "ttic-admin",
        "committer_id": "MDQ6VXNlcjExOTAyNDc2",
        "committer_name": "Stephen Muth",
        "committer_email": "smuth4@users.noreply.github.com",
        "message": "fixed unarchive (#25)",
        "sha": "64f24862e74ee4db9efca3941a8f526e2b308af5",
        "url": "https://api.github.com/repos/sensu/sensu-ansible/commits/64f24862e74ee4db9efca3941a8f526e2b308af5",
        "parents": [
            "6d51642c8f7babe4c8185b60872420333a5d3caa"
        ],
        "files": [
            {
                "sha": "751e7d8f0bdbf227e3db20f37cc66fb2e72c7d8f",
                "filename": "tasks/ssl_generate.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 6,
                "changes": 8,
                "blob_url": "https://github.com/sensu/sensu-ansible/blob/64f24862e74ee4db9efca3941a8f526e2b308af5/tasks/ssl_generate.yml",
                "raw_url": "https://github.com/sensu/sensu-ansible/raw/64f24862e74ee4db9efca3941a8f526e2b308af5/tasks/ssl_generate.yml",
                "status": "modified",
                "patch": "@@ -21,17 +21,13 @@\n \n   - block:\n \n-    - name: Fetch the ssl_certs tarball from sensuapp.org\n-      get_url:\n-        url: http://sensuapp.org/docs/{{ sensu_ssl_tool_version }}/files/sensu_ssl_tool.tar\n-        dest: \"{{ sensu_config_path }}/ssl_generation/sensu_ssl_tool.tar\"\n-\n     - name: Untar the ssl_certs tarball from sensuapp.org\n       unarchive:\n       args:\n-        src: \"{{ sensu_config_path }}/ssl_generation/sensu_ssl_tool.tar\"\n+        src: http://sensuapp.org/docs/{{ sensu_ssl_tool_version }}/files/sensu_ssl_tool.tar\n         dest: \"{{ sensu_config_path }}/ssl_generation/\"\n         creates: \"{{ sensu_config_path }}/ssl_generation/sensu_ssl_tool\"\n+        copy: no\n \n     - name: Generate SSL certs\n       command: \"_ {{ sensu_config_path }}/ssl_generation/sensu_ssl_tool/ssl_certs.sh generate\""
            }
        ]
    },
    {
        "repo": "rhevm-qe-automation/ovirt-ansible",
        "author_id": "MDQ6VXNlcjE1MDU2ODQ=",
        "author_name": "Lukas Bednar",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix warnings regarding to when statements (#110)\n\nSince ansible 2.3 there are new warnings about wrong when statements.\r\nThis commit fixes them.",
        "sha": "406f5e0147bdbca391bee5d397c4f336108486df",
        "url": "https://api.github.com/repos/rhevm-qe-automation/ovirt-ansible/commits/406f5e0147bdbca391bee5d397c4f336108486df",
        "parents": [
            "3331ceddd3788b3f43d1f6c7ab4ff27d68ceb2c2"
        ],
        "files": [
            {
                "sha": "4f867a135244478feb97e2e12501e812a322b063",
                "filename": "roles/ovirt-common/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 3,
                "changes": 5,
                "blob_url": "https://github.com/rhevm-qe-automation/ovirt-ansible/blob/406f5e0147bdbca391bee5d397c4f336108486df/roles/ovirt-common/tasks/main.yml",
                "raw_url": "https://github.com/rhevm-qe-automation/ovirt-ansible/raw/406f5e0147bdbca391bee5d397c4f336108486df/roles/ovirt-common/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -4,8 +4,7 @@\n   fail:\n     msg: \"At least one of: 'ovirt_repo_file', 'ovirt_rpm_repo' or 'ovirt_repo'\n       must be specified. More information in the README\"\n-  when: \"{{ not (ovirt_repo_file or ovirt_rpm_repo is defined or ovirt_repo)\n-    }}\"\n+  when: not (ovirt_repo_file or ovirt_rpm_repo is defined or ovirt_repo)\n \n # install libselinux-python on machine - selinux policy\n - name: install libselinux-python for ansible\n@@ -39,7 +38,7 @@\n   yum:\n     name: \"{{ ovirt_rpm_repo }}\"\n     state: present\n-  when: \"{{ ovirt_rpm_repo is defined }}\"\n+  when: ovirt_rpm_repo is defined\n \n # 3) create repository files\n - name: create repository files"
            },
            {
                "sha": "3cf97c6bfb58f52a53b407f2ce325122277d8395",
                "filename": "roles/ovirt-engine-setup/tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/rhevm-qe-automation/ovirt-ansible/blob/406f5e0147bdbca391bee5d397c4f336108486df/roles/ovirt-engine-setup/tasks/main.yml",
                "raw_url": "https://github.com/rhevm-qe-automation/ovirt-ansible/raw/406f5e0147bdbca391bee5d397c4f336108486df/roles/ovirt-engine-setup/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -18,7 +18,7 @@\n     mode: 0644\n     owner: root\n     group: root\n-  when: \"{{ ovirt_engine_answer_file_path is undefined }}\"\n+  when: ovirt_engine_answer_file_path is undefined\n \n # copy custom answer file\n - name: copy custom answer file\n@@ -28,7 +28,7 @@\n     mode: 0644\n     owner: root\n     group: root\n-  when: \"{{ ovirt_engine_answer_file_path is defined }}\"\n+  when: ovirt_engine_answer_file_path is defined\n \n - name: run engine-setup with answerfile\n   shell: 'engine-setup --config-append=/tmp/answerfile.txt'\n@@ -39,13 +39,13 @@\n - name: check state of database\n   service:\n     name: postgresql\n-    state: running\n+    state: started\n   when: (ovirt_engine_dwh_db_host == 'localhost' and ovirt_engine_dwh == True) or ovirt_engine_db_host == 'localhost'\n \n - name: check state of engine\n   service:\n     name: ovirt-engine\n-    state: running\n+    state: started\n \n - name: restart of ovirt-engine service\n   service:"
            },
            {
                "sha": "73b94aaa06129bd76f3ca7971628ec29053d658d",
                "filename": "roles/ovirt-engine-remote-db/tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/rhevm-qe-automation/ovirt-ansible/blob/406f5e0147bdbca391bee5d397c4f336108486df/roles/ovirt-engine-remote-db/tasks/main.yml",
                "raw_url": "https://github.com/rhevm-qe-automation/ovirt-ansible/raw/406f5e0147bdbca391bee5d397c4f336108486df/roles/ovirt-engine-remote-db/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -5,7 +5,7 @@\n - name: check PostgreSQL service\n   service:\n     name: postgresql\n-    state: running\n+    state: started\n   register: postgresql_status\n   ignore_errors: True\n \n@@ -125,7 +125,7 @@\n - name: check iptables service\n   service:\n     name: iptables\n-    state: running\n+    state: started\n   register: iptables_status\n   when: postgresql_status|failed\n   ignore_errors: True\n@@ -145,7 +145,7 @@\n - name: check firewalld service\n   service:\n     name: firewalld\n-    state: running\n+    state: started\n   register: firewalld_status\n   when: postgresql_status|failed\n   ignore_errors: True"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #76",
        "sha": "fa9e89f81fa0afc0c182af06aca1e3ce16f28e23",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23",
        "parents": [
            "71dae01c79c1ff089e7279a54b4642fef92db820"
        ],
        "files": [
            {
                "sha": "ea43181c3cbef322147ad703a1389d78fa6f2b48",
                "filename": "tasks/configure-docker/configure-non-systemd.yml",
                "previous_filename": "tasks/configure-non-systemd.yml",
                "additions": 0,
                "deletions": 0,
                "changes": 0,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/configure-docker/configure-non-systemd.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/configure-docker/configure-non-systemd.yml",
                "status": "renamed",
                "patch": null
            },
            {
                "sha": "288ca2e6d5e5e91b05c6642fc580d3933b8a09e7",
                "filename": "tasks/checks.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/checks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/checks.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,6 @@\n ---\n-- include_tasks: distribution-checks.yml\n+- include_tasks: checks/distribution-checks.yml\n   when:\n     _docker_os_dist_check | bool\n \n-- include_tasks: compatibility-checks.yml\n+- include_tasks: checks/compatibility-checks.yml"
            },
            {
                "sha": "6a2e411f2b901ee4195c98dbc0be9e9b865311cd",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 23,
                "changes": 23,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -22,19 +22,6 @@\n     docker_systemd_service_config_tweaks: []\n     docker_service_envs: {}\n \n-# https://wiki.ubuntu.com/SystemdForUpstartUsers\n-# Important! systemd is only fully supported in Ubuntu 15.04 and later releases\n-- name: Determine usage of systemd\n-  become: true\n-  shell: \"ps -p1 | grep systemd 1>/dev/null && echo systemd || echo upstart\"\n-  changed_when: no\n-  check_mode: no\n-  register: _determine_systemd_usage\n-\n-- name: Set fact to indicate systemd is used or not\n-  set_fact:\n-    _docker_systemd_used: \"{{ _determine_systemd_usage is defined and _determine_systemd_usage.stdout == 'systemd' }}\"\n-\n - name: Temporary handling of deprecated variable docker_enable_ce_edge (#54)\n   set_fact:\n     docker_channel: edge\n@@ -67,16 +54,6 @@\n   include_tasks: bug-tweaks.yml\n   tags: [\"configure\"]\n \n-- name: Configure systemd service\n-  include_tasks: configure-systemd.yml\n-  when: _docker_systemd_used | bool\n-  tags: [\"configure\"]\n-\n-- name: Configure non-systemd service\n-  include_tasks: configure-non-systemd.yml\n-  when: not _docker_systemd_used | bool\n-  tags: [\"configure\"]\n-\n - name: Configure Docker\n   include_tasks: configure-docker.yml\n   tags: [\"configure\"]"
            },
            {
                "sha": "c2d8c7433623060ed107702d6f41acd8286ad892",
                "filename": "tasks/configure-docker/configure-systemd.yml",
                "previous_filename": "tasks/configure-systemd.yml",
                "additions": 0,
                "deletions": 0,
                "changes": 0,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/configure-docker/configure-systemd.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/configure-docker/configure-systemd.yml",
                "status": "renamed",
                "patch": null
            },
            {
                "sha": "5f0fe561dbd24edd1600aab9c8420742a6dad9e9",
                "filename": "tasks/checks/compatibility-checks.yml",
                "previous_filename": "tasks/compatibility-checks.yml",
                "additions": 0,
                "deletions": 0,
                "changes": 0,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/checks/compatibility-checks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/checks/compatibility-checks.yml",
                "status": "renamed",
                "patch": null
            },
            {
                "sha": "2e28616f7378bdc60055d77883dea5513e2dfaf6",
                "filename": "tasks/checks/distribution-checks.yml",
                "previous_filename": "tasks/distribution-checks.yml",
                "additions": 0,
                "deletions": 0,
                "changes": 0,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/checks/distribution-checks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/checks/distribution-checks.yml",
                "status": "renamed",
                "patch": null
            },
            {
                "sha": "daab84b3ab7dbe12286bde92db2fb0ff7ba1c24c",
                "filename": "tasks/configure-docker.yml",
                "previous_filename": null,
                "additions": 21,
                "deletions": 0,
                "changes": 21,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/configure-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/configure-docker.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,25 @@\n ---\n+# https://wiki.ubuntu.com/SystemdForUpstartUsers\n+# Important! systemd is only fully supported in Ubuntu 15.04 and later releases\n+- name: Determine usage of systemd\n+  become: true\n+  shell: \"ps -p1 | grep systemd 1>/dev/null && echo systemd || echo upstart\"\n+  changed_when: no\n+  check_mode: no\n+  register: _determine_systemd_usage\n+\n+- name: Set fact to indicate systemd is used or not\n+  set_fact:\n+    _docker_systemd_used: \"{{ _determine_systemd_usage is defined and _determine_systemd_usage.stdout == 'systemd' }}\"\n+\n+- name: Configure systemd service\n+  include_tasks: configure-docker/configure-systemd.yml\n+  when: _docker_systemd_used | bool\n+\n+- name: Configure non-systemd service\n+  include_tasks: configure-docker/configure-non-systemd.yml\n+  when: not _docker_systemd_used | bool\n+\n - name: Ensure /etc/docker directory exists\n   become: true\n   file:"
            },
            {
                "sha": "32e7ca262c90a7c700f6d81bad1456756d151a76",
                "filename": "tasks/bug-tweaks.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 61,
                "changes": 64,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/bug-tweaks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/fa9e89f81fa0afc0c182af06aca1e3ce16f28e23/tasks/bug-tweaks.yml",
                "status": "modified",
                "patch": "@@ -1,69 +1,11 @@\n-- name: Configuration to avoid 'Device or resource busy'\n-  block:\n-  - name: Stat /proc/sys/fs/may_detach_mounts (CentOS/RedHat)\n-    stat:\n-      path: /proc/sys/fs/may_detach_mounts\n-    register: may_detach_mounts\n-    check_mode: no\n-\n-  - name: Ensure fs.may_detach_mounts is set to avoid 'Device or resource busy' (CentOS/RedHat)\n-    become: true\n-    sysctl:\n-      name: fs.may_detach_mounts\n-      value: 1\n-      sysctl_file: /etc/sysctl.d/99-docker.conf\n-      reload: yes\n-    when: may_detach_mounts.stat.exists\n-\n-  # Keep for compatibility reasons of this role. Now everything is in the same file.\n-  - name: Remove systemd drop-in for Docker Mount Flags slave configuration (CentOS/RedHat)\n-    become: true\n-    file:\n-      path: /etc/systemd/system/docker.service.d/mountflags-slave.conf\n-      state: absent\n-    notify: restart docker\n-\n-  - name: Set MountFlags option to \"slave\" to prevent \"device busy\" errors on CentOS/RedHat 7.3 kernels (CentOS/RedHat)\n-    set_fact:\n-      docker_systemd_service_config_tweaks: \"{{ docker_systemd_service_config_tweaks + \\\n-        _systemd_service_config_tweaks }}\"\n-    vars:\n-      _systemd_service_config_tweaks:\n-        - 'MountFlags=slave'\n+- name: Configuration to avoid 'Device or resource busy' (CentOS/RedHat)\n+  include_tasks: bug-tweaks/bug-centos7-resource-busy.yml\n   when:\n     - _docker_os_dist == \"CentOS\" or _docker_os_dist == \"RedHat\"\n-    - docker_enable_mount_flag_fix | bool\n     - ansible_kernel | version_compare('4', '<')\n \n - name: Best effort handling to directlvm for Debian 8 to get uniform behavior across distributions\n-  block:\n-  - name: Create LVM thinpool for Docker according to Docker documentation\n-    include_tasks: lvm-thinpool.yml\n-    vars:\n-      pool:\n-        name: thinpool\n-        volume_group: docker\n-        physical_volumes: \"{{ docker_daemon_config['storage-opts'] | select('match', '^dm.directlvm_device.+') \\\n-          | list | regex_replace('dm.directlvm_device=\\\\s*(.+)', '\\\\1') }}\"\n-        metadata_size: \"1%VG\"\n-        data_size: \"95%VG\"\n-\n-  - name: Modify storage-opts to handle problems with thinpool on Debian 8\n-    set_fact:\n-      _modified_storage_config: \"{{ (docker_daemon_config['storage-opts'] | difference(_exclusions)) + \\\n-        ['dm.thinpooldev=/dev/mapper/docker-thinpool-tpool'] }}\"\n-    vars:\n-      _exclusions: \"{{ docker_daemon_config['storage-opts'] | select('match', '^dm.directlvm_device.+') | list }}\"\n-\n-  - name: Update Docker daemon configuration to handle consistency between distributions\n-    set_fact:\n-      docker_daemon_config: \"{{ docker_daemon_config | combine(_updated_item, recursive=true) }}\"\n-    vars:\n-      _updated_item: \"{ 'storage-opts': {{ _modified_storage_config }} }\"\n-\n-  - name: Updated Docker daemon configuration\n-    debug:\n-      var: docker_daemon_config\n+  include_tasks: bug-tweaks/tweak-debian8-directlvm.yml\n   when:\n     - _docker_os_dist == \"Debian\"\n     - _docker_os_dist_major_version == '8'"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix #60\n\n- Add dedicated tests for separate partitions\n- Beware that partitions may be mounted differently, such as systemd\n  handling /tmp",
        "sha": "171ec49fe7ca7352d0a35c39529ec28ce947bfb2",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/171ec49fe7ca7352d0a35c39529ec28ce947bfb2",
        "parents": [
            "1bb50a6149f6ff7f2e6399411418d088e2c52d01"
        ],
        "files": [
            {
                "sha": "7c1e87f87eb24da142c0d556bf5fa905c1014b76",
                "filename": "tasks/section_02_level1.yml",
                "previous_filename": null,
                "additions": 28,
                "deletions": 6,
                "changes": 34,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/171ec49fe7ca7352d0a35c39529ec28ce947bfb2/tasks/section_02_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/171ec49fe7ca7352d0a35c39529ec28ce947bfb2/tasks/section_02_level1.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,11 @@\n ---\n \n   - name: 2.1 Create Separate Partition for /tmp (Scored)\n-    debug: msg=\"/!\\ Ensure there is a separate partition dedicated to /tmp\"\n+    command: grep '\\s/tmp\\s' /etc/fstab\n+    register: tmp_partition\n+    failed_when: tmp_partition.rc == 1\n+    changed_when: tmp_partition.rc == 1\n+    ignore_errors: True\n     tags:\n       - section2\n       - section2.1\n@@ -16,7 +20,11 @@\n       - section2.4\n \n   - name: 2.5 Create Separate Partition for /var (Scored)\n-    debug: msg=\"/!\\ Ensure there is a separate partition dedicated to /var\"\n+    command: grep '\\s/var\\s' /etc/fstab\n+    register: var_partition\n+    failed_when: var_partition.rc == 1\n+    changed_when: var_partition.rc == 1\n+    ignore_errors: True\n     tags:\n       - section2\n       - section2.5\n@@ -29,19 +37,31 @@\n       - section2.6\n \n   - name: 2.7 Create Separate Partition for /var/log (Scored)\n-    debug: msg=\"/!\\ Ensure there is a separate partition dedicated to /var/log\"\n+    command: grep '\\s/var\\/log\\s' /etc/fstab\n+    register: var_log_partition\n+    failed_when: var_log_partition.rc == 1\n+    changed_when: var_log_partition.rc == 1\n+    ignore_errors: True\n     tags:\n       - section2\n       - section2.7\n \n   - name: 2.8 Create Separate Partition for /var/log/audit (Scored)\n-    debug: msg=\"/!\\ Ensure there is a separate partition dedicated to /var/log/audit\"\n+    command: grep '\\s/var\\/log\\/audit\\s' /etc/fstab\n+    register: var_log_audit_partition\n+    failed_when: var_log_audit_partition.rc == 1\n+    changed_when: var_log_audit_partition.rc == 1\n+    ignore_errors: True\n     tags:\n       - section2\n       - section2.8\n \n   - name: 2.9 Create Separate Partition for /home (Scored)\n-    debug: msg=\"/!\\ Ensure there is a separate partition dedicated to /home\"\n+    command: grep '\\s/home\\s' /etc/fstab\n+    register: home_partition\n+    failed_when: home_partition.rc == 1\n+    changed_when: home_partition.rc == 1\n+    ignore_errors: True\n     tags:\n       - section2\n       - section2.9\n@@ -92,7 +112,9 @@\n       - section2.17.1\n \n   - name: 2.17.2 Set Sticky Bit on All World-Writable Directories (Scored)\n-    file: path='{{ item }}' mode=\"a+t\"\n+    file:\n+        path: \"{{ item }}\"\n+        mode: \"a+t\"\n     with_items: sticky_bit_dirs.stdout_lines\n     tags:\n       - section2"
            }
        ]
    },
    {
        "repo": "iiab/iiab",
        "author_id": "MDQ6VXNlcjI0NTg5MDc=",
        "author_name": "A Holt",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #637 from holta/master\n\nkiwix-tools 2017-12-01 -> 2017-12-27\r\n\r\ncloses #633",
        "sha": "3f8c43898c8ce59324dc5bb4f3343f989af7d4f1",
        "url": "https://api.github.com/repos/iiab/iiab/commits/3f8c43898c8ce59324dc5bb4f3343f989af7d4f1",
        "parents": [
            "d3607dfc7e7514215b1c415203dbf29550fe229b",
            "014c1b9f761fb36a78557a0289cef35cf7610747"
        ],
        "files": [
            {
                "sha": "599ddeec3095f6f05c623c34e94970cce8d998a6",
                "filename": "roles/kiwix/defaults/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/iiab/iiab/blob/3f8c43898c8ce59324dc5bb4f3343f989af7d4f1/roles/kiwix/defaults/main.yml",
                "raw_url": "https://github.com/iiab/iiab/raw/3f8c43898c8ce59324dc5bb4f3343f989af7d4f1/roles/kiwix/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,6 @@\n # Which kiwix-tools to download from http://download.iiab.io/packages/ (origin: http://download.kiwix.org/nightly/)\n-kiwix_src_file_armhf: \"kiwix-tools_armhf_2017-12-01.tar.gz\"\n-kiwix_src_file_linux64: \"kiwix_tools_linux64_2017-12-01.tar.gz\"\n+kiwix_src_file_armhf: \"kiwix-tools_armhf_2017-12-27.tar.gz\"\n+kiwix_src_file_linux64: \"kiwix-tools_linux64_2017-12-27.tar.gz\"\n kiwix_src_file_i686: \"kiwix-0.10-linux-i686.tar.bz2\"   # Published Oct 2016 (\"experimental\")\n # kiwix_src_file_i686: \"kiwix-linux-i686.tar.bz2\"      # Published May 2014 (\"use v0.9 to test legacy ZIM content\")\n # KIWIX FOR i686 SHOULD BE REPLACED BEFORE FEB 2018: https://github.com/kiwix/kiwix-build/issues/94"
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjEwMjA0OTE=",
        "author_name": "Vinny Valdez",
        "committer_id": "MDQ6VXNlcjEwMjA0OTE=",
        "committer_name": "Vinny Valdez",
        "committer_email": "vvaldez@redhat.com",
        "message": "Fixes Issue #163 if rhsm_password is not defined",
        "sha": "9d350591ac73ffb0a9c82164caa2ade43a2a976d",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/9d350591ac73ffb0a9c82164caa2ade43a2a976d",
        "parents": [
            "e111355b6bee5b51b24d3888c77146f31e27b37f"
        ],
        "files": [
            {
                "sha": "b21356cf260d287dc4abe5801e49f9409c50ace5",
                "filename": "roles/subscription-manager/pre_tasks/pre_tasks.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 5,
                "changes": 6,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/9d350591ac73ffb0a9c82164caa2ade43a2a976d/roles/subscription-manager/pre_tasks/pre_tasks.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/9d350591ac73ffb0a9c82164caa2ade43a2a976d/roles/subscription-manager/pre_tasks/pre_tasks.yml",
                "status": "modified",
                "patch": "@@ -1,12 +1,8 @@\n ---\n - name: \"Set password fact\"\n   set_fact:\n-    rhsm_password: \"{{ rhsm_password }}\"\n+    rhsm_password: \"{{ rhsm_password | default(None) }}\"\n   no_log: true\n-  when:\n-    - rhsm_password is defined\n-    - rhsm_password is not none\n-    - rhsm_password|trim != ''\n \n - name: \"Initialize Subscription Manager fact\"\n   set_fact:"
            }
        ]
    },
    {
        "repo": "dev-sec/ansible-os-hardening",
        "author_id": "MDQ6VXNlcjczMTIyMzY=",
        "author_name": "J.M. Fern\u00e1ndez",
        "committer_id": "MDQ6VXNlcjMxOTg5NjE=",
        "committer_name": "Sebastian Gumprich",
        "committer_email": "rndmh3ro@users.noreply.github.com",
        "message": "Fix #247, cleanup conditions (#248)\n\nSigned-off-by: Jes\u00fas Fern\u00e1ndez <jmfernandez@ticnor.es>",
        "sha": "e674a6d589bf9da486c4fef04c9dd6a3799ad717",
        "url": "https://api.github.com/repos/dev-sec/ansible-os-hardening/commits/e674a6d589bf9da486c4fef04c9dd6a3799ad717",
        "parents": [
            "ce6af914c86406aa7e0cefadb7c6349d866f7c8d"
        ],
        "files": [
            {
                "sha": "1beeac4200238b6f157fe9924cea33abf8ed1226",
                "filename": "tasks/pam.yml",
                "previous_filename": null,
                "additions": 45,
                "deletions": 17,
                "changes": 62,
                "blob_url": "https://github.com/dev-sec/ansible-os-hardening/blob/e674a6d589bf9da486c4fef04c9dd6a3799ad717/tasks/pam.yml",
                "raw_url": "https://github.com/dev-sec/ansible-os-hardening/raw/e674a6d589bf9da486c4fef04c9dd6a3799ad717/tasks/pam.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,7 @@\n ---\n - name: update pam on Debian systems\n   command: 'pam-auth-update --package'\n-  when: ansible_facts.distribution == 'Debian' or ansible_facts.distribution == 'Ubuntu'\n+  when: ansible_facts.distribution in ['Debian', 'Ubuntu']\n   changed_when: False\n   environment:\n     DEBIAN_FRONTEND: noninteractive\n@@ -19,14 +19,18 @@\n   apt:\n     name: '{{ os_packages_pam_cracklib }}'\n     state: 'absent'\n-  when: (ansible_facts.distribution == 'Debian' or ansible_facts.distribution == 'Ubuntu') and os_auth_pam_passwdqc_enable\n+  when:\n+    - ansible_facts.distribution in ['Debian', 'Ubuntu']\n+    - os_auth_pam_passwdqc_enable\n \n - name: install the package for strong password checking\n   apt:\n     name: '{{ os_packages_pam_passwdqc }}'\n     state: 'present'\n     update_cache: 'yes'\n-  when: (ansible_facts.distribution == 'Debian' or ansible_facts.distribution == 'Ubuntu') and os_auth_pam_passwdqc_enable\n+  when:\n+    - ansible_facts.distribution in ['Debian', 'Ubuntu']\n+    - os_auth_pam_passwdqc_enable\n \n - name: configure passwdqc\n   template:\n@@ -35,20 +39,26 @@\n     mode: '0644'\n     owner: 'root'\n     group: 'root'\n-  when: (ansible_facts.distribution == 'Debian' or ansible_facts.distribution == 'Ubuntu') and os_auth_pam_passwdqc_enable\n+  when:\n+    - ansible_facts.distribution in ['Debian', 'Ubuntu']\n+    - os_auth_pam_passwdqc_enable\n \n - name: remove passwdqc\n   apt:\n     name: '{{ os_packages_pam_passwdqc }}'\n     state: 'absent'\n-  when: (ansible_facts.distribution == 'Debian' or ansible_facts.distribution == 'Ubuntu') and not os_auth_pam_passwdqc_enable\n+  when:\n+    - ansible_facts.distribution in ['Debian', 'Ubuntu']\n+    - not os_auth_pam_passwdqc_enable\n \n - name: install tally2\n   apt:\n     name: 'libpam-modules'\n     state: 'present'\n-  when: (ansible_facts.distribution == 'Debian' or ansible_facts.distribution == 'Ubuntu') and\n-        not os_auth_pam_passwdqc_enable and os_auth_retries > 0\n+  when:\n+    - ansible_facts.distribution in ['Debian', 'Ubuntu']\n+    - not os_auth_pam_passwdqc_enable\n+    - os_auth_retries > 0\n \n - name: configure tally2\n   template:\n@@ -57,35 +67,47 @@\n     mode: '0644'\n     owner: 'root'\n     group: 'root'\n-  when: (ansible_facts.distribution == 'Debian' or ansible_facts.distribution == 'Ubuntu') and\n-        not os_auth_pam_passwdqc_enable and os_auth_retries > 0\n+  when:\n+    - ansible_facts.distribution in ['Debian', 'Ubuntu']\n+    - not os_auth_pam_passwdqc_enable\n+    - os_auth_retries > 0\n \n - name: delete tally2 when retries is 0\n   file:\n     path: '{{ tally2_path }}'\n     state: 'absent'\n-  when: (ansible_facts.distribution == 'Debian' or ansible_facts.distribution == 'Ubuntu') and\n-        not os_auth_pam_passwdqc_enable and os_auth_retries == 0\n+  when:\n+    - ansible_facts.distribution in ['Debian', 'Ubuntu']\n+    - not os_auth_pam_passwdqc_enable\n+    - os_auth_retries == 0\n \n - name: remove pam_cracklib, because it does not play nice with passwdqc\n   yum:\n     name: '{{ os_packages_pam_cracklib }}'\n     state: 'absent'\n-  when: (ansible_facts.os_family == 'RedHat' and ansible_facts.distribution_major_version|int is version('7', '<') and not ansible_facts.distribution == 'Amazon')\n-        and os_auth_pam_passwdqc_enable\n+  when:\n+    - ansible_facts.os_family == 'RedHat'\n+    - ansible_facts.distribution_major_version|int is version('7', '<')\n+    - ansible_facts.distribution != 'Amazon'\n+    - os_auth_pam_passwdqc_enable\n \n - name: install the package for strong password checking\n   yum:\n     name: '{{ os_packages_pam_passwdqc }}'\n     state: 'present'\n-  when: (ansible_facts.os_family == 'RedHat' and ansible_facts.distribution_major_version|int is version('7', '<') and not ansible_facts.distribution == 'Amazon')\n-        and os_auth_pam_passwdqc_enable\n+  when:\n+    - ansible_facts.os_family == 'RedHat'\n+    - ansible_facts.distribution_major_version|int is version('7', '<')\n+    - ansible_facts.distribution != 'Amazon'\n+    - os_auth_pam_passwdqc_enable\n \n - name: remove passwdqc\n   yum:\n     name: '{{ os_packages_pam_passwdqc }}'\n     state: 'absent'\n-  when: ansible_facts.os_family == 'RedHat' and not os_auth_pam_passwdqc_enable\n+  when:\n+    - ansible_facts.os_family == 'RedHat'\n+    - not os_auth_pam_passwdqc_enable\n \n - name: configure passwdqc and tally via central system-auth confic\n   template:\n@@ -94,11 +116,17 @@\n     mode: '0640'\n     owner: 'root'\n     group: 'root'\n+  when: ansible_facts.os_family == 'RedHat'\n+\n+- name: Gather package facts\n+  package_facts:\n+    manager: auto\n \n - name: NSA 2.3.3.5 Upgrade Password Hashing Algorithm to SHA-512\n   template:\n-    src: 'etc/rhel_libuser.conf.j2'\n+    src: 'etc/libuser.conf.j2'\n     dest: '/etc/libuser.conf'\n     mode: '0640'\n     owner: 'root'\n     group: 'root'\n+  when: \"'libuser' in ansible_facts.packages\""
            }
        ]
    },
    {
        "repo": "lae/ansible-role-proxmox",
        "author_id": "MDQ6VXNlcjEzMTgwMTM=",
        "author_name": "Musee Ullah",
        "committer_id": "MDQ6VXNlcjEzMTgwMTM=",
        "committer_name": "Musee Ullah",
        "committer_email": "lae@lae.is",
        "message": "Fix deprecation warnings for Ansible 2.6 (#30)\n\nMerge branch 'feature/cleanup_warnings' into develop",
        "sha": "0afc625b515526d3de2b801a4de8884f7f0c3674",
        "url": "https://api.github.com/repos/lae/ansible-role-proxmox/commits/0afc625b515526d3de2b801a4de8884f7f0c3674",
        "parents": [
            "42495cc1c713f98e63e44219607e1a38860b9ee8",
            "a6f535b7d2dc4b7f38057c853c48459bcc412a26"
        ],
        "files": [
            {
                "sha": "1fe504f510e2693b09fd775488cca7e29f02c4a7",
                "filename": "tasks/disable_nmi_watchdog.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 3,
                "changes": 5,
                "blob_url": "https://github.com/lae/ansible-role-proxmox/blob/0afc625b515526d3de2b801a4de8884f7f0c3674/tasks/disable_nmi_watchdog.yml",
                "raw_url": "https://github.com/lae/ansible-role-proxmox/raw/0afc625b515526d3de2b801a4de8884f7f0c3674/tasks/disable_nmi_watchdog.yml",
                "status": "modified",
                "patch": "@@ -12,7 +12,6 @@\n   register: __pve_rmmod_softdog\n \n - block:\n-\n   - name: Stop watchdog-mux\n     service:\n       name: watchdog-mux\n@@ -25,7 +24,7 @@\n       name: softdog\n       state: absent\n \n-  when: __pve_rmmod_softdog|failed\n+  when: __pve_rmmod_softdog is failed\n \n - name: Disable nmi_watchdog via GRUB config\n   lineinfile:\n@@ -38,5 +37,5 @@\n   command: update-grub\n   register: __pve_grub_update\n   failed_when: ('error' in __pve_grub_update.stderr)\n-  when: __pve_grub|changed\n+  when: __pve_grub is changed\n   tags: skiponlxc"
            },
            {
                "sha": "35249bdc7295ef01f8a84b1380043e851dbe94b6",
                "filename": "tasks/kernel_module_cleanup.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lae/ansible-role-proxmox/blob/0afc625b515526d3de2b801a4de8884f7f0c3674/tasks/kernel_module_cleanup.yml",
                "raw_url": "https://github.com/lae/ansible-role-proxmox/raw/0afc625b515526d3de2b801a4de8884f7f0c3674/tasks/kernel_module_cleanup.yml",
                "status": "modified",
                "patch": "@@ -26,7 +26,7 @@\n     command: update-grub\n     register: __pve_grub_update\n     failed_when: ('error' in __pve_grub_update.stderr)\n-    when: __pve_grub|changed\n+    when: __pve_grub is changed\n     tags: skiponlxc\n \n   - name: Remove ipmi_watchdog modprobe configuration"
            },
            {
                "sha": "d8624b862eb046e739d3c3b54c3889705a001ad1",
                "filename": "tasks/ipmi_watchdog.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lae/ansible-role-proxmox/blob/0afc625b515526d3de2b801a4de8884f7f0c3674/tasks/ipmi_watchdog.yml",
                "raw_url": "https://github.com/lae/ansible-role-proxmox/raw/0afc625b515526d3de2b801a4de8884f7f0c3674/tasks/ipmi_watchdog.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,5 @@\n ---\n-- include: disable_nmi_watchdog.yml\n+- import_tasks: disable_nmi_watchdog.yml\n \n - name: Load ipmi_watchdog module\n   modprobe:"
            },
            {
                "sha": "20b1f6ef3bf7ee0905be500387ff7abee3fc5b4e",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 20,
                "deletions": 12,
                "changes": 32,
                "blob_url": "https://github.com/lae/ansible-role-proxmox/blob/0afc625b515526d3de2b801a4de8884f7f0c3674/tasks/main.yml",
                "raw_url": "https://github.com/lae/ansible-role-proxmox/raw/0afc625b515526d3de2b801a4de8884f7f0c3674/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -15,7 +15,7 @@\n     msg: \"This host does not appear to be in the group {{ pve_group }}, did you specify the pve_group host variable correctly?\"\n   when: pve_cluster_enabled\n \n-- include: ssh_cluster_config.yml\n+- import_tasks: ssh_cluster_config.yml\n \n - name: Run handlers if needed (sshd reload)\n   meta: flush_handlers\n@@ -76,7 +76,7 @@\n     upgrade: yes\n   when: pve_run_system_upgrades\n \n-- include: identify_needed_packages.yml\n+- import_tasks: identify_needed_packages.yml\n \n - name: Install Proxmox VE and related packages\n   apt:\n@@ -108,41 +108,49 @@\n   when:\n     - \"'pve-no-subscription' in pve_repository_line\"\n \n-- include: kernel_updates.yml\n+- import_tasks: kernel_updates.yml\n \n-- include: ipmi_watchdog.yml\n+- import_tasks: ipmi_watchdog.yml\n   when: pve_watchdog == 'ipmi'\n \n-- include: zfs.yml\n+- import_tasks: zfs.yml\n   when: pve_zfs_enabled\n \n-- include: kernel_module_cleanup.yml\n+- import_tasks: kernel_module_cleanup.yml\n \n-- include: pve_cluster_config.yml\n+- import_tasks: pve_cluster_config.yml\n   when: pve_cluster_enabled\n \n - name: Configure Proxmox groups\n   proxmox_group:\n-  args: \"{{ item }}\"\n+    name: \"{{ item.name }}\"\n+    comment: \"{{ item.comment | default(omit) }}\"\n   with_items: \"{{ pve_groups }}\"\n   when: \"not pve_cluster_enabled or (pve_cluster_enabled and inventory_hostname == groups[pve_group][0])\"\n \n - name: Configure Proxmox user accounts\n   proxmox_user:\n-  args: \"{{ item }}\"\n+    name: \"{{ item.name }}\"\n+    email: \"{{ item.email | default(omit) }}\"\n+    firstname: \"{{ item.firstname | default(omit) }}\"\n+    lastname: \"{{ item.lastname | default(omit) }}\"\n+    groups: \"{{ item.groups | default([]) }}\"\n   with_items: \"{{ pve_users }}\"\n   when: \"not pve_cluster_enabled or (pve_cluster_enabled and inventory_hostname == groups[pve_group][0])\"\n \n - name: Configure Proxmox ACLs\n   proxmox_acl:\n-  args: \"{{ item }}\"\n+    path: \"{{ item.path }}\"\n+    roles: \"{{ item.roles }}\"\n+    groups: \"{{ item.groups | default([]) }}\"\n+    users: \"{{ item.users | default([]) }}\"\n   with_items: \"{{ pve_acls }}\"\n   when: \"not pve_cluster_enabled or (pve_cluster_enabled and inventory_hostname == groups[pve_group][0])\"\n \n-- include: ssl_config.yml\n+- import_tasks: ssl_config.yml\n   when:\n     - pve_ssl_private_key is defined\n     - pve_ssl_certificate is defined\n \n-- include: ssl_letsencrypt.yml\n+- import_tasks: ssl_letsencrypt.yml\n   when: pve_ssl_letsencrypt"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-nodejs",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fixes #37: Add a task to specify a default value for nvm_install_dir",
        "sha": "46e24b51f58214f8c0d4035bb302a910a592b1bd",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-nodejs/commits/46e24b51f58214f8c0d4035bb302a910a592b1bd",
        "parents": [
            "4f2b5f578867083d5280194c4187fe69567b0561"
        ],
        "files": [
            {
                "sha": "c52823670818a4b90e7fba7165ac6328b77483ec",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/fubarhouse/ansible-role-nodejs/blob/46e24b51f58214f8c0d4035bb302a910a592b1bd/tasks/main.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-nodejs/raw/46e24b51f58214f8c0d4035bb302a910a592b1bd/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -26,6 +26,11 @@\n - include: nvm.yml\n   when: install_nvm\n \n+- name: \"Set default installation directory\"\n+  set_fact:\n+    nvm_install_dir: \"{{ fubarhouse_user_dir }}/.nvm\"\n+  when: nvm_install_dir is not defined\n+\n - include: ivm.yml\n   when:\n     - install_ivm == true"
            }
        ]
    },
    {
        "repo": "CSCfi/ansible-role-slurm",
        "author_id": "MDQ6VXNlcjc4MzkwMTk=",
        "author_name": "Johan Guldmyr",
        "committer_id": "MDQ6VXNlcjc4MzkwMTk=",
        "committer_name": "Johan Guldmyr",
        "committer_email": "johan.guldmyr@csc.fi",
        "message": "fix typo which closes #72 and also test the topology",
        "sha": "64cbc6946b7ebc0d9a36f40d77ac86f8e3564499",
        "url": "https://api.github.com/repos/CSCfi/ansible-role-slurm/commits/64cbc6946b7ebc0d9a36f40d77ac86f8e3564499",
        "parents": [
            "6ce6625dc404e18c1b299cbfb125056b3d4c4b3b"
        ],
        "files": [
            {
                "sha": "3afbf1247b8904d06756080e1e4dc60b299eb449",
                "filename": "tasks/common.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/CSCfi/ansible-role-slurm/blob/64cbc6946b7ebc0d9a36f40d77ac86f8e3564499/tasks/common.yml",
                "raw_url": "https://github.com/CSCfi/ansible-role-slurm/raw/64cbc6946b7ebc0d9a36f40d77ac86f8e3564499/tasks/common.yml",
                "status": "modified",
                "patch": "@@ -34,7 +34,7 @@\n     notify: restart slurm\n \n   - name: Make from template topology.conf\n-    template: src=topology.conf.j2 dest=/etc/slurm/topology.conf owner=root moder=0644\n+    template: src=topology.conf.j2 dest=/etc/slurm/topology.conf owner=root mode=0644\n     notify: restart slurm\n     when: slurm_topology_plugin is defined\n "
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjM3MzUwMzc3",
        "author_name": "TC1977",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "17044561+jackivanov@users.noreply.github.com",
        "message": "Fix 963 again (#1379)\n\n* Create charon.conf.j2\r\n\r\nCreate charon.conf template with mods\r\n\r\n* Update mobileconfig.j2\r\n\r\nIncrease client side lifetimes\r\n\r\n* Update ipsec.conf.j2\r\n\r\nAdd server-side lifetimes\r\n\r\n* Add charon.conf",
        "sha": "d969b8e1b65273ef92a1e386529735ffb6e2acc4",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/d969b8e1b65273ef92a1e386529735ffb6e2acc4",
        "parents": [
            "c4ea88000b6022a2e4b5391486b51414653cb7d7"
        ],
        "files": [
            {
                "sha": "af19ed43598f27be620fd3d1f17e9f0f59c857d7",
                "filename": "roles/strongswan/tasks/ipsec_configuration.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/trailofbits/algo/blob/d969b8e1b65273ef92a1e386529735ffb6e2acc4/roles/strongswan/tasks/ipsec_configuration.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/d969b8e1b65273ef92a1e386529735ffb6e2acc4/roles/strongswan/tasks/ipsec_configuration.yml",
                "status": "modified",
                "patch": "@@ -23,6 +23,11 @@\n       owner: strongswan\n       group: \"{{ root_group|default('root') }}\"\n       mode: \"0600\"\n+    - src: charon.conf.j2\n+      dest: \"strongswan.d/charon.conf\"\n+      owner: root\n+      group: \"{{ root_group|default('root') }}\"\n+      mode: \"0644\"\n   notify:\n     - restart strongswan\n "
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix #11\n\nCheck if the service name is cron on Ubuntu and Raspbian",
        "sha": "d674673e65cff8b704bea6efd9005251680b5351",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/d674673e65cff8b704bea6efd9005251680b5351",
        "parents": [
            "cb054bd0ed781881ab5d259917184c0ff4b006a7"
        ],
        "files": [
            {
                "sha": "88f0dec030987b8cd243bb0e681c5a7bc08c04ff",
                "filename": "tasks/section_09_level1.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 4,
                "changes": 7,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/d674673e65cff8b704bea6efd9005251680b5351/tasks/section_09_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/d674673e65cff8b704bea6efd9005251680b5351/tasks/section_09_level1.yml",
                "status": "modified",
                "patch": "@@ -10,10 +10,9 @@\n       - section9.1.1.1\n \n   - name: 9.1.1.2 Enable cron Daemon (Scored)\n-    lineinfile: >\n-        dest='/etc/init/cron.conf'\n-        line='start on runlevel [2345]'\n-        state=present\n+    service: >\n+        name=cron\n+        state=enabled\n     when: not cron_conf_stat.stat.exists\n     tags:\n       - section9"
            }
        ]
    },
    {
        "repo": "Oefenweb/ansible-wordpress",
        "author_id": "MDQ6VXNlcjQwODA1Mg==",
        "author_name": "Mark van Driel",
        "committer_id": "MDQ6VXNlcjQwODA1Mg==",
        "committer_name": "Mark van Driel",
        "committer_email": "mvdriel@nlware.com",
        "message": "Added option to activate and deactivate themes and plugins, fixes #26",
        "sha": "79e29502fb4e0ff1c30c0b5396bfa1b48fb84a8e",
        "url": "https://api.github.com/repos/Oefenweb/ansible-wordpress/commits/79e29502fb4e0ff1c30c0b5396bfa1b48fb84a8e",
        "parents": [
            "6d10af54bdbf8e81c3d90a70ffea87b4d2c20eb2"
        ],
        "files": [
            {
                "sha": "1dec1042836edd2615c720023ae0925eb22fa04b",
                "filename": "tasks/themes.yml",
                "previous_filename": null,
                "additions": 16,
                "deletions": 6,
                "changes": 22,
                "blob_url": "https://github.com/Oefenweb/ansible-wordpress/blob/79e29502fb4e0ff1c30c0b5396bfa1b48fb84a8e/tasks/themes.yml",
                "raw_url": "https://github.com/Oefenweb/ansible-wordpress/raw/79e29502fb4e0ff1c30c0b5396bfa1b48fb84a8e/tasks/themes.yml",
                "status": "modified",
                "patch": "@@ -1,27 +1,37 @@\n # tasks file for wordpress, themes\n ---\n - name: identify installation (theme)\n-  shell: \"wp-cli --allow-root --no-color --path='{{ item.0.path }}' theme is-installed {{ item.1 }}\"\n+  shell: \"wp-cli --allow-root --no-color --path='{{ item.0.path }}' theme is-installed {{ item.1.name }}\"\n   register: check_installation_themes\n   failed_when: False\n   changed_when: False\n   with_subelements:\n     - wordpress_installs\n     - themes\n-  when: item.1\n+  when: item.1.name\n   tags: [configuration, wordpress, wordpress-themes, wordpress-is-installed-theme]\n \n - name: install (theme)\n-  shell: \"wp-cli --allow-root --no-color --path='{{ item.item.0.path }}' theme install {{ item.item.1 }} --activate\"\n+  shell: \"wp-cli --allow-root --no-color --path='{{ item.item.0.path }}' theme install {{ item.item.1.name }}\"\n   with_items: check_installation_themes.results\n-  when: check_installation_themes is defined and item.item.1 and item.rc != 0\n+  when: check_installation_themes is defined and item.item.1.name and item.rc != 0\n   tags: [configuration, wordpress, wordpress-themes, wordpress-install-theme]\n \n - name: check install (theme)\n-  shell: \"wp-cli --allow-root --no-color --path='{{ item.0.path }}' theme is-installed {{ item.1 }}\"\n+  shell: \"wp-cli --allow-root --no-color --path='{{ item.0.path }}' theme is-installed {{ item.1.name }}\"\n   changed_when: False\n   with_subelements:\n     - wordpress_installs\n     - themes\n-  when: item.1\n+  when: item.1.name\n   tags: [configuration, wordpress, wordpress-themes, wordpress-install-theme-check]\n+\n+- name: activate (theme)\n+  shell: \"wp-cli --allow-root --no-color --path='{{ item.0.path }}' theme activate {{ item.1.name }}\"\n+  register: check_activate_theme\n+  changed_when: \"'Success: Switched to' in check_activate_theme.stdout\"\n+  with_subelements:\n+    - wordpress_installs\n+    - themes\n+  when: item.1.name and item.1.activate | default(false)\n+  tags: [configuration, wordpress, wordpress-themes, wordpress-activate-theme]"
            },
            {
                "sha": "4f42f816c4ad1ff2dc5f8e7c8ec3fc3d915aa5ba",
                "filename": "tasks/plugins.yml",
                "previous_filename": null,
                "additions": 26,
                "deletions": 5,
                "changes": 31,
                "blob_url": "https://github.com/Oefenweb/ansible-wordpress/blob/79e29502fb4e0ff1c30c0b5396bfa1b48fb84a8e/tasks/plugins.yml",
                "raw_url": "https://github.com/Oefenweb/ansible-wordpress/raw/79e29502fb4e0ff1c30c0b5396bfa1b48fb84a8e/tasks/plugins.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,7 @@\n # tasks file for wordpress, plugins\n ---\n - name: identify installation (plugin)\n-  shell: \"wp-cli --allow-root --no-color --path='{{ item.0.path }}' plugin is-installed {{ item.1 }}\"\n+  shell: \"wp-cli --allow-root --no-color --path='{{ item.0.path }}' plugin is-installed {{ item.1.name }}\"\n   register: check_installation_plugins\n   failed_when: False\n   changed_when: False\n@@ -12,16 +12,37 @@\n   tags: [configuration, wordpress, wordpress-plugins, wordpress-is-installed-plugin]\n \n - name: install (plugin)\n-  shell: \"wp-cli --allow-root --no-color --path='{{ item.item.0.path }}' plugin install {{ item.item.1 }} --activate\"\n+  shell: \"wp-cli --allow-root --no-color --path='{{ item.item.0.path }}' plugin install {{ item.item.1.name }} --activate\"\n   with_items: check_installation_plugins.results\n-  when: check_installation_plugins is defined and item.item.1 and item.rc != 0\n+  when: check_installation_plugins is defined and item.item.1.name and item.rc != 0\n   tags: [configuration, wordpress, wordpress-plugins, wordpress-install-plugin]\n \n - name: check install (plugin)\n-  shell: \"wp-cli --allow-root --no-color --path='{{ item.0.path }}' plugin is-installed {{ item.1 }}\"\n+  shell: \"wp-cli --allow-root --no-color --path='{{ item.0.path }}' plugin is-installed {{ item.1.name }}\"\n   changed_when: False\n   with_subelements:\n     - wordpress_installs\n     - plugins\n-  when: item.1\n+  when: item.1.name\n   tags: [configuration, wordpress, wordpress-plugins, wordpress-install-plugin-check]\n+\n+- name: activate (plugin)\n+  shell: \"wp-cli --allow-root --no-color --path='{{ item.0.path }}' plugin activate {{ item.1.name }}\"\n+  register: check_activate_plugin\n+  changed_when: \"'Success: Plugin' in check_activate_plugin.stdout\"\n+  with_subelements:\n+    - wordpress_installs\n+    - plugins\n+  when: item.1.name and item.1.activate | default(true)\n+  tags: [configuration, wordpress, wordpress-plugins, wordpress-activate-plugin]\n+\n+- name: deactivate (plugin)\n+  shell: \"wp-cli --allow-root --no-color --path='{{ item.0.path }}' plugin deactivate {{ item.1.name }}\"\n+  register: check_activate_plugin\n+  changed_when: \"'Success: Plugin' in check_activate_plugin.stdout\"\n+  with_subelements:\n+    - wordpress_installs\n+    - plugins\n+  when: item.1.name and not item.1.activate | default(true)\n+  tags: [configuration, wordpress, wordpress-plugins, wordpress-deactivate-plugin]\n+  \n\\ No newline at end of file"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "haxorof",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "haxorof",
        "committer_email": "bjorn.oscarsson@gmail.com",
        "message": "Fixes #6",
        "sha": "c7c535a861f356695bc29768c55779d00084d291",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/c7c535a861f356695bc29768c55779d00084d291",
        "parents": [
            "af995622de049010a8c2fc9e12f4151430b4ae0b"
        ],
        "files": [
            {
                "sha": "9d4f5c692a03b880d39d60aded85503292f05423",
                "filename": "tasks/main-Storage.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 0,
                "changes": 7,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/c7c535a861f356695bc29768c55779d00084d291/tasks/main-Storage.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/c7c535a861f356695bc29768c55779d00084d291/tasks/main-Storage.yml",
                "status": "modified",
                "patch": "@@ -49,6 +49,13 @@\n     - /etc/subuid\n     - /etc/subgid\n \n+- name: Ensure /etc/systemd/system/docker.service.d directory exists\n+  file: \n+    path: /etc/systemd/system/docker.service.d\n+    state: directory\n+    mode: 0755\n+  become: yes\n+\n - name: Copy systemd drop-in for Docker storage configuration\n   copy:\n     src: files/etc/systemd/system/docker.service.d/docker-storage.conf"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "author_name": "Jack Ivanov",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "e601809@gmail.com",
        "message": "Fixed #108",
        "sha": "5383c714991819fef58742554fb2266e4d4fa180",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/5383c714991819fef58742554fb2266e4d4fa180",
        "parents": [
            "0a075ccc51d69844727c4fe4492c7a0d70719f41"
        ],
        "files": [
            {
                "sha": "6fff583c0b7f2af02e45f2f01c6538d28f4abd05",
                "filename": "roles/vpn/tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/trailofbits/algo/blob/5383c714991819fef58742554fb2266e4d4fa180/roles/vpn/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/5383c714991819fef58742554fb2266e4d4fa180/roles/vpn/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -170,6 +170,9 @@\n - name: Set facts for mobileconfigs\n   set_fact:\n     proxy_enabled: false\n+    pkcs12_PayloadCertificateUUID: \"{{ 900000 | random | to_uuid | upper }}\"\n+    VPN_PayloadIdentifier: \"{{ 800000 | random | to_uuid | upper }}\"\n+    CA_PayloadIdentifier: \"{{ 700000 | random | to_uuid | upper }}\"\n \n - name: Build the mobileconfigs\n   template: src=mobileconfig.j2 dest=/{{ easyrsa_dir }}/easyrsa3//pki/private/{{ item.0 }}.mobileconfig mode=0600\n@@ -224,4 +227,3 @@\n \n - include: iptables.yml\n   tags: iptables\n-"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": null,
        "author_name": "James Hale",
        "committer_id": "MDQ6VXNlcjIwNjUzMjQy",
        "committer_name": "defunct",
        "committer_email": "defunct@defunct.io",
        "message": "Fix name tag key (#282)",
        "sha": "3b3fb601ef812f971fe94187669c6cda7143e544",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/3b3fb601ef812f971fe94187669c6cda7143e544",
        "parents": [
            "4dff2dcf95ce42d98c947dbed66f45920314ae3e"
        ],
        "files": [
            {
                "sha": "be0b0d4e043ef37aa5a5b9d89fce95518acbca97",
                "filename": "roles/cloud-ec2/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/trailofbits/algo/blob/3b3fb601ef812f971fe94187669c6cda7143e544/roles/cloud-ec2/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/3b3fb601ef812f971fe94187669c6cda7143e544/roles/cloud-ec2/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -95,11 +95,11 @@\n     wait: true\n     region: \"{{ region }}\"\n     instance_tags:\n-      name: \"{{ aws_server_name }}\"\n+      Name: \"{{ aws_server_name }}\"\n       Environment: Algo\n     exact_count: 1\n     count_tag:\n-      name: \"{{ aws_server_name }}\"\n+      Name: \"{{ aws_server_name }}\"\n     assign_public_ip: yes\n     instance_initiated_shutdown_behavior: terminate\n   register: ec2"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "haxorof",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "haxorof",
        "committer_email": "bjorn.oscarsson@gmail.com",
        "message": "Fixes #9",
        "sha": "f843dd69d94667c2cac56f5883730446662cfac4",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/f843dd69d94667c2cac56f5883730446662cfac4",
        "parents": [
            "9e7bed4aaef56159f148d24e4f7d7e8b53be632b"
        ],
        "files": [
            {
                "sha": "58d2730abed6414b0f00bcf176ea8df4d8bf716c",
                "filename": "tasks/main-Storage.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 11,
                "changes": 12,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/f843dd69d94667c2cac56f5883730446662cfac4/tasks/main-Storage.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/f843dd69d94667c2cac56f5883730446662cfac4/tasks/main-Storage.yml",
                "status": "modified",
                "patch": "@@ -13,7 +13,7 @@\n - name: Clone project Atomic container-storage-setup\n   git:\n     repo: https://github.com/projectatomic/container-storage-setup.git\n-    version: 9b77bcb2cba8e272799fa21e2d484e9f6e7c34d0\n+    version: v0.6.0\n     dest: \"/tmp/container-storage-setup\"\n   become: yes\n   when: docker_stat_storage.stat.exists == false\n@@ -39,16 +39,6 @@\n   become: true\n   when: docker_stat_storage.stat.exists == false\n \n-- name: Ensure Docker default user namespace is defined in subuid and subgid\n-  lineinfile:\n-    path: \"{{ item }}\"\n-    regexp: '^dockremap'\n-    line: 'dockremap:500000:65536'\n-  become: yes\n-  with_items:\n-    - /etc/subuid\n-    - /etc/subgid\n-\n - name: Ensure /etc/systemd/system/docker.service.d directory exists\n   file: \n     path: /etc/systemd/system/docker.service.d"
            },
            {
                "sha": "f4304222375ebc295e5ec770f8940729cb867e45",
                "filename": "tasks/main-Generic.yml",
                "previous_filename": null,
                "additions": 14,
                "deletions": 0,
                "changes": 14,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/f843dd69d94667c2cac56f5883730446662cfac4/tasks/main-Generic.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/f843dd69d94667c2cac56f5883730446662cfac4/tasks/main-Generic.yml",
                "status": "modified",
                "patch": "@@ -86,6 +86,20 @@\n   when: docker_daemon_config_file is not defined and \n         docker_daemon_config is defined\n \n+- name: Ensure Docker default user namespace is defined in subuid and subgid\n+  lineinfile:\n+    path: \"{{ item }}\"\n+    regexp: '^dockremap'\n+    line: 'dockremap:500000:65536'\n+  become: yes\n+  with_items:\n+    - /etc/subuid\n+    - /etc/subgid\n+  when: (docker_daemon_config is defined and\n+        docker_daemon_config['userns-remap'] is defined and\n+        docker_daemon_config['userns-remap'] == 'default') or\n+        docker_bug_usermod|bool == true\n+\n - name: Enable and start Docker service\n   service:\n     name: docker"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjIyNTk4MzQ=",
        "author_name": "Tang Rufus",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix `DEPLOY_UNFINISHED` not being copied over to `release` (#1145)\n\nFix `DEPLOY_UNFINISHED` not being copied over to `release`",
        "sha": "1bc2bf16e7f89f92f002c2e04d3769373ee9778d",
        "url": "https://api.github.com/repos/roots/trellis/commits/1bc2bf16e7f89f92f002c2e04d3769373ee9778d",
        "parents": [
            "ab70d8ed84ef54054de2024e5c2639e047c0b905",
            "6cc4fc763dd7be8ad4a430a0b31dc05833d7be73"
        ],
        "files": [
            {
                "sha": "2d05f4df8e77d5445e65dfa59759fd4671c0388d",
                "filename": "roles/deploy/tasks/prepare.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 5,
                "changes": 10,
                "blob_url": "https://github.com/roots/trellis/blob/1bc2bf16e7f89f92f002c2e04d3769373ee9778d/roles/deploy/tasks/prepare.yml",
                "raw_url": "https://github.com/roots/trellis/raw/1bc2bf16e7f89f92f002c2e04d3769373ee9778d/roles/deploy/tasks/prepare.yml",
                "status": "modified",
                "patch": "@@ -5,11 +5,6 @@\n     loop_var: include_path\n   tags: deploy-prepare-before\n \n-- name: write unfinished file\n-  file:\n-    path: \"{{ project_source_path }}/{{ deploy_helper.unfinished_filename }}\"\n-    state: touch\n-\n - name: Check for project repo subtree\n   stat:\n     path: \"{{ project_source_path }}/{{ project.repo_subtree_path }}\"\n@@ -38,6 +33,11 @@\n     chdir: \"{{ project_source_path }}\"\n   when: project.repo_subtree_path is defined\n \n+- name: write unfinished file\n+  file:\n+    path: \"{{ deploy_helper.new_release_path }}/{{ deploy_helper.unfinished_filename }}\"\n+    state: touch\n+\n - include_tasks: \"{{ include_path }}\"\n   with_items: \"{{ deploy_prepare_after | default([]) }}\"\n   loop_control:"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fixes #144 - HHVM mysql fix\n\nHHVM 3.6.0 has a bug to do with the MySQL socket path. Right now the\nonly solution for WordPress (since it uses PDO) is to symlink the\nsocket.\n\nSee https://github.com/facebook/hhvm/issues/4987",
        "sha": "2220523b5369cb96f1f6fe2d18242090d01e1307",
        "url": "https://api.github.com/repos/roots/trellis/commits/2220523b5369cb96f1f6fe2d18242090d01e1307",
        "parents": [
            "96af131e1644281d00ac519c31cfb866809d2098"
        ],
        "files": [
            {
                "sha": "7e8337a67bf380028ed49935618530b0fd154564",
                "filename": "roles/hhvm/tasks/main.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 0,
                "changes": 6,
                "blob_url": "https://github.com/roots/trellis/blob/2220523b5369cb96f1f6fe2d18242090d01e1307/roles/hhvm/tasks/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/2220523b5369cb96f1f6fe2d18242090d01e1307/roles/hhvm/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -20,6 +20,12 @@\n - name: HHVM server.ini\n   template: src=server.ini.j2 dest=/etc/hhvm/server.ini\n \n+- name: HHVM php.ini\n+  template: src=php.ini.j2 dest=/etc/hhvm/php.ini\n+\n+- name: Symlink mysql.sock for HHVM\n+  file: src=/var/run/mysqld/mysqld.sock dest=/tmp/mysql.sock owner=mysql group=mysql state=link force=yes\n+\n - name: Start HHVM service\n   service: name=hhvm state=started enabled=true\n "
            }
        ]
    },
    {
        "repo": "CSCfi/ansible-role-cuda",
        "author_id": null,
        "author_name": "Lu\u00eds Alves",
        "committer_id": null,
        "committer_name": "Lu\u00eds Alves",
        "committer_email": "luis.alves@csc.fi",
        "message": "Close #3\n\n  - cuda_init.sh preceeds now ansible-pull script",
        "sha": "2378736112ce798a1b1b6e66f372415b01cd5536",
        "url": "https://api.github.com/repos/CSCfi/ansible-role-cuda/commits/2378736112ce798a1b1b6e66f372415b01cd5536",
        "parents": [
            "9a25ba7000e2cb52b93161f1671786054856c023"
        ],
        "files": [
            {
                "sha": "04f8d715060c6982ba2beaa6018c8ccce0b5742c",
                "filename": "tasks/redhat.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/CSCfi/ansible-role-cuda/blob/2378736112ce798a1b1b6e66f372415b01cd5536/tasks/redhat.yml",
                "raw_url": "https://github.com/CSCfi/ansible-role-cuda/raw/2378736112ce798a1b1b6e66f372415b01cd5536/tasks/redhat.yml",
                "status": "modified",
                "patch": "@@ -23,9 +23,9 @@\n - name: add the cuda_init.sh script to rc.local\n   lineinfile: \n       dest=/etc/rc.local \n-      insertafter=EOF \n+      insertafter=\"^touch /var/lock/subsys/local\" \n       regexp=\"^/bin/bash /usr/local/bin/cuda_init.sh$\"\n-      line=\"/bin/bash /usr/local/bin/cuda_init.sh\" \n+      line=\"/bin/bash /usr/local/bin/cuda_init.sh\"\n   when: cuda_init\n \n # This is here because if we in the same playbook try to start slurmd without having run the cuda_init.sh script then slurmd doesn't start and the play fails."
            }
        ]
    },
    {
        "repo": "robertdebock/ansible-role-tomcat",
        "author_id": "MDQ6VXNlcjU1NDIzMDc=",
        "author_name": "bdelemotte",
        "committer_id": "MDQ6VXNlcjU1NDIzMDc=",
        "committer_name": "bdelemotte",
        "committer_email": "barthelemy.delemotte@polyconseil.fr",
        "message": "fix #17",
        "sha": "6c40639685db155122fcd88cb56fcd1be3d95867",
        "url": "https://api.github.com/repos/robertdebock/ansible-role-tomcat/commits/6c40639685db155122fcd88cb56fcd1be3d95867",
        "parents": [
            "12c9f0e6332ae3069fb14e973ce404e1f03b3e8e"
        ],
        "files": [
            {
                "sha": "c50347a37a40ee8fd8a76fdd94510030c15bd9b6",
                "filename": "tasks/instance.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/robertdebock/ansible-role-tomcat/blob/6c40639685db155122fcd88cb56fcd1be3d95867/tasks/instance.yml",
                "raw_url": "https://github.com/robertdebock/ansible-role-tomcat/raw/6c40639685db155122fcd88cb56fcd1be3d95867/tasks/instance.yml",
                "status": "modified",
                "patch": "@@ -54,7 +54,7 @@\n     src: setenv.sh.j2\n     dest: \"{{ tomcat_directory }}/{{ instance.name }}/bin/setenv.sh\"\n   when:\n-    - instance.java_opts is defined\n+    - (instance.java_opts is defined) or (instance.xms is defined) or (instance.xmx is defined)\n   notify:\n     - restart tomcat instance\n "
            }
        ]
    },
    {
        "repo": "kubevirt/kubevirt-ansible",
        "author_id": "MDQ6VXNlcjE0MTg3MzQ=",
        "author_name": "Guohua Ouyang",
        "committer_id": "MDQ6VXNlcjE1MDU2ODQ=",
        "committer_name": "Lukas Bednar",
        "committer_email": "lukyn17@gmail.com",
        "message": "Fix task of remove firewalld package (#157)\n\nSigned-off-by: Guohua Ouyang <guohuaouyang@gmail.com>",
        "sha": "ebee4362303ed70050890906e3bb6ac232080be6",
        "url": "https://api.github.com/repos/kubevirt/kubevirt-ansible/commits/ebee4362303ed70050890906e3bb6ac232080be6",
        "parents": [
            "ca212d93b7739adc0aa87b93ac58801007b9f458"
        ],
        "files": [
            {
                "sha": "3898dfba91007958dec43ecbf108f84f32342500",
                "filename": "roles/kubernetes-prerequisites/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 5,
                "changes": 6,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/ebee4362303ed70050890906e3bb6ac232080be6/roles/kubernetes-prerequisites/tasks/main.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/ebee4362303ed70050890906e3bb6ac232080be6/roles/kubernetes-prerequisites/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -10,6 +10,7 @@\n - name: remove firewalld package\n   package:\n     name: firewalld\n+    state: absent\n \n - name: stop and disable firewalld\n   register: result\n@@ -19,11 +20,6 @@\n     name: firewalld\n   failed_when: \"result|failed and not 'Could not find the requested service' in result.msg\"\n \n-- name: remove firewalld package\n-  package:\n-    name: firewalld\n-    state: absent\n-\n - name: Remove current swaps from fstab\n   lineinfile:\n     dest: /etc/fstab"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "author_name": "Jack Ivanov",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "e601809@gmail.com",
        "message": "IP_subject_alt_name is not declared for localhost. Fixed #149",
        "sha": "37ec574d8d4aa85f0e73c39651c2e3fb0f5afc2f",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/37ec574d8d4aa85f0e73c39651c2e3fb0f5afc2f",
        "parents": [
            "517366f1941d241ffe252d1d53f1810f380cf3f3"
        ],
        "files": [
            {
                "sha": "b279b0211dfeeab870be5698c1f529a601bff7de",
                "filename": "roles/ssh_tunneling/tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/trailofbits/algo/blob/37ec574d8d4aa85f0e73c39651c2e3fb0f5afc2f/roles/ssh_tunneling/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/37ec574d8d4aa85f0e73c39651c2e3fb0f5afc2f/roles/ssh_tunneling/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,8 @@\n ---\n \n+- set_fact:\n+    IP_subject_alt_name: \"{{ IP_subject_alt_name }}\"\n+\n - name: Ensure that the sshd_config file has desired options\n   blockinfile:\n     dest: /etc/ssh/sshd_config"
            }
        ]
    },
    {
        "repo": "dev-sec/ansible-os-hardening",
        "author_id": null,
        "author_name": "Sebastian Gumprich",
        "committer_id": null,
        "committer_name": "Sebastian Gumprich",
        "committer_email": "sebastian.gumprich@38.de",
        "message": "fix deprecation warning for undefined error. #99",
        "sha": "11c81971e16648db81df5d723c544880ee3bbc42",
        "url": "https://api.github.com/repos/dev-sec/ansible-os-hardening/commits/11c81971e16648db81df5d723c544880ee3bbc42",
        "parents": [
            "ca0bd549ff5ac1f52134a4da6ecec9aeaf974928"
        ],
        "files": [
            {
                "sha": "128b095526531097a0872e083e316ac330520c49",
                "filename": "tasks/yum.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 1,
                "changes": 5,
                "blob_url": "https://github.com/dev-sec/ansible-os-hardening/blob/11c81971e16648db81df5d723c544880ee3bbc42/tasks/yum.yml",
                "raw_url": "https://github.com/dev-sec/ansible-os-hardening/raw/11c81971e16648db81df5d723c544880ee3bbc42/tasks/yum.yml",
                "status": "modified",
                "patch": "@@ -16,11 +16,14 @@\n   stat: path='/etc/yum/pluginconf.d/rhnplugin.conf'\n   register: rhnplugin_file\n \n+  # for the \"default([])\" see here:\n+  # https://github.com/dev-sec/ansible-os-hardening/issues/99 and\n+  # https://stackoverflow.com/questions/37067827/ansible-deprecation-warning-for-undefined-variable-despite-when-clause\n - name: activate gpg-check for yum-repos\n   replace: dest='{{item}}' regexp='^\\s*gpgcheck=0' replace='gpgcheck=1'\n   with_items:\n-    - '{{ yum_repos.stdout_lines }}'\n     - '/etc/yum.conf'\n+    - '{{ yum_repos.stdout_lines| default([]) }}'\n \n - name: activate gpg-check for yum rhn if it exists\n   replace: dest='/etc/yum/pluginconf.d/rhnplugin.conf' regexp='^\\s*gpgcheck=0' replace='gpgcheck=1'"
            }
        ]
    },
    {
        "repo": "cloudalchemy/ansible-fluentd",
        "author_id": "MDQ6VXNlcjExNzgwMA==",
        "author_name": "Fabian Schuh",
        "committer_id": "MDQ6VXNlcjM1MzE3NTg=",
        "committer_name": "Pawe\u0142 Krupa",
        "committer_email": "pawel@krupa.net.pl",
        "message": "Fix issue when comparing string with int (#19)\n\nSimilar to this:\r\nhttps://github.com/cloudalchemy/ansible-prometheus/issues/116",
        "sha": "ea1be193db9b2d598347de5ece2fed5cec8d7db9",
        "url": "https://api.github.com/repos/cloudalchemy/ansible-fluentd/commits/ea1be193db9b2d598347de5ece2fed5cec8d7db9",
        "parents": [
            "d64642f3b7997ca489a0d4905a99117a309b484c"
        ],
        "files": [
            {
                "sha": "5336f574fccc5b1c7711954ca848462c8404b037",
                "filename": "tasks/preflight.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/cloudalchemy/ansible-fluentd/blob/ea1be193db9b2d598347de5ece2fed5cec8d7db9/tasks/preflight.yml",
                "raw_url": "https://github.com/cloudalchemy/ansible-fluentd/raw/ea1be193db9b2d598347de5ece2fed5cec8d7db9/tasks/preflight.yml",
                "status": "modified",
                "patch": "@@ -22,4 +22,4 @@\n - name: Fail on too small number of file descriptors\n   fail:\n     msg: \"Increase number of file descriptors to more than 1024. Follow instructions at https://docs.fluentd.org/v0.14/articles/before-install\"\n-  when: file_descriptors.stdout < 1025\n+  when: file_descriptors.stdout < \"1025\""
            }
        ]
    },
    {
        "repo": "rocknsm/rock",
        "author_id": "MDQ6VXNlcjEwMDk5MTQ5",
        "author_name": "Bradford Dabbs",
        "committer_id": "MDQ6VXNlcjE3MTU3NA==",
        "committer_name": "Derek Ditch",
        "committer_email": "dcode@users.noreply.github.com",
        "message": "Fix indentation in deploy playbook\n\nFixes #340",
        "sha": "fd7dca92226be01cbffb5456f73d3f418e90d530",
        "url": "https://api.github.com/repos/rocknsm/rock/commits/fd7dca92226be01cbffb5456f73d3f418e90d530",
        "parents": [
            "1835a3a391ee4ef2f83172a0384e1c2bb286f811"
        ],
        "files": [
            {
                "sha": "c3e7a8c75a4067c9ff663b2c90ba3f7d8791c338",
                "filename": "playbooks/deploy-rock.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 2,
                "changes": 3,
                "blob_url": "https://github.com/rocknsm/rock/blob/fd7dca92226be01cbffb5456f73d3f418e90d530/playbooks/deploy-rock.yml",
                "raw_url": "https://github.com/rocknsm/rock/raw/fd7dca92226be01cbffb5456f73d3f418e90d530/playbooks/deploy-rock.yml",
                "status": "modified",
                "patch": "@@ -4,8 +4,7 @@\n #  vars:\n #    rock_disable_offline_repo: true\n   roles:\n-\n-- sensor-common\n+    - sensor-common\n \n - hosts: zookeeper\n   roles:"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "author_name": "Jack Ivanov",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "e601809@gmail.com",
        "message": "Azure security group. Fixes #264",
        "sha": "045ff4bb9f4720739632aac2951fbf2798a99c8c",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/045ff4bb9f4720739632aac2951fbf2798a99c8c",
        "parents": [
            "906d962d4d978a44a1161db5d7023b9abc1b1ff2"
        ],
        "files": [
            {
                "sha": "dfdde2e568aca8260534ea48ae1637515b044a31",
                "filename": "roles/cloud-azure/tasks/main.yml",
                "previous_filename": null,
                "additions": 43,
                "deletions": 0,
                "changes": 43,
                "blob_url": "https://github.com/trailofbits/algo/blob/045ff4bb9f4720739632aac2951fbf2798a99c8c/roles/cloud-azure/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/045ff4bb9f4720739632aac2951fbf2798a99c8c/roles/cloud-azure/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -26,6 +26,35 @@\n     tags:\n       Environment: Algo\n \n+- name: Create a security group\n+  azure_rm_securitygroup:\n+    secret: \"{{ azure_secret | default(lookup('env','AZURE_SECRET')) }}\"\n+    tenant: \"{{ azure_tenant | default(lookup('env','AZURE_TENANT')) }}\"\n+    client_id: \"{{ azure_client_id | default(lookup('env','AZURE_CLIENT_ID')) }}\"\n+    subscription_id: \"{{ azure_subscription_id | default(lookup('env','AZURE_SUBSCRIPTION_ID')) }}\"\n+    resource_group: \"{{ resource_group }}\"\n+    name: AlgoSecGroup\n+    purge_rules: yes\n+    rules:\n+      - name: AllowSSH\n+        protocol: Tcp\n+        destination_port_range: 22\n+        access: Allow\n+        priority: 100\n+        direction: Inbound\n+      - name: AllowIPSEC500\n+        protocol: Udp\n+        destination_port_range: 500\n+        access: Allow\n+        priority: 110\n+        direction: Inbound\n+      - name: AllowIPSEC4500\n+        protocol: Udp\n+        destination_port_range: 4500\n+        access: Allow\n+        priority: 120\n+        direction: Inbound\n+\n - name: Create a subnet\n   azure_rm_subnet:\n     secret: \"{{ azure_secret | default(lookup('env','AZURE_SECRET')) }}\"\n@@ -36,6 +65,7 @@\n     name: algo_subnet\n     address_prefix: \"10.10.0.0/24\"\n     virtual_network: algo_net\n+    security_group_name: AlgoSecGroup\n     tags:\n       Environment: Algo\n \n@@ -64,6 +94,19 @@\n \n - set_fact:\n     ip_address: \"{{ azure_rm_virtualmachine.ansible_facts.azure_vm.properties.networkProfile.networkInterfaces[0].properties.ipConfigurations[0].properties.publicIPAddress.properties.ipAddress }}\"\n+    networkinterface_name: \"{{ azure_rm_virtualmachine.ansible_facts.azure_vm.properties.networkProfile.networkInterfaces[0].name }}\"\n+\n+- name: Ensure the network interface includes all required parameters\n+  azure_rm_networkinterface:\n+    secret: \"{{ azure_secret | default(lookup('env','AZURE_SECRET')) }}\"\n+    tenant: \"{{ azure_tenant | default(lookup('env','AZURE_TENANT')) }}\"\n+    client_id: \"{{ azure_client_id | default(lookup('env','AZURE_CLIENT_ID')) }}\"\n+    subscription_id: \"{{ azure_subscription_id | default(lookup('env','AZURE_SUBSCRIPTION_ID')) }}\"\n+    name: \"{{ networkinterface_name }}\"\n+    resource_group: \"{{ resource_group }}\"\n+    virtual_network_name: algo_net\n+    subnet_name: algo_subnet\n+    security_group_name: AlgoSecGroup\n \n - name: Add the instance to an inventory group\n   add_host:"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Resolve #2\n\n- The current version of aa-tools in Trusty is 2.8.x, and the fix is\n  available in version >2.9. Using a manual loop do the trick and give\n  the same result.\n\n- Tested on 14.04",
        "sha": "9662c15ce2e4260fac5cc2bfdf5aaaaf0a2191dd",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/9662c15ce2e4260fac5cc2bfdf5aaaaf0a2191dd",
        "parents": [
            "59bde5ac149cca3058d0b8a8bd4b2d0e21e8c861"
        ],
        "files": [
            {
                "sha": "3f1e9020aed99a681e97f29edda9cac313d192d5",
                "filename": "tasks/section_04_level2.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/9662c15ce2e4260fac5cc2bfdf5aaaaf0a2191dd/tasks/section_04_level2.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/9662c15ce2e4260fac5cc2bfdf5aaaaf0a2191dd/tasks/section_04_level2.yml",
                "status": "modified",
                "patch": "@@ -36,7 +36,8 @@\n       - section4.5\n \n   - name: 4.5 Activate AppArmor (enforce) (Scored)\n-    shell: 'aa-enforce /etc/apparmor.d/*'\n+    #shell: 'aa-enforce /etc/apparmor.d/*'\n+    shell: for profile in /etc/apparmor.d/*; do aa-enforce $profile; done\n     register: aaenforce_rc\n     failed_when: aaenforce_rc.rc == 1\n     changed_when: False"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fix #639 - WP 4.6 compat: update WP-CLI to 0.24.1",
        "sha": "84c184cb2178f1787292912c7b402ee9cff8e5b4",
        "url": "https://api.github.com/repos/roots/trellis/commits/84c184cb2178f1787292912c7b402ee9cff8e5b4",
        "parents": [
            "7736334bb143cf6ee56adc9db597785c09acf67d"
        ],
        "files": [
            {
                "sha": "71a1e5ee02744c68e8e94eb54482a4f7065ebe1d",
                "filename": "roles/wp-cli/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/84c184cb2178f1787292912c7b402ee9cff8e5b4/roles/wp-cli/defaults/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/84c184cb2178f1787292912c7b402ee9cff8e5b4/roles/wp-cli/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,4 @@\n-wp_cli_version: 0.24.0\n+wp_cli_version: 0.24.1\n wp_cli_bin_path: /usr/bin/wp\n wp_cli_phar_url: \"https://github.com/wp-cli/wp-cli/releases/download/v{{ wp_cli_version }}/wp-cli-{{ wp_cli_version }}.phar\"\n wp_cli_completion_url: \"https://raw.githubusercontent.com/wp-cli/wp-cli/v{{ wp_cli_version }}/utils/wp-completion.bash\""
            }
        ]
    },
    {
        "repo": "dev-sec/ansible-os-hardening",
        "author_id": "MDQ6VXNlcjQ5Njg3Njkx",
        "author_name": "Oleg Kupriyanov",
        "committer_id": "MDQ6VXNlcjMxOTg5NjE=",
        "committer_name": "Sebastian Gumprich",
        "committer_email": "rndmh3ro@users.noreply.github.com",
        "message": "Fix error on applying the sysctl vars on containers (#243)\n\n* Add exception in sysctl task\r\n\r\nNo need apply sysctl in docker and openvz containers.\r\n\r\nSigned-off-by: Oleg Kupriyanov <okupriyanov@tradingview.com>\r\n\r\n* use block for sysctl tasks",
        "sha": "75935cbba14f385fbdb583dae8d7e631b266b932",
        "url": "https://api.github.com/repos/dev-sec/ansible-os-hardening/commits/75935cbba14f385fbdb583dae8d7e631b266b932",
        "parents": [
            "4228e8a157c780856bd03a548237fd5d18f8fe14"
        ],
        "files": [
            {
                "sha": "0b565b359208cb80840eacdacbf7edaad315672a",
                "filename": "tasks/sysctl.yml",
                "previous_filename": null,
                "additions": 29,
                "deletions": 25,
                "changes": 54,
                "blob_url": "https://github.com/dev-sec/ansible-os-hardening/blob/75935cbba14f385fbdb583dae8d7e631b266b932/tasks/sysctl.yml",
                "raw_url": "https://github.com/dev-sec/ansible-os-hardening/raw/75935cbba14f385fbdb583dae8d7e631b266b932/tasks/sysctl.yml",
                "status": "modified",
                "patch": "@@ -35,31 +35,35 @@\n   when: ansible_facts.os_family == 'Debian' and os_security_kernel_enable_module_loading\n   register: initramfs\n \n-- name: create a combined sysctl-dict if overwrites are defined\n-  set_fact:\n-    sysctl_config: '{{ sysctl_config | combine(sysctl_overwrite) }}'\n-  when: sysctl_overwrite | default()\n-\n-- name: Change various sysctl-settings, look at the sysctl-vars file for documentation\n-  sysctl:\n-    name: '{{ item.key }}'\n-    value: '{{ item.value }}'\n-    sysctl_set: yes\n-    state: present\n-    reload: yes\n-    ignoreerrors: yes\n-  with_dict: '{{ sysctl_config }}'\n-\n-- name: Change various sysctl-settings on rhel6-hosts or older, look at the sysctl-vars file for documentation\n-  sysctl:\n-    name: '{{ item.key }}'\n-    value: '{{ item.value }}'\n-    state: present\n-    reload: yes\n-    ignoreerrors: yes\n-  with_dict: '{{ sysctl_rhel_config }}'\n-  when: ((ansible_facts.distribution == 'RedHat' or ansible_facts.distribution == 'Fedora' or ansible_facts.distribution == 'CentOS') and\n-        ansible_distribution_version|int is version('7', '<')) or ansible_facts.distribution == 'Amazon'\n+- name: change sysctls\n+  block:\n+    - name: create a combined sysctl-dict if overwrites are defined\n+      set_fact:\n+        sysctl_config: '{{ sysctl_config | combine(sysctl_overwrite) }}'\n+      when: sysctl_overwrite | default()\n+      \n+    - name: Change various sysctl-settings, look at the sysctl-vars file for documentation\n+      sysctl:\n+        name: '{{ item.key }}'\n+        value: '{{ item.value }}'\n+        sysctl_set: yes\n+        state: present\n+        reload: yes\n+        ignoreerrors: yes\n+      with_dict: '{{ sysctl_config }}'\n+      \n+    - name: Change various sysctl-settings on rhel6-hosts or older, look at the sysctl-vars file for documentation\n+      sysctl:\n+        name: '{{ item.key }}'\n+        value: '{{ item.value }}'\n+        state: present\n+        reload: yes\n+        ignoreerrors: yes\n+      with_dict: '{{ sysctl_rhel_config }}'\n+      when: ((ansible_facts.distribution == 'RedHat' or ansible_facts.distribution == 'Fedora' or ansible_facts.distribution == 'CentOS') and\n+            ansible_distribution_version|int is version('7', '<')) or ansible_facts.distribution == 'Amazon'\n+            \n+  when: ansible_virtualization_type not in ['docker', 'openvz', 'lxc']\n \n - name: Apply ufw defaults\n   template:"
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "BSD: drop support for log files, change default DataDir location to avoid permission conflicts with the packages (fixes #59)",
        "sha": "b5d6f33218259b7205796d55ad4b976d3b9f3305",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/b5d6f33218259b7205796d55ad4b976d3b9f3305",
        "parents": [
            "fa66f2d6f5193cce5c2f9086e78f9bff39133e60"
        ],
        "files": [
            {
                "sha": "167e44f8652d0288e4728fec053960f6b6cbf7fa",
                "filename": "tasks/configure.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 27,
                "changes": 27,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/b5d6f33218259b7205796d55ad4b976d3b9f3305/tasks/configure.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/b5d6f33218259b7205796d55ad4b976d3b9f3305/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -180,33 +180,6 @@\n     group={{ tor_user }}\n     mode=755\n \n-- name: Ensure LogDir exists\n-  become: yes\n-  file: path={{ tor_LogDir }}\n-    state=directory\n-    owner=root\n-    mode=755\n-  when: ansible_system != 'Linux'\n-\n-# we only use distinct logfiles on systems that have no SyslogIdentityTag support yet (all non-Debian plaforms)\n-# otherwise we log to syslog with SyslogIdentityTag to avoid the filesystem permissions troubles with logrotate.\n-# We aim to log to syslog+SyslogIdentityTag for all platforms eventually.\n-# This is a medium-term workaround until all platform get SyslogIdentityTag support\n-# without this workaround tor will fail to start after logrotate created new logfiles because\n-# logrotate is not not aware that every tor instance runs under a distinct user.\n-# This effectively disables logrotate.\n-- name: Ensure per-instance LogDir exists\n-  become: yes\n-  file: path={{ tor_LogDir }}/{{ item[0] }}_{{ item.1.orport }}\n-    state=directory\n-    owner=_tor-{{ item[0] }}_{{ item.1.orport }}\n-    group=_tor-{{ item[0] }}_{{ item.1.orport }}\n-    mode=700\n-  with_nested:\n-   - tor_ips\n-   - tor_ports\n-  when: ansible_system != 'Linux'\n-\n - name: Generating torrc file(s)\n   become: yes\n   template: >"
            },
            {
                "sha": "3f58f5380a772b43005b4700b11af8649c790b8a",
                "filename": "tasks/openbsd_install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/b5d6f33218259b7205796d55ad4b976d3b9f3305/tasks/openbsd_install.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/b5d6f33218259b7205796d55ad4b976d3b9f3305/tasks/openbsd_install.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n \n - name: Setup OpenBSD specific variables (set_fact)\n   set_fact:\n-    tor_DataDir: /var/tor\n+    tor_DataDir: /var/tor-instances\n     tor_ConfDir: /etc/tor/enabled\n   tags:\n    - reconfigure"
            },
            {
                "sha": "857baff789042ceb93356c9ccbeff3052c5f6d46",
                "filename": "tasks/freebsd_install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 6,
                "changes": 7,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/b5d6f33218259b7205796d55ad4b976d3b9f3305/tasks/freebsd_install.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/b5d6f33218259b7205796d55ad4b976d3b9f3305/tasks/freebsd_install.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n \n - name: Setup FreeBSD specific variables (set_fact)\n   set_fact:\n-    tor_DataDir: /var/db/tor\n+    tor_DataDir: /var/db/tor-instances\n     tor_ConfDir: /usr/local/etc/tor/enabled\n   tags:\n    - reconfigure\n@@ -21,11 +21,6 @@\n    - tor_ips\n    - tor_ports\n \n-- name: If LogDir is a file, rename it (FreeBSD)\n-  become: yes\n-  shell: \"test -f {{ tor_LogDir }} && mv {{ tor_LogDir }} {{ tor_LogDir }}.bk-`date '+%Y-%m-%d_%H%M%S'`\"\n-  ignore_errors: yes\n-\n - name: Ensure sequential IP IDs are avoided (net.inet.ip.random_id)\n   become: yes\n   sysctl: name=net.inet.ip.random_id value=1 reload=no sysctl_set=yes"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fix #731 - Use option stdout to fix theme paths\n\n`wp_template_root` was just the registered Ansible var. The values\nneeded to be checked against the `stdout` which is the actual output of\nthe `wp get option` command.",
        "sha": "78ff762dec800fa75f369beb141232d762a010ca",
        "url": "https://api.github.com/repos/roots/trellis/commits/78ff762dec800fa75f369beb141232d762a010ca",
        "parents": [
            "ef361c2c4c322f489a3bd4f9de2b74db2cb5ebd3"
        ],
        "files": [
            {
                "sha": "dc1c52665dacc48137e3c9d9330928a28497616a",
                "filename": "roles/deploy/hooks/finalize-after.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/78ff762dec800fa75f369beb141232d762a010ca/roles/deploy/hooks/finalize-after.yml",
                "raw_url": "https://github.com/roots/trellis/raw/78ff762dec800fa75f369beb141232d762a010ca/roles/deploy/hooks/finalize-after.yml",
                "status": "modified",
                "patch": "@@ -37,7 +37,7 @@\n   command: wp option set {{ item }} {{ deploy_helper.new_release_path }}/web/wp/wp-content/themes\n   args:\n     chdir: \"{{ deploy_helper.current_path }}\"\n-  when: wp_installed | success and wp_template_root != '/themes' and wp_template_root != ''\n+  when: wp_installed | success and wp_template_root.stdout != '' and wp_template_root.stdout != '/themes'\n   with_items:\n     - stylesheet_root\n     - template_root"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #61: Add 'solr_remove_cruft' option.",
        "sha": "3a6d90f30f4a8267beee90369a47af54959209e5",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/3a6d90f30f4a8267beee90369a47af54959209e5",
        "parents": [
            "51d79d38e5f83c32148576605519c8a4f0991134"
        ],
        "files": [
            {
                "sha": "32ae55f1295d334912992a8ffaf7afad085d271d",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 7,
                "changes": 9,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/3a6d90f30f4a8267beee90369a47af54959209e5/tasks/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/3a6d90f30f4a8267beee90369a47af54959209e5/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -54,10 +54,5 @@\n - include: configure.yml\n   when: \"solr_version.split('.')[0] >= '5'\"\n \n-- name: Remove the downloaded Solr archive.\n-  file:\n-    path: \"{{ item }}\"\n-    state: absent\n-  with_items:\n-    - \"{{ solr_workspace }}/{{ solr_filename }}.tgz\"\n-    - \"{{ solr_workspace }}/{{ solr_filename }}\"\n+- include: trim-fat.yml\n+  static: no"
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "Debian: allow \"_\" and \".\" in instance names, so our instances are started properly after package upgrade (fixes #72)",
        "sha": "0406395a8758f12abd57914532cc0ff17894d015",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/0406395a8758f12abd57914532cc0ff17894d015",
        "parents": [
            "32211ebd2a9f45112f8dceda80bc95d0db029fb4"
        ],
        "files": [
            {
                "sha": "ffad5368a5a2f427dd880a5eab0d98ef0af0eeca",
                "filename": "tasks/apt_install.yml",
                "previous_filename": null,
                "additions": 19,
                "deletions": 0,
                "changes": 19,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/0406395a8758f12abd57914532cc0ff17894d015/tasks/apt_install.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/0406395a8758f12abd57914532cc0ff17894d015/tasks/apt_install.yml",
                "status": "modified",
                "patch": "@@ -35,6 +35,25 @@\n   notify:\n     - stop-and-mask default tor instance\n \n+# Background:\n+# https://github.com/nusenu/ansible-relayor/issues/72\n+- name: Ensure systemd generator folder exists (Debian Testing and Ubuntu)\n+  become: yes\n+  file: path=/etc/systemd/system-generators state=directory mode=755\n+  when: ansible_lsb.codename != 'jessie'\n+\n+- name: Ensure custom systemd generator is in place (Debian/Ubuntu only)\n+  become: yes\n+  copy: src=tor-generator\n+   dest=\"{{ (ansible_lsb.codename == 'jessie')|ternary('/lib/systemd/system-generators/relayor-generator', '/etc/systemd/system-generators/tor-generator') }}\"\n+   owner=root\n+   mode=755\n+\n+- name: Ensure the maintainer's generator is disabled (Debian 8 only)\n+  become: yes\n+  command: dpkg-statoverride --update --add root root 644 /lib/systemd/system-generators/tor-generator\n+  when: ansible_lsb.codename == 'jessie'\n+\n \n #- name: Ensure AppArmor allows access to necessary files (Ubuntu)\n #  become: yes"
            }
        ]
    },
    {
        "repo": "rhevm-qe-automation/ovirt-ansible",
        "author_id": "MDQ6VXNlcjE4NzUxMzAz",
        "author_name": "Petr Kubica",
        "committer_id": "MDQ6VXNlcjE1MDU2ODQ=",
        "committer_name": "Lukas Bednar",
        "committer_email": "lukyn17@gmail.com",
        "message": "Fixed ovirt-engine-cleanup role (#105)\n\n* Fixed ovirt-engine-cleanup role\r\n- fixed answerfile 4.x\r\n- added link to main readme\r\n- added example to /examples\r\n\r\n* Enabled test for role ovirt-engine-cleanup\r\n\r\n* Fixed test and default variables\r\n\r\n* Fixing test",
        "sha": "2d35a85231c950b50f78a8c04d4d9b2cc558f1f1",
        "url": "https://api.github.com/repos/rhevm-qe-automation/ovirt-ansible/commits/2d35a85231c950b50f78a8c04d4d9b2cc558f1f1",
        "parents": [
            "bbfe2b84a5a9f265b136e89526f4fe314a6e097f"
        ],
        "files": [
            {
                "sha": "e0a173462fdced388f07754319f21ad3120e63d0",
                "filename": "roles/ovirt-engine-cleanup/defaults/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/rhevm-qe-automation/ovirt-ansible/blob/2d35a85231c950b50f78a8c04d4d9b2cc558f1f1/roles/ovirt-engine-cleanup/defaults/main.yml",
                "raw_url": "https://github.com/rhevm-qe-automation/ovirt-ansible/raw/2d35a85231c950b50f78a8c04d4d9b2cc558f1f1/roles/ovirt-engine-cleanup/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -7,8 +7,10 @@ ovirt_engine_db_host: 'localhost'\n ovirt_engine_db_port: 5432\n ovirt_engine_db_name: 'engine'\n ovirt_engine_db_user: 'engine'\n+ovirt_engine_db_password: 'AqbXg4dpkbcVRZwPbY8WOR'\n \n ovirt_engine_dwh_db_host: 'localhost'\n ovirt_engine_dwh_db_port: 5432\n ovirt_engine_dwh_db_name: 'ovirt_engine_history'\n ovirt_engine_dwh_db_user: 'ovirt_engine_history'\n+ovirt_engine_dwh_db_password: '37xmBKECANQGm0z3SfylMp'\n\\ No newline at end of file"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #11: Fix restart handler for misbehaving daemonization on Debian/Ubuntu",
        "sha": "2e4e34d46f5d74a22a9fb6b68ba0b609c03944d0",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/2e4e34d46f5d74a22a9fb6b68ba0b609c03944d0",
        "parents": [
            "e442beb8ddaefd3eb6035f60486c5dc50d0842c8"
        ],
        "files": [
            {
                "sha": "9c4c422884629a71fddc88e9a232da85bf60ae6e",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/2e4e34d46f5d74a22a9fb6b68ba0b609c03944d0/handlers/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/2e4e34d46f5d74a22a9fb6b68ba0b609c03944d0/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -1,3 +1,3 @@\n ---\n - name: restart solr\n-  service: name=solr state=restarted\n+  service: name=solr state=restarted sleep=5"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bjorn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bjorn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #97",
        "sha": "f3c81d09c0c321256db259c574f7bfcd33681c9e",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/f3c81d09c0c321256db259c574f7bfcd33681c9e",
        "parents": [
            "780b1754c3ac0406b0f3768fe2cfe3e89530913f"
        ],
        "files": [
            {
                "sha": "f3c95a2bc8422497879989ca795fd6b97873f488",
                "filename": "tasks/checks/distribution-checks-RedHat.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 0,
                "changes": 7,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/f3c81d09c0c321256db259c574f7bfcd33681c9e/tasks/checks/distribution-checks-RedHat.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/f3c81d09c0c321256db259c574f7bfcd33681c9e/tasks/checks/distribution-checks-RedHat.yml",
                "status": "modified",
                "patch": "@@ -3,3 +3,10 @@\n   fail:\n     msg: \"RedHat 7 or later is required!\"\n   when: _docker_os_dist_major_version < '7'\n+\n+# https://github.com/haxorof/ansible-role-docker-ce/issues/97\n+- name: Fail if Docker SDK/Stack/Compose shall be installed using PiP on RedHat\n+  fail:\n+    msg: \"This role does not handle packages coming from PiP!\"\n+  when: (docker_sdk | bool) or (docker_stack | bool)\n+    or (docker_compose | bool and not docker_compose_no_pip | bool)"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "author_name": "Jack Ivanov",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "e601809@gmail.com",
        "message": "Fixes #255",
        "sha": "e31f10da6da939a92b839b25d2205169ef5eecc9",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/e31f10da6da939a92b839b25d2205169ef5eecc9",
        "parents": [
            "d271b60b6a0e9fd7481a4c178d5162556b6bf56e"
        ],
        "files": [
            {
                "sha": "ca8ef8864cd8c8b94727642f514e71accac35545",
                "filename": "roles/vpn/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 3,
                "changes": 5,
                "blob_url": "https://github.com/trailofbits/algo/blob/e31f10da6da939a92b839b25d2205169ef5eecc9/roles/vpn/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/e31f10da6da939a92b839b25d2205169ef5eecc9/roles/vpn/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -46,9 +46,8 @@\n \n - name: Configure ip6tables so IPSec traffic can traverse the tunnel\n   iptables: ip_version=ipv6 table=nat chain=POSTROUTING source=\"{{ vpn_network_ipv6 }}\" jump=MASQUERADE\n-  when: ((security_enabled is not defined) or\n-        (security_enabled is defined and security_enabled != \"y\")) and\n-        ipv6_support is defined and ipv6_support == \"yes\"\n+  when: ((security_enabled is not defined) or (security_enabled is defined and security_enabled != \"y\")) and\n+        (ipv6_support is defined and ipv6_support == true)\n   notify:\n     - save iptables\n "
            },
            {
                "sha": "e45637480ece002f61e048d1862536dc8153c84f",
                "filename": "roles/cloud-digitalocean/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/trailofbits/algo/blob/e31f10da6da939a92b839b25d2205169ef5eecc9/roles/cloud-digitalocean/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/e31f10da6da939a92b839b25d2205169ef5eecc9/roles/cloud-digitalocean/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -51,7 +51,7 @@\n     do_access_token: \"{{ do_access_token }}\"\n     do_droplet_id: \"{{ do.droplet.id }}\"\n     cloud_provider: digitalocean\n-    ipv6_support: yes\n+    ipv6_support: true\n \n - set_fact:\n     cloud_instance_ip: \"{{ do.droplet.ip_address }}\""
            }
        ]
    },
    {
        "repo": "NVIDIA/deepops",
        "author_id": "MDQ6VXNlcjY4NzI2OQ==",
        "author_name": "Luke Yeager",
        "committer_id": "MDQ6VXNlcjEwMzQzMA==",
        "committer_name": "Doug Holt",
        "committer_email": "doug.holt@gmail.com",
        "message": "Fix nvidia-docker repo for xenial (#76)",
        "sha": "a88b40fbf6c5fd5af2b284d8385081067e618066",
        "url": "https://api.github.com/repos/NVIDIA/deepops/commits/a88b40fbf6c5fd5af2b284d8385081067e618066",
        "parents": [
            "f607a149478c5a7383368d256cb90eb8440e9d9e"
        ],
        "files": [
            {
                "sha": "83f084893785dd8ff5b6c94cc085eb45cc5c0ed3",
                "filename": "playbooks/nvidia-container-runtime.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 0,
                "changes": 9,
                "blob_url": "https://github.com/NVIDIA/deepops/blob/a88b40fbf6c5fd5af2b284d8385081067e618066/playbooks/nvidia-container-runtime.yml",
                "raw_url": "https://github.com/NVIDIA/deepops/raw/a88b40fbf6c5fd5af2b284d8385081067e618066/playbooks/nvidia-container-runtime.yml",
                "status": "modified",
                "patch": "@@ -7,13 +7,22 @@\n       apt_key:\n         url: https://nvidia.github.io/nvidia-docker/gpgkey\n         state: present\n+    - name: add nvidia-docker repo source\n+      get_url:\n+        url: https://nvidia.github.io/nvidia-docker/ubuntu16.04/nvidia-docker.list\n+        dest: /etc/apt/sources.list.d/nvidia-docker.list\n+        mode: 0644\n+        owner: root\n+        group: root\n+      when: (ansible_facts['distribution'] == 'Ubuntu' and ansible_facts['distribution_major_version'] == '16')\n     - name: add nvidia-docker repo source\n       get_url:\n         url: https://nvidia.github.io/nvidia-docker/ubuntu18.04/nvidia-docker.list\n         dest: /etc/apt/sources.list.d/nvidia-docker.list\n         mode: 0644\n         owner: root\n         group: root\n+      when: (ansible_facts['distribution'] == 'Ubuntu' and ansible_facts['distribution_major_version'] == '18')\n     - name: install nvidia-docker2\n       apt:\n         name: nvidia-docker2"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix #4\n\n- Added global variable to prevent dangerous behavior, but still set to\n  True.\n- Quickfix: Add \"false\" to the egrep match",
        "sha": "bc7af5efcd2c8565acee0dc5948c8b752f6c8990",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/bc7af5efcd2c8565acee0dc5948c8b752f6c8990",
        "parents": [
            "903181fe699ba052fc8c94ccf16e531b40064f51"
        ],
        "files": [
            {
                "sha": "7298a05b217bff1699236376ac9d7d5c85068a91",
                "filename": "tasks/section_13_level1.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/bc7af5efcd2c8565acee0dc5948c8b752f6c8990/tasks/section_13_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/bc7af5efcd2c8565acee0dc5948c8b752f6c8990/tasks/section_13_level1.yml",
                "status": "modified",
                "patch": "@@ -94,7 +94,7 @@\n       - section13.6\n \n   - name: 13.7.1 Check Permissions on User Home Directories (gather users) (Scored)\n-    shell: /bin/egrep -v '(root|halt|sync|shutdown)' /etc/passwd | /usr/bin/awk -F':' '($7 != \"/usr/sbin/nologin\") { print $6 }'\n+    shell: /bin/egrep -v '(root|halt|sync|shutdown|false)' /etc/passwd | /usr/bin/awk -F':' '($7 != \"/usr/sbin/nologin\") { print $6 }'\n     register: home_users\n     changed_when: False\n     failed_when: False\n@@ -109,6 +109,7 @@\n         state=directory\n     with_items:\n         home_users.stdout_lines\n+    when: modify_user_homes == True\n     tags:\n       - section13\n       - section13.7"
            }
        ]
    },
    {
        "repo": "sensu/sensu-ansible",
        "author_id": "MDQ6VXNlcjc0NzM0Mg==",
        "author_name": "Daniel Miranda",
        "committer_id": "MDQ6VXNlcjExOTAyNDc2",
        "committer_name": "Stephen Muth",
        "committer_email": "smuth4@users.noreply.github.com",
        "message": "Fix server SSL configuration for non-default file names (#53)\n\nSSL certificate files were copied with their original names, but the\r\nconfiguration files always used the \"default\" names of cert.pem and\r\nkey.pem. Specify the destination basenames explicitly to avoid\r\nmismatches.",
        "sha": "c74bc211402b5a6f1a923ab8d71b9af74a5aa0e7",
        "url": "https://api.github.com/repos/sensu/sensu-ansible/commits/c74bc211402b5a6f1a923ab8d71b9af74a5aa0e7",
        "parents": [
            "b02504a0a0a8b0e4169d0327a865dfe08866e9ec"
        ],
        "files": [
            {
                "sha": "35458a110117ef9e9b42fe3d0aaa5a9073643f62",
                "filename": "tasks/ssl.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/sensu/sensu-ansible/blob/c74bc211402b5a6f1a923ab8d71b9af74a5aa0e7/tasks/ssl.yml",
                "raw_url": "https://github.com/sensu/sensu-ansible/raw/c74bc211402b5a6f1a923ab8d71b9af74a5aa0e7/tasks/ssl.yml",
                "status": "modified",
                "patch": "@@ -15,12 +15,12 @@\n \n   - name: Deploy the Sensu client SSL cert/key\n     copy:\n-      src: \"{{ item }}\"\n+      src: \"{{ item.src }}\"\n       owner: \"{{ sensu_user_name }}\"\n       remote_src: \"{{ sensu_ssl_deploy_remote_src }}\"\n       group: \"{{ sensu_group_name }}\"\n-      dest: \"{{ sensu_config_path }}/ssl\"\n+      dest: \"{{ sensu_config_path }}/ssl/{{ item.dest }}\"\n     with_items:\n-      - \"{{ sensu_ssl_client_cert }}\"\n-      - \"{{ sensu_ssl_client_key }}\"\n+      - {src: \"{{ sensu_ssl_client_cert }}\", dest: cert.pem}\n+      - {src: \"{{ sensu_ssl_client_key }}\", dest: key.pem}\n     notify: restart sensu-client service"
            }
        ]
    },
    {
        "repo": "inkatze/wildfly",
        "author_id": "MDQ6VXNlcjY2NzE2NTM=",
        "author_name": "Aleksandr Kostyrev",
        "committer_id": null,
        "committer_name": "Juan Diego Romero Gonz\u00e1lez",
        "committer_email": "jd@beardcode.mx",
        "message": "Fixes #9",
        "sha": "6fada6f2a7515ab18178ae350168c3de147c4dd0",
        "url": "https://api.github.com/repos/inkatze/wildfly/commits/6fada6f2a7515ab18178ae350168c3de147c4dd0",
        "parents": [
            "b2591b9333f6e7e70f6b9d99e55356b30d7e173c"
        ],
        "files": [
            {
                "sha": "7fdac055073a00e9427cdad7247af68ec5886cf2",
                "filename": "tasks/configure.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/inkatze/wildfly/blob/6fada6f2a7515ab18178ae350168c3de147c4dd0/tasks/configure.yml",
                "raw_url": "https://github.com/inkatze/wildfly/raw/6fada6f2a7515ab18178ae350168c3de147c4dd0/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -47,6 +47,7 @@\n     - restart wildfly\n     - change standalone data mode\n \n+- name: Open wildfly management http tcp port\n   firewalld:\n     port: '{{ wildfly_manage_http_port }}/tcp'\n     permanent: yes"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "author_name": "Jack Ivanov",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "e601809@gmail.com",
        "message": "dirty fix #148",
        "sha": "d55878147327df3e8902c2b6e18dd90f92ce7b2b",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/d55878147327df3e8902c2b6e18dd90f92ce7b2b",
        "parents": [
            "abafe1581c6c78d784cf215b214947675d49eff8"
        ],
        "files": [
            {
                "sha": "36a051c6d1573cf31475d5fd434b4471f9f86d22",
                "filename": "playbooks/common.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/trailofbits/algo/blob/d55878147327df3e8902c2b6e18dd90f92ce7b2b/playbooks/common.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/d55878147327df3e8902c2b6e18dd90f92ce7b2b/playbooks/common.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,5 @@\n - name: Install prerequisites\n-  raw: sudo apt-get update -qq && sudo apt-get install -qq -y python2.7\n+  raw: sleep 10 && sudo apt-get update -qq && sudo apt-get install -qq -y python2.7\n \n - name: Configure defaults\n   raw: sudo update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix #66\n\nCopy-paste gone bad. Fixed thanks to @csikman.",
        "sha": "b20218eaea389bbb1c05a900fdda745ea61d8690",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/b20218eaea389bbb1c05a900fdda745ea61d8690",
        "parents": [
            "1818facd0a58a2b42203a403130b71825b960653"
        ],
        "files": [
            {
                "sha": "5db3ab6d07aef9878d52305772f2dcf9af678795",
                "filename": "tasks/section_12_level1.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/b20218eaea389bbb1c05a900fdda745ea61d8690/tasks/section_12_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/b20218eaea389bbb1c05a900fdda745ea61d8690/tasks/section_12_level1.yml",
                "status": "modified",
                "patch": "@@ -54,7 +54,7 @@\n       - section12.7\n \n   - name: 12.8 Find Un-owned Files and Directories (check) (Scored)\n-    shell: df --local -P | awk {'if (NR!=1) print $6'} | xargs -I '{}' find '{}' -xdev -nogroup -ls\n+    shell: df --local -P | awk {'if (NR!=1) print $6'} | xargs -I '{}' find '{}' -xdev -nouser -ls\n     changed_when: False\n     failed_when: False\n     register: unowned_files"
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjk1MTE=",
        "author_name": "duritong",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "Fix #270 - make lvm size configurable (#274)\n\n* Fix #270 - Make lvm size configurable\r\n\r\n* make it possible to configure the fstype per lvm",
        "sha": "c3b8eb7ce2b79fb375e6c09ded01a4efd3d9fe00",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/c3b8eb7ce2b79fb375e6c09ded01a4efd3d9fe00",
        "parents": [
            "b7ee8a0c3030974856d0b2c2df37b8d13935853c"
        ],
        "files": [
            {
                "sha": "d7b1e862aedad429ccd8a486cf9e01ff065a0ef3",
                "filename": "roles/config-lvm/tasks/lvm.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/c3b8eb7ce2b79fb375e6c09ded01a4efd3d9fe00/roles/config-lvm/tasks/lvm.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/c3b8eb7ce2b79fb375e6c09ded01a4efd3d9fe00/roles/config-lvm/tasks/lvm.yml",
                "status": "modified",
                "patch": "@@ -9,11 +9,11 @@\n   lvol: \n     vg: \"{{ item.vg_name }}\"\n     lv: \"{{ item.lv_name }}\"\n-    size: \"100%VG\"\n+    size: \"{{ item.lv_size | default(default_lv_size) }}\"\n \n - name: \"Create file system on share\"\n   filesystem:\n-    fstype: \"{{ lvm_fstype }}\"\n+    fstype: \"{{ item.lv_fstype | default(lvm_fstype) }}\"\n     dev: \"/dev/mapper/{{ item.vg_name }}-{{ item.lv_name }}\"\n \n - name: \"Ensure the mount dir exists\" \n@@ -23,7 +23,7 @@\n \n - name: \"Mount LVM to directory\"\n   mount:\n-    src: \"/dev/mapper/{{ item.vg_name }}-{{ item.lv_name }}\" \n+    src: \"/dev/mapper/{{ item.vg_name }}-{{ item.lv_name }}\"\n     path: \"{{ item.mount_path }}\"\n-    fstype: \"{{ lvm_fstype }}\" \n+    fstype: \"{{ item.lv_fstype | default(lvm_fstype) }}\"\n     state: mounted"
            },
            {
                "sha": "2880c831929bdf8b1b788ee2fc79faa464a938e1",
                "filename": "roles/config-lvm/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/c3b8eb7ce2b79fb375e6c09ded01a4efd3d9fe00/roles/config-lvm/defaults/main.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/c3b8eb7ce2b79fb375e6c09ded01a4efd3d9fe00/roles/config-lvm/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,3 +1,4 @@\n ---\n \n lvm_fstype: \"xfs\"\n+default_lv_size: \"100%VG\""
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "haxorof",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "haxorof",
        "committer_email": "bjorn.oscarsson@gmail.com",
        "message": "Fixes #3",
        "sha": "690360fffc5bdb505f7804c158dba0b37a23abb5",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/690360fffc5bdb505f7804c158dba0b37a23abb5",
        "parents": [
            "caab5a6cb327a68ef9dffbaca9fb5999e915f99b"
        ],
        "files": [
            {
                "sha": "230f132f50d5db53e973b6e6119b61c1d53e6d5b",
                "filename": "tasks/main-CentOS.yml",
                "previous_filename": null,
                "additions": 19,
                "deletions": 3,
                "changes": 22,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/690360fffc5bdb505f7804c158dba0b37a23abb5/tasks/main-CentOS.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/690360fffc5bdb505f7804c158dba0b37a23abb5/tasks/main-CentOS.yml",
                "status": "modified",
                "patch": "@@ -8,12 +8,28 @@\n   become: true\n \n - name: Add Docker CE repository\n-  shell: yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n-  args:\n-    creates: /etc/yum.repos.d/docker-ce.repo\n+  get_url:\n+    url: https://download.docker.com/linux/centos/docker-ce.repo\n+    dest: /etc/yum.repos.d/docker-ce.repo\n+    mode: 0644\n   become: true\n   register: yum_repo\n \n+- name: Determine Docker CE Edge repo status\n+  shell: yum-config-manager docker-ce-edge | grep enabled\n+  ignore_errors: yes\n+  changed_when: false\n+  register: cmd_docker_ce_edge_enabled\n+\n+- name: Set current Docker CE Edge repo status fact\n+  set_fact:\n+    fact_docker_ce_edge_enabled: \"{{ cmd_docker_ce_edge_enabled.stdout == 'enabled = True' }}\"\n+\n+- name: Enable/Disable Docker CE Edge Repository\n+  shell: yum-config-manager --{{ (docker_enable_ce_edge == true) | ternary('enable','disable') }} docker-ce-edge\n+  become: true\n+  when: fact_docker_ce_edge_enabled != docker_enable_ce_edge\n+\n - name: Update yum cache\n   shell: yum makecache fast\n   become: true"
            },
            {
                "sha": "1ff1427e7fa766fcaf945369eb82b433b6e65ba3",
                "filename": "tasks/main-Fedora.yml",
                "previous_filename": null,
                "additions": 19,
                "deletions": 3,
                "changes": 22,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/690360fffc5bdb505f7804c158dba0b37a23abb5/tasks/main-Fedora.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/690360fffc5bdb505f7804c158dba0b37a23abb5/tasks/main-Fedora.yml",
                "status": "modified",
                "patch": "@@ -2,12 +2,28 @@\n # tasks file for ansible-role-docker-ce\n \n - name: Add Docker CE repository\n-  shell: dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo\n-  args:\n-    creates: /etc/yum.repos.d/docker-ce.repo\n+  get_url:\n+    url: https://download.docker.com/linux/fedora/docker-ce.repo\n+    dest: /etc/yum.repos.d/docker-ce.repo\n+    mode: 0644\n   become: true\n   register: dnf_repo\n \n+- name: Determine Docker CE Edge repo status\n+  shell: dnf config-manager --dump docker-ce-edge | grep enabled\n+  ignore_errors: yes\n+  changed_when: false\n+  register: cmd_docker_ce_edge_enabled\n+\n+- name: Set current Docker CE Edge repo status fact\n+  set_fact:\n+    fact_docker_ce_edge_enabled: \"{{ cmd_docker_ce_edge_enabled.stdout == 'enabled = True' }}\"\n+\n+- name: Enable/Disable Docker CE Edge Repository\n+  shell: dnf config-manager --set-{{ (docker_enable_ce_edge == true) | ternary('enabled','disabled') }} docker-ce-edge\n+  become: true\n+  when: fact_docker_ce_edge_enabled != docker_enable_ce_edge\n+\n - name: Update dnf cache\n   shell: dnf makecache fast\n   become: true"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjE3NjQyMTA=",
        "author_name": "Paul Chaignon",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix password expiration policies (#107)\n\n* Fix password expiration configuration\r\n\r\nChange password expiration configuration only if insufficient\r\n\r\n* Fix missing parameters in config line",
        "sha": "b36675b91a1963ce0be0c221858d49c854572d2c",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/b36675b91a1963ce0be0c221858d49c854572d2c",
        "parents": [
            "92d2f38d01d7b33610c667cfdc03e28ab2912edc"
        ],
        "files": [
            {
                "sha": "9d788befede443a6f70b38815531a62715a67d1b",
                "filename": "tasks/section_10_level1.yml",
                "previous_filename": null,
                "additions": 34,
                "deletions": 2,
                "changes": 36,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/b36675b91a1963ce0be0c221858d49c854572d2c/tasks/section_10_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/b36675b91a1963ce0be0c221858d49c854572d2c/tasks/section_10_level1.yml",
                "status": "modified",
                "patch": "@@ -1,31 +1,63 @@\n ---\n \n+  - name: 10.1.1 Set Password Expiration Days (check) (Scored)\n+    command: grep -oP '(?<=^PASS_MAX_DAYS\\s)[0-9]+' /etc/login.defs\n+    register: pass_max_days\n+    changed_when: False\n+    always_run: True\n+    tags:\n+      - section10\n+      - section10.1\n+      - section10.1.1\n+\n   - name: 10.1.1 Set Password Expiration Days (Scored)\n     lineinfile: >\n         dest='/etc/login.defs'\n         line='PASS_MAX_DAYS 90'\n-        state=present\n         regexp='^PASS_MAX_DAYS'\n+    when: pass_max_days.stdout_lines > 90\n     tags:\n       - section10\n       - section10.1\n       - section10.1.1\n \n+  - name: 10.1.2 Set Password Change Minimum Number of Days (check) (Scored)\n+    command: grep -oP '(?<=^PASS_MIN_DAYS\\s)[0-9]+' /etc/login.defs\n+    register: pass_min_days\n+    changed_when: False\n+    always_run: True\n+    tags:\n+      - section10\n+      - section10.1\n+      - section10.1.2\n+\n   - name: 10.1.2 Set Password Change Minimum Number of Days (Scored)\n     lineinfile: >\n         dest='/etc/login.defs'\n         line='PASS_MIN_DAYS 7'\n         regexp='^PASS_MIN_DAYS'\n+    when: pass_min_days.stdout_lines < 7\n     tags:\n       - section10\n       - section10.1\n       - section10.1.2\n \n+  - name: 10.1.3 Set Password Expiring Warning Days (check) (Scored)\n+    command: grep -oP '(?<=^PASS_WARN_AGE\\s)[0-9]+' /etc/login.defs\n+    register: pass_warn_age\n+    changed_when: False\n+    always_run: True\n+    tags:\n+      - section10\n+      - section10.1\n+      - section10.1.3\n+\n   - name: 10.1.3 Set Password Expiring Warning Days (Scored)\n     lineinfile: >\n         dest='/etc/login.defs'\n-        line='PASS_WARN_AGE'\n+        line='PASS_WARN_AGE 7'\n         regexp='^PASS_WARN_AGE'\n+    when: pass_warn_age.stdout_lines < 7\n     tags:\n       - section10\n       - section10.1"
            }
        ]
    },
    {
        "repo": "NVIDIA/deepops",
        "author_id": "MDQ6VXNlcjY4NzI2OQ==",
        "author_name": "Luke Yeager",
        "committer_id": "MDQ6VXNlcjEwMzQzMA==",
        "committer_name": "Doug Holt",
        "committer_email": "doug.holt@gmail.com",
        "message": "Fix driver package name (#75)\n\nThe PPA package names are \"nvidia-XXX\".\r\nhttps://launchpad.net/~graphics-drivers/+archive/ubuntu/ppa",
        "sha": "7ef791f4cb0fe65aad3a058ee28fd31a43cd1e96",
        "url": "https://api.github.com/repos/NVIDIA/deepops/commits/7ef791f4cb0fe65aad3a058ee28fd31a43cd1e96",
        "parents": [
            "a88b40fbf6c5fd5af2b284d8385081067e618066"
        ],
        "files": [
            {
                "sha": "faaf33cf8c0142831b2ed0c8daac91387db1866b",
                "filename": "playbooks/nvidia-gpu-driver.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 2,
                "changes": 3,
                "blob_url": "https://github.com/NVIDIA/deepops/blob/7ef791f4cb0fe65aad3a058ee28fd31a43cd1e96/playbooks/nvidia-gpu-driver.yml",
                "raw_url": "https://github.com/NVIDIA/deepops/raw/7ef791f4cb0fe65aad3a058ee28fd31a43cd1e96/playbooks/nvidia-gpu-driver.yml",
                "status": "modified",
                "patch": "@@ -21,8 +21,7 @@\n         cache_valid_time: 3600\n         state: latest\n       with_items:\n-        - nvidia-driver-410\n-        - nvidia-utils-410\n+        - nvidia-410\n     - name: load nvidia driver\n       modprobe:\n         name: nvidia"
            }
        ]
    },
    {
        "repo": "openshift/openshift-ansible-contrib",
        "author_id": "MDQ6VXNlcjM0Njc1OA==",
        "author_name": "Eduardo M\u00ednguez",
        "committer_id": "MDQ6VXNlcjM4MTI1MDA=",
        "committer_name": "Ryan Cook",
        "committer_email": "rcook@redhat.com",
        "message": "Fix for this issue https://bugzilla.redhat.com/show_bug.cgi?id=1495372 (#793)",
        "sha": "e092a076b760a8d4ed679439a9cd1a95626e19fe",
        "url": "https://api.github.com/repos/openshift/openshift-ansible-contrib/commits/e092a076b760a8d4ed679439a9cd1a95626e19fe",
        "parents": [
            "07ed969d306a103e9dac48cc67545420ec360005"
        ],
        "files": [
            {
                "sha": "eb054a74bfabcb98e6d56c1356d32bfeac91c9cb",
                "filename": "reference-architecture/aws-ansible/playbooks/roles/cloudformation-infra/files/user_data_master.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/e092a076b760a8d4ed679439a9cd1a95626e19fe/reference-architecture/aws-ansible/playbooks/roles/cloudformation-infra/files/user_data_master.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/e092a076b760a8d4ed679439a9cd1a95626e19fe/reference-architecture/aws-ansible/playbooks/roles/cloudformation-infra/files/user_data_master.yml",
                "status": "modified",
                "patch": "@@ -29,6 +29,7 @@ write_files:\n     STORAGE_DRIVER=overlay2\n     CONTAINER_ROOT_LV_NAME=dockerlv\n     CONTAINER_ROOT_LV_MOUNT_PATH=/var/lib/docker\n+    CONTAINER_ROOT_LV_SIZE=100%FREE\n     ROOT_SIZE=45G\n     GROWPART=true\n   path: /etc/sysconfig/docker-storage-setup"
            },
            {
                "sha": "2eaefa8b78dfc3fd0f1f0e2b5fd6d4dbabaae86b",
                "filename": "reference-architecture/aws-ansible/playbooks/roles/cloudformation-infra/files/user_data_node.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/e092a076b760a8d4ed679439a9cd1a95626e19fe/reference-architecture/aws-ansible/playbooks/roles/cloudformation-infra/files/user_data_node.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/e092a076b760a8d4ed679439a9cd1a95626e19fe/reference-architecture/aws-ansible/playbooks/roles/cloudformation-infra/files/user_data_node.yml",
                "status": "modified",
                "patch": "@@ -23,6 +23,7 @@ write_files:\n     STORAGE_DRIVER=overlay2\n     CONTAINER_ROOT_LV_NAME=dockerlv\n     CONTAINER_ROOT_LV_MOUNT_PATH=/var/lib/docker\n+    CONTAINER_ROOT_LV_SIZE=100%FREE\n     ROOT_SIZE=45G\n     GROWPART=true\n   path: /etc/sysconfig/docker-storage-setup"
            }
        ]
    },
    {
        "repo": "lean-delivery/ansible-role-java",
        "author_id": "MDQ6VXNlcjQwMzAwNjQy",
        "author_name": "Timur Gadiev",
        "committer_id": "MDQ6VXNlcjkzOTIwMzM=",
        "committer_name": "Pavel Pikta",
        "committer_email": "pavel_pikta@epam.com",
        "message": "Fix adopt win choco (#93)\n\n* Test adoptopenjdk win 13\r\n\r\nSigned-off-by: Timur Gadiev <Timur_Gadiev@epam.com>\r\n\r\n* Change debug tasks\r\n\r\nSigned-off-by: Timur Gadiev <Timur_Gadiev@epam.com>\r\n\r\n* Test updated regex\r\n\r\nSigned-off-by: Timur Gadiev <Timur_Gadiev@epam.com>\r\n\r\n* Change adoptopenjdk_choco_folder\r\n\r\nSigned-off-by: Timur Gadiev <Timur_Gadiev@epam.com>\r\n\r\n* Test java_package\r\n\r\nSigned-off-by: Timur Gadiev <Timur_Gadiev@epam.com>\r\n\r\n* Enable all tests\r\n\r\nSigned-off-by: Timur Gadiev <Timur_Gadiev@epam.com>\r\n\r\n* Updated test (shape m5)\r\n\r\nSigned-off-by: Timur Gadiev <Timur_Gadiev@epam.com>",
        "sha": "beb41b82405655aa385bb8297bf49ada1a4eb14c",
        "url": "https://api.github.com/repos/lean-delivery/ansible-role-java/commits/beb41b82405655aa385bb8297bf49ada1a4eb14c",
        "parents": [
            "f9310d340d7ef77d1b47df05e6d09619e5baa3f5"
        ],
        "files": [
            {
                "sha": "5e84fc63ccb802e45e96d213b7f023005f791e45",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/beb41b82405655aa385bb8297bf49ada1a4eb14c/meta/main.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/beb41b82405655aa385bb8297bf49ada1a4eb14c/meta/main.yml",
                "status": "modified",
                "patch": "@@ -10,7 +10,6 @@ galaxy_info:\n   platforms:\n     - name: \"Ubuntu\"\n       versions:\n-        - \"trusty\"\n         - \"xenial\"\n         - \"bionic\"\n     - name: \"Debian\"\n@@ -26,7 +25,8 @@ galaxy_info:\n         - \"Candidate\"\n     - name: \"Windows\"\n       versions:\n-        - \"all\"\n+        - \"2016\"\n+        - \"2019\"\n \n   galaxy_tags:\n     - \"development\""
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fix #563 - Improve remote databases\n\nPreviously you had to manually toggle the remote database option via\n`mysql_remote_database` (which also didn't fully work).\n\nNow Trellis automatically detects if the sites are using a remote\n`db_host` or not (aka not `localhost`) and handles things accordingly.\n\nThis also installs the mysql-client now regardless.",
        "sha": "255c461f1d5d2c1378ce1a71fd0feadae3f49cb6",
        "url": "https://api.github.com/repos/roots/trellis/commits/255c461f1d5d2c1378ce1a71fd0feadae3f49cb6",
        "parents": [
            "ed6c63587adb3ffbdd60f64644470d9f7d81d13d"
        ],
        "files": [
            {
                "sha": "32b3d530d433c3cde2d993f8b4afb3a548d1f059",
                "filename": "roles/mariadb/defaults/main.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 4,
                "changes": 12,
                "blob_url": "https://github.com/roots/trellis/blob/255c461f1d5d2c1378ce1a71fd0feadae3f49cb6/roles/mariadb/defaults/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/255c461f1d5d2c1378ce1a71fd0feadae3f49cb6/roles/mariadb/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,8 @@\n-keyserver_fingerprint: \"0xcbcb082a1bb943db\"\n-mirror: nyc2.mirrors.digitalocean.com\n-version: \"10.0\"\n-binary_logging_disabled: true\n+mariadb_binary_logging_disabled: true\n+mariadb_keyserver_fingerprint: \"0xcbcb082a1bb943db\"\n+mariadb_mirror: nyc2.mirrors.digitalocean.com\n+mariadb_version: \"10.0\"\n+mariadb_dist: trusty\n+mysql_root_user: root\n+\n+sites_using_remote_db: \"[{% for name, site in wordpress_sites.iteritems() if site.env is defined and site.env.db_host | default('localhost') != 'localhost' %}'{{ name }}',{% endfor %}]\""
            },
            {
                "sha": "a957171a0ef9bc40ab1e297f190a96cdcd9ac245",
                "filename": "roles/mariadb/tasks/main.yml",
                "previous_filename": null,
                "additions": 57,
                "deletions": 49,
                "changes": 106,
                "blob_url": "https://github.com/roots/trellis/blob/255c461f1d5d2c1378ce1a71fd0feadae3f49cb6/roles/mariadb/tasks/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/255c461f1d5d2c1378ce1a71fd0feadae3f49cb6/roles/mariadb/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,68 +1,76 @@\n ---\n - name: Add MariaDB MySQL apt-key\n   apt_key:\n-    url: \"http://keyserver.ubuntu.com/pks/lookup?op=get&fingerprint=on&search={{ keyserver_fingerprint }}\"\n+    url: \"http://keyserver.ubuntu.com/pks/lookup?op=get&fingerprint=on&search={{ mariadb_keyserver_fingerprint }}\"\n     state: present\n \n - name: Add MariaDB MySQL deb and deb-src\n   apt_repository:\n     repo: \"{{ item }}\"\n     state: present\n   with_items:\n-  - \"deb http://{{ mirror }}/mariadb/repo/{{ version }}/ubuntu {{ mariadb_dist | default(ansible_distribution_release) }} main\"\n-  - \"deb-src http://{{ mirror }}/mariadb/repo/{{ version }}/ubuntu {{ mariadb_dist | default(ansible_distribution_release) }} main\"\n+    - \"deb http://{{ mariadb_mirror }}/mariadb/repo/{{ mariadb_version }}/ubuntu {{ mariadb_dist | default(ansible_distribution_release) }} main\"\n+    - \"deb-src http://{{ mariadb_mirror }}/mariadb/repo/{{ mariadb_version }}/ubuntu {{ mariadb_dist | default(ansible_distribution_release) }} main\"\n \n-- name: Install MariaDB MySQL server\n+- name: Install MySQL client\n   apt:\n-    name: mariadb-server\n+    name: mariadb-client\n     state: present\n \n-- name: Disable MariaDB binary logging\n-  template:\n-    src: disable-binary-logging.cnf\n-    dest: /etc/mysql/conf.d\n-    owner: root\n-    group: root\n-  when: binary_logging_disabled\n+- block:\n+  - name: Install MariaDB MySQL server\n+    apt:\n+      name: mariadb-server\n+      state: present\n \n-- name: Restart MariaDB MySQL Server\n-  service:\n-    name: mysql\n-    state: restarted\n-    enabled: true\n+  - name: Disable MariaDB binary logging\n+    template:\n+      src: disable-binary-logging.cnf\n+      dest: /etc/mysql/conf.d\n+      owner: root\n+      group: root\n+    when: mariadb_binary_logging_disabled\n \n-- name: Set root user password\n-  mysql_user:\n-    name: root\n-    host: \"{{ item }}\"\n-    password: \"{{ mysql_root_password }}\"\n-    check_implicit_admin: yes\n-    state: present\n-  with_items:\n-    - \"{{ inventory_hostname }}\"\n-    - 127.0.0.1\n-    - ::1\n-    - localhost\n+  - name: Restart MariaDB MySQL Server\n+    service:\n+      name: mysql\n+      state: restarted\n+      enabled: true\n \n-- name: Copy .my.cnf file with root password credentials.\n-  template:\n-    src: my.cnf.j2\n-    dest: ~/.my.cnf\n-    owner: root\n-    group: root\n-    mode: 0600\n+  - name: Set root user password\n+    mysql_user:\n+      name: root\n+      host: \"{{ item }}\"\n+      password: \"{{ mysql_root_password }}\"\n+      check_implicit_admin: yes\n+      state: present\n+    with_items:\n+      - \"{{ inventory_hostname }}\"\n+      - 127.0.0.1\n+      - ::1\n+      - localhost\n \n-- name: Delete anonymous MySQL server users\n-  mysql_user:\n-    user: \"\"\n-    host: \"{{ item }}\"\n-    state: absent\n-  with_items:\n-    - localhost\n-    - \"{{ inventory_hostname }}\"\n-    - \"{{ ansible_hostname }}\"\n+  - name: Copy .my.cnf file with root password credentials.\n+    template:\n+      src: my.cnf.j2\n+      dest: ~/.my.cnf\n+      owner: root\n+      group: root\n+      mode: 0600\n+\n+  - name: Delete anonymous MySQL server users\n+    mysql_user:\n+      user: \"\"\n+      host: \"{{ item }}\"\n+      state: absent\n+    with_items:\n+      - localhost\n+      - \"{{ inventory_hostname }}\"\n+      - \"{{ ansible_hostname }}\"\n+\n+  - name: Remove the test database\n+    mysql_db:\n+      name: test\n+      state: absent\n \n-- name: Remove the test database\n-  mysql_db:\n-    name: test\n-    state: absent\n+  when: not sites_using_remote_db | count"
            },
            {
                "sha": "63db5b5cbcc936341624c66a5f7f221673962718",
                "filename": "roles/wordpress-setup/tasks/database.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/roots/trellis/blob/255c461f1d5d2c1378ce1a71fd0feadae3f49cb6/roles/wordpress-setup/tasks/database.yml",
                "raw_url": "https://github.com/roots/trellis/raw/255c461f1d5d2c1378ce1a71fd0feadae3f49cb6/roles/wordpress-setup/tasks/database.yml",
                "status": "modified",
                "patch": "@@ -7,7 +7,7 @@\n     login_user: \"{{ mysql_root_user }}\"\n     login_password: \"{{ mysql_root_password }}\"\n   with_dict: \"{{ wordpress_sites }}\"\n-  when: not mysql_remote_database and item.value.db_create | default(True)\n+  when: site_uses_local_db and item.value.db_create | default(True)\n \n - name: Create/assign database user to db and grant permissions\n   mysql_user:\n@@ -20,7 +20,7 @@\n     login_user: \"{{ mysql_root_user }}\"\n     login_password: \"{{ mysql_root_password }}\"\n   with_dict: \"{{ wordpress_sites }}\"\n-  when: not mysql_remote_database and item.value.db_create | default(True)\n+  when: site_uses_local_db and item.value.db_create | default(True)\n \n - name: Copy database dump\n   copy:"
            }
        ]
    },
    {
        "repo": "HanXHX/ansible-mysql",
        "author_id": "MDQ6VXNlcjE1Mjc4NjM=",
        "author_name": "Mitchel",
        "committer_id": "MDQ6VXNlcjU2NjQyMTU=",
        "committer_name": "Emilien M",
        "committer_email": "HanXHX@users.noreply.github.com",
        "message": "Fix deprecation warning (#30)",
        "sha": "e9b46e347e047670e337b9be7380d320010bfd2d",
        "url": "https://api.github.com/repos/HanXHX/ansible-mysql/commits/e9b46e347e047670e337b9be7380d320010bfd2d",
        "parents": [
            "8802c6d50d54583955be4354e6bfebf3f0e776c6"
        ],
        "files": [
            {
                "sha": "25001941657d1c74cf030403118ada4293bac5d0",
                "filename": "tasks/install/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 2,
                "changes": 3,
                "blob_url": "https://github.com/HanXHX/ansible-mysql/blob/e9b46e347e047670e337b9be7380d320010bfd2d/tasks/install/main.yml",
                "raw_url": "https://github.com/HanXHX/ansible-mysql/raw/e9b46e347e047670e337b9be7380d320010bfd2d/tasks/install/main.yml",
                "status": "modified",
                "patch": "@@ -14,9 +14,8 @@\n \n - name: APT | Install few MariaDB related tools\n   apt:\n-    pkg: \"{{ item }}\"\n+    pkg: \"{{ mariadb_tools }}\"\n     install_recommends: no\n-  with_items: \"{{ mariadb_tools }}\"\n \n - name: APT | Install percona-xtrabackup if needed\n   apt:"
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjQzNTQ5NDg=",
        "author_name": "Patrick C",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "Fix atlassian var names (#293)\n\n* change atlassian.user to atlassian.users\r\n\r\n* change jira_admin to admin_group\r\n\r\n* update to dynamically build the permissions list instead of using a static jinja file, get rid of camel case, clarify naming of vars\r\n\r\n* update readme\r\n\r\n* update to simplify\r\n\r\n* update with oystein changes",
        "sha": "abc45ed164c9b2ac57eea0edda8515673a9942ea",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/abc45ed164c9b2ac57eea0edda8515673a9942ea",
        "parents": [
            "9925a1fe9dadb982563155b57b6001182f7fe617"
        ],
        "files": [
            {
                "sha": "2b9e64f1609e7cfa8b2fcd76c1758b7b0025a76d",
                "filename": "roles/manage-jira/tasks/prepare_vars.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 0,
                "changes": 6,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/abc45ed164c9b2ac57eea0edda8515673a9942ea/roles/manage-jira/tasks/prepare_vars.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/abc45ed164c9b2ac57eea0edda8515673a9942ea/roles/manage-jira/tasks/prepare_vars.yml",
                "status": "modified",
                "patch": "@@ -4,3 +4,9 @@\n     jira_url: \"{{ atlassian.jira.url | default(atlassian.url) }}\"\n     jira_username: \"{{ atlassian.jira.username | default(atlassian.username) }}\"\n     jira_password: \"{{ atlassian.jira.password | default(atlassian.password) }}\"\n+\n+- name: Build permission list variable\n+  include_tasks: build_permissions_list.yml\n+  loop: \"{{ atlassian.jira.groups | default([]) }}\"\n+  loop_control:\n+    loop_var: group"
            },
            {
                "sha": "c727a85274b28b3668fce7125bb18b9e197c080b",
                "filename": "roles/manage-jira/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/abc45ed164c9b2ac57eea0edda8515673a9942ea/roles/manage-jira/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/abc45ed164c9b2ac57eea0edda8515673a9942ea/roles/manage-jira/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n - include_tasks: prepare_vars.yml \n \n - include_tasks: create_project_category.yml\n- \n+\n - include_tasks: create_permission_scheme.yml\n \n - include_tasks: create_project.yml"
            },
            {
                "sha": "81567832cd082af86f301dcf592456b2f1476fb3",
                "filename": "roles/manage-jira/tasks/create_permission_scheme.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 4,
                "changes": 11,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/abc45ed164c9b2ac57eea0edda8515673a9942ea/roles/manage-jira/tasks/create_permission_scheme.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/abc45ed164c9b2ac57eea0edda8515673a9942ea/roles/manage-jira/tasks/create_permission_scheme.yml",
                "status": "modified",
                "patch": "@@ -7,14 +7,17 @@\n     password: \"{{ jira_password }}\"\n     return_content: yes\n     force_basic_auth: yes\n-    body_format: json\n     header:\n       - Accept: 'application/json'\n       - Content-Type: 'application/json'\n-    body: \"{{ lookup('template','permissionScheme.json.j2') }}\"\n+    body_format: json\n+    body:\n+      name: \"{{ atlassian.jira.permission_scheme.name }}\"\n+      description: \"{{ atlassian.jira.permission_scheme.description }}\"\n+      permissions: \"{{ permission_list }}\"\n     status_code: 201\n-  register: permissionScheme\n+  register: permission_scheme_output\n \n - name: Set fact for Permission Scheme ID\n   set_fact:\n-    PermissionScheme: \"{{ permissionScheme.json.id }}\"\n+    default_permission_scheme_id: \"{{ permission_scheme_output.json.id }}\""
            },
            {
                "sha": "258d2733fee1293ebbf56f96f54178c701a0bacd",
                "filename": "roles/manage-jira/tasks/create_project.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/abc45ed164c9b2ac57eea0edda8515673a9942ea/roles/manage-jira/tasks/create_project.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/abc45ed164c9b2ac57eea0edda8515673a9942ea/roles/manage-jira/tasks/create_project.yml",
                "status": "modified",
                "patch": "@@ -19,7 +19,7 @@\n              'lead': '{{ atlassian.jira.lead }}',\n              'assigneeType': 'PROJECT_LEAD',\n              'avatarId': 10200,\n-             'permissionScheme': '{{ atlassian.jira.permission_scheme.id | default(PermissionScheme) }}',\n+             'permissionScheme': '{{ atlassian.jira.permission_scheme.id | default(default_permission_scheme_id) }}',\n              'notificationScheme': 10000, \n              'categoryId': '{{ CategoryID }}' \n            }\""
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjUyNTM2NzE=",
        "author_name": "Phil Huang",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "Fixed NVD switched to HTTPS issue (#368)\n\nNVD stopped provide HTTPS traffic and switched to HTTPS\r\n\r\nclair-jwt v2.0.7+ can resolve the issue\r\n\r\nSigned-off-by: Phil Huang <phil.huang@redhat.com>",
        "sha": "d34de7b476a164b23bda483f9bf6853264ca89ec",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/d34de7b476a164b23bda483f9bf6853264ca89ec",
        "parents": [
            "a050f0c00e18bfe3e91ea67ee6fc4461ed6e904f"
        ],
        "files": [
            {
                "sha": "afa50280eb84f03e3a519f2b574e35f2a8f97bc1",
                "filename": "roles/config-clair/defaults/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/d34de7b476a164b23bda483f9bf6853264ca89ec/roles/config-clair/defaults/main.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/d34de7b476a164b23bda483f9bf6853264ca89ec/roles/config-clair/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -10,7 +10,7 @@ systemd_service_dir: /usr/lib/systemd/system\n systemd_environmentfile_dir: /etc/sysconfig\n \n # Clair\n-clair_image: quay.io/coreos/clair-jwt:v2.0.4\n+clair_image: quay.io/coreos/clair-jwt:v2.0.8\n clair_config_dir: /var/lib/clair/config\n clair_container_config_dir: /config\n clair_ssl_trust_configure: False\n@@ -46,4 +46,4 @@ clair_container_api_port: 6061\n #clair_ssl_generate_country: US\n #clair_ssl_generate_organization: Red Hat\n #clair_ssl_generate_organizational_unit: CoP\n-#clair_ssl_generate_days_validity: 365\n\\ No newline at end of file\n+#clair_ssl_generate_days_validity: 365"
            }
        ]
    },
    {
        "repo": "Icinga/ansible-icinga2",
        "author_id": "MDQ6VXNlcjE3NzM0MjE=",
        "author_name": "Arjan Oosting",
        "committer_id": "MDQ6VXNlcjE1MDcyMDcx",
        "committer_name": "Assaf Flatto",
        "committer_email": "aflatto@users.noreply.github.com",
        "message": "Fix ansible lint issues (#38)\n\n* Add spaces to fix warning\r\n* Remove categories\r\n* Jinja2 templates should use dict.items()to be compatible with both Python2 and Python3\r\n* Enable EPEL",
        "sha": "d2c53070e481259c0099d42d572b85fa8cf8af63",
        "url": "https://api.github.com/repos/Icinga/ansible-icinga2/commits/d2c53070e481259c0099d42d572b85fa8cf8af63",
        "parents": [
            "0c8478433bff40d6c1eda61fe14b98ae904996b1"
        ],
        "files": [
            {
                "sha": "f70a63f9663639ddf9d3ccb248f88e91bf7980f1",
                "filename": "tasks/icinga2-RedHat.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 0,
                "changes": 7,
                "blob_url": "https://github.com/Icinga/ansible-icinga2/blob/d2c53070e481259c0099d42d572b85fa8cf8af63/tasks/icinga2-RedHat.yml",
                "raw_url": "https://github.com/Icinga/ansible-icinga2/raw/d2c53070e481259c0099d42d572b85fa8cf8af63/tasks/icinga2-RedHat.yml",
                "status": "modified",
                "patch": "@@ -9,6 +9,13 @@\n     gpgcheck: yes\n   when: i2_manage_repository\n \n+- name: RedHat - Ensure EPEL is enabled\n+  become: True\n+  yum:\n+    name: epel-release\n+    state: present\n+  when: i2_manage_package\n+\n - name: RedHat - Ensure icinga2 is installed\n   become: yes\n   yum:"
            },
            {
                "sha": "c20b4eb08dfaa0554b100b9f8eb350957f52fd3e",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 2,
                "changes": 2,
                "blob_url": "https://github.com/Icinga/ansible-icinga2/blob/d2c53070e481259c0099d42d572b85fa8cf8af63/meta/main.yml",
                "raw_url": "https://github.com/Icinga/ansible-icinga2/raw/d2c53070e481259c0099d42d572b85fa8cf8af63/meta/main.yml",
                "status": "modified",
                "patch": "@@ -18,8 +18,6 @@ galaxy_info:\n       versions:\n         - 16.04\n         - 18.04\n-  categories:\n-    - system\n   galaxy_tags:\n     - monitoring\n     - icinga"
            },
            {
                "sha": "4a5d52cdd9edbdd0a6cebd9e25727615d4ce6434",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/Icinga/ansible-icinga2/blob/d2c53070e481259c0099d42d572b85fa8cf8af63/tasks/main.yml",
                "raw_url": "https://github.com/Icinga/ansible-icinga2/raw/d2c53070e481259c0099d42d572b85fa8cf8af63/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,6 @@\n ---\n - name: Include OS specific vars\n-  include_vars: \"{{ansible_os_family}}.yml\"\n+  include_vars: \"{{ ansible_os_family }}.yml\"\n   tags:\n     - feature-handler\n     - config"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bjorn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bjorn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #104",
        "sha": "8d4956fcd97d78caa57ee3e5a36e9c44a23ab2a6",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/8d4956fcd97d78caa57ee3e5a36e9c44a23ab2a6",
        "parents": [
            "f0a45b0db41256bef05f1487a7b5a2a37d6afe65"
        ],
        "files": [
            {
                "sha": "29acfcd4e933ef9cf1f6be2f1a72eab211bde693",
                "filename": "tasks/install-docker.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8d4956fcd97d78caa57ee3e5a36e9c44a23ab2a6/tasks/install-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8d4956fcd97d78caa57ee3e5a36e9c44a23ab2a6/tasks/install-docker.yml",
                "status": "modified",
                "patch": "@@ -25,7 +25,8 @@\n     - _docker_packages is not defined\n     - (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version | int < 9) or\n       (_docker_os_dist == \"Fedora\" and _docker_os_dist_major_version | int < 27) or\n-      (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version | int < 16)\n+      (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version | int < 16) or\n+      (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version | int == 17) \n \n - name: Ensure Docker CE is installed\n   become: true"
            }
        ]
    },
    {
        "repo": "ansible-ThoTeam/nexus3-oss",
        "author_id": "MDQ6VXNlcjE3Njc3Ng==",
        "author_name": "Olivier Clavel",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #65 from Brialius/Fix-version-comparison\n\nFix version comparison\r\n\r\nFixes #64",
        "sha": "86724cf84fd0fc05d82f8d3dd677b4674cba1338",
        "url": "https://api.github.com/repos/ansible-ThoTeam/nexus3-oss/commits/86724cf84fd0fc05d82f8d3dd677b4674cba1338",
        "parents": [
            "da19a34b6fe5f0aa93dd4a66c624695ccd323ca8",
            "975ad11730eb7c738633761c8ed62db78d72b513"
        ],
        "files": [
            {
                "sha": "3f4508fee4d2e371978fda5f6a356ee87467deee",
                "filename": "tasks/nexus_install.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 6,
                "changes": 12,
                "blob_url": "https://github.com/ansible-ThoTeam/nexus3-oss/blob/86724cf84fd0fc05d82f8d3dd677b4674cba1338/tasks/nexus_install.yml",
                "raw_url": "https://github.com/ansible-ThoTeam/nexus3-oss/raw/86724cf84fd0fc05d82f8d3dd677b4674cba1338/tasks/nexus_install.yml",
                "status": "modified",
                "patch": "@@ -53,18 +53,18 @@\n - name: Get path to default settings\n   set_fact:\n     nexus_default_settings_file: \"{{ nexus_installation_dir }}/nexus-latest/etc/org.sonatype.nexus.cfg\"\n-  when: nexus_version < '3.1.0'\n+  when: nexus_version is version_compare('3.1.0', '<')\n \n - name: Get path to default settings\n   set_fact:\n     nexus_default_settings_file: \"{{ nexus_installation_dir }}/nexus-latest/etc/nexus-default.properties\"\n-  when: nexus_version >= '3.1.0'\n+  when: nexus_version is version_compare('3.1.0', '>=')\n \n - name: Get application settings directories\n   set_fact:\n     nexus_app_dir_settings_dirs:\n       - \"{{ nexus_installation_dir }}/nexus-latest/etc\"\n-  when: nexus_version < '3.1.0'\n+  when: nexus_version is version_compare('3.1.0', '<')\n \n - name: Get application settings directories\n   set_fact:\n@@ -75,17 +75,17 @@\n       - \"{{ nexus_installation_dir }}/nexus-latest/etc/fabric\"\n       - \"{{ nexus_installation_dir }}/nexus-latest/etc/logback\"\n       - \"{{ nexus_installation_dir }}/nexus-latest/etc/scripts\"\n-  when: nexus_version >= '3.1.0'\n+  when: nexus_version is version_compare('3.1.0', '>=')\n \n - name: Get rest API endpoint (v < 3.8.0)\n   set_fact:\n     nexus_rest_api_endpoint: \"service/siesta/rest/v1/script\"\n-  when: nexus_version < '3.8.0'\n+  when: nexus_version is version_compare('3.8.0', '<')\n \n - name: Get rest API endpoint (v >= 3.8.0)\n   set_fact:\n     nexus_rest_api_endpoint: \"service/rest/v1/script\"\n-  when: nexus_version >='3.8.0'\n+  when: nexus_version is version_compare('3.8.0', '>=')\n \n - name: Allow nexus to create first-time install configuration files in  {{ nexus_installation_dir }}/nexus-latest/etc\n   file:"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjIwNjUzMjQy",
        "author_name": "Defunct",
        "committer_id": "MDQ6VXNlcjIwNjUzMjQy",
        "committer_name": "Defunct",
        "committer_email": "defunct@defunct.io",
        "message": "resolves #126 - incorrect private key usage w/o ssh-agent",
        "sha": "437d659eb638545a26395c75f374ab61cc8c95fb",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/437d659eb638545a26395c75f374ab61cc8c95fb",
        "parents": [
            "74b9f0a15a2d466726960eeabc6a840ad6bc5048"
        ],
        "files": [
            {
                "sha": "4b8de61ef4152770d5ddbc3bdb3ea0e6e9113c80",
                "filename": "roles/cloud-ec2/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/trailofbits/algo/blob/437d659eb638545a26395c75f374ab61cc8c95fb/roles/cloud-ec2/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/437d659eb638545a26395c75f374ab61cc8c95fb/roles/cloud-ec2/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -66,6 +66,7 @@\n - name: Add new instance to host group\n   add_host:\n     hostname: \"{{ item.public_ip }}\"\n+    ansible_ssh_private_key_file: \"{{ ssh_public_key[:-4] }}\"\n     groupname: vpn-host\n     ansible_ssh_user: ubuntu\n     ansible_python_interpreter: \"/usr/bin/python2.7\""
            }
        ]
    },
    {
        "repo": "arknoll/ansible-role-selenium",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #32: Use ansible_service_mgr to detect systemd systems.",
        "sha": "9903a42438513f891d4c86f77f584f9255eb828f",
        "url": "https://api.github.com/repos/arknoll/ansible-role-selenium/commits/9903a42438513f891d4c86f77f584f9255eb828f",
        "parents": [
            "53893b0f32a4b42372814a73e7d64b2742419b00"
        ],
        "files": [
            {
                "sha": "16533ab495468769b9ff23e5d8a5c456198c5d8b",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 10,
                "changes": 13,
                "blob_url": "https://github.com/arknoll/ansible-role-selenium/blob/9903a42438513f891d4c86f77f584f9255eb828f/tasks/main.yml",
                "raw_url": "https://github.com/arknoll/ansible-role-selenium/raw/9903a42438513f891d4c86f77f584f9255eb828f/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -80,6 +80,7 @@\n     owner: root\n     group: root\n     mode: 0755\n+  when: \"ansible_service_mgr != 'systemd'\"\n   tags: [configuration, selenium, selenium-install]\n \n - name: Install systemd unit file (for systemd systems)\n@@ -89,20 +90,12 @@\n     owner: root\n     group: root\n     mode: 0755\n-  when: >\n-    (ansible_distribution == 'Ubuntu' and ansible_distribution_version.split(\".\")[0]|int >= 16) or\n-    (ansible_distribution == 'Debian' and ansible_distribution_version.split(\".\")[0]|int >= 8) or\n-    (ansible_distribution == 'CentOS' and ansible_distribution_version.split(\".\")[0]|int >= 7) or\n-    (ansible_distribution == 'Fedora')\n+  when: \"ansible_service_mgr == 'systemd'\"\n   tags: [configuration, selenium, selenium-install]\n \n - name: Register systemd service status (for systemd systems)\n   shell: 'systemctl status selenium | grep \"active (running)\"'\n-  when: >\n-    (ansible_distribution == 'Ubuntu' and ansible_distribution_version.split(\".\")[0]|int >= 16) or\n-    (ansible_distribution == 'Debian' and ansible_distribution_version.split(\".\")[0]|int >= 8) or\n-    (ansible_distribution == 'CentOS' and ansible_distribution_version.split(\".\")[0]|int >= 7) or\n-    (ansible_distribution == 'Fedora')\n+  when: \"ansible_service_mgr == 'systemd'\"\n   register: selenium_running\n   ignore_errors: yes\n   changed_when: false"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": null,
        "author_name": "spoonboy",
        "committer_id": null,
        "committer_name": "spoonboy",
        "committer_email": "sabri.eddir@orange.com",
        "message": "Fix #23\nAdded some modification on Section 2, for mount options.",
        "sha": "50cad8d63538c0a863f2da59de9bc9c8b472a0ba",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/50cad8d63538c0a863f2da59de9bc9c8b472a0ba",
        "parents": [
            "9ad67b6ef151d5fbaa05230e6cecb4bed1db7d9d"
        ],
        "files": [
            {
                "sha": "dccaf0b50a38336210205e2b20ea840905a302b1",
                "filename": "tasks/section_02_level1.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/50cad8d63538c0a863f2da59de9bc9c8b472a0ba/tasks/section_02_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/50cad8d63538c0a863f2da59de9bc9c8b472a0ba/tasks/section_02_level1.yml",
                "status": "modified",
                "patch": "@@ -47,7 +47,7 @@\n       - section2.9\n \n   - name: 2.10 Add nodev Option to /home (Scored)\n-    mount: name:/home state:mounted opts:remount,nodev\n+    mount: name=\"/home\" src=\"/home\" state=mounted opts=remount,nodev fstype=\"ext4\"\n     when: partitioning == True\n     tags:\n       - section2"
            }
        ]
    },
    {
        "repo": "viasite-ansible/ansible-role-zsh",
        "author_id": "MDQ6VXNlcjMwMjcxMjY=",
        "author_name": "Stanislav Popov",
        "committer_id": "MDQ6VXNlcjMwMjcxMjY=",
        "committer_name": "Stanislav Popov",
        "committer_email": "popstas@tagilcity.ru",
        "message": "fix: make working command conditions on clean centos\n\nCentos container don't have `which` command,\non Ubuntu `command -v` returns `command not exists` while playbook.\n\nSo, I'm using both commands.\n\nCloses #8",
        "sha": "71399b81854303b53a55c365869adde0b5151d46",
        "url": "https://api.github.com/repos/viasite-ansible/ansible-role-zsh/commits/71399b81854303b53a55c365869adde0b5151d46",
        "parents": [
            "12630d4f97848ecc7b961fed9f4e4ff124dee487"
        ],
        "files": [
            {
                "sha": "ea57994510668971d40272c5970dd1cdaecf90b9",
                "filename": "tasks/configure.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/viasite-ansible/ansible-role-zsh/blob/71399b81854303b53a55c365869adde0b5151d46/tasks/configure.yml",
                "raw_url": "https://github.com/viasite-ansible/ansible-role-zsh/raw/71399b81854303b53a55c365869adde0b5151d46/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -15,7 +15,7 @@\n     zsh_antigen_bundles: \"{{ zsh_antigen_bundles }} + {{ zsh_antigen_bundles_extras }}\"\n \n - name: Check commands exists\n-  command: \"which {{ item.command }}\"\n+  shell: \"command -v {{ item.command }} || which {{ item.command }}\"\n   with_items: \"{{ zsh_antigen_bundles }}\"\n   failed_when: false\n   changed_when: false"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #37",
        "sha": "4bb324dad34f7ca25ea79574927165bc3637aef8",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/4bb324dad34f7ca25ea79574927165bc3637aef8",
        "parents": [
            "88bdba8210b22182635497a6af5eef16e7d46e49"
        ],
        "files": [
            {
                "sha": "6610a68efe253e94a5af8d5b3449b73039591ba3",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/4bb324dad34f7ca25ea79574927165bc3637aef8/handlers/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/4bb324dad34f7ca25ea79574927165bc3637aef8/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -6,10 +6,12 @@\n     name: docker\n     state: restarted\n   become: yes\n+  tags: [\"install\", \"configure\"]\n \n # Workaround because systemd cannot be used: https://github.com/ansible/ansible/issues/22171\n - name: restart auditd\n   shell: service auditd restart\n   args:\n     warn: no\n   become: yes\n+  tags: [\"install\", \"configure\"]"
            },
            {
                "sha": "755cf1983c97243016c5e43ac5c6c0917654530b",
                "filename": "tasks/kernel-3-mount-fixes.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/4bb324dad34f7ca25ea79574927165bc3637aef8/tasks/kernel-3-mount-fixes.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/4bb324dad34f7ca25ea79574927165bc3637aef8/tasks/kernel-3-mount-fixes.yml",
                "status": "modified",
                "patch": "@@ -24,11 +24,13 @@\n     src: files/etc/systemd/system/docker.service.d/mountflags-slave.conf\n     dest: /etc/systemd/system/docker.service.d/mountflags-slave.conf\n   become: yes\n+  notify: restart docker\n   when: docker_enable_mount_flag_fix\n   \n - name: Remove systemd drop-in for Docker Mount Flags slave configuration\n   file:\n     path: /etc/systemd/system/docker.service.d/mountflags-slave.conf\n     state: absent\n   become: yes\n+  notify: restart docker\n   when: not docker_enable_mount_flag_fix"
            },
            {
                "sha": "55b33a1306a92d3e1647363795743c0ceba8ff64",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 14,
                "deletions": 5,
                "changes": 19,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/4bb324dad34f7ca25ea79574927165bc3637aef8/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/4bb324dad34f7ca25ea79574927165bc3637aef8/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -5,6 +5,7 @@\n     _docker_os_dist_release: \"{{ ansible_distribution_release }}\"\n     _docker_os_dist_major_version: \"{{ ansible_distribution_major_version }}\"\n     _docker_os_dist_check: yes\n+  tags: [\"install\", \"configure\"]\n \n - name: Reinterpret distribution facts for Linux Mint 18\n   set_fact:\n@@ -14,19 +15,27 @@\n   when:\n     _docker_os_dist == \"Linux Mint\" and\n     _docker_os_dist_major_version == \"18\"\n+  tags: [\"install\", \"configure\"]\n \n - include: checks.yml\n+  tags: [\"install\", \"configure\"]\n \n - include: setup-repository.yml\n-\n-- include: kernel-3-mount-fixes.yml\n-  when: ansible_kernel | version_compare('4', '<')\n-\n-- include: setup-audit.yml\n+  tags: [\"install\"]\n \n - include: remove-pre-docker-ce.yml\n   when: docker_remove_pre_ce | bool\n+  tags: [\"install\"]\n \n - include: install-docker.yml\n+  tags: [\"install\"]\n+\n+- include: setup-audit.yml\n+  tags: [\"configure\"]\n+\n+- include: kernel-3-mount-fixes.yml\n+  when: ansible_kernel | version_compare('4', '<')\n+  tags: [\"configure\"]\n \n - include: configure-docker.yml\n+  tags: [\"configure\"]"
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "gtayzlor@gmail.com",
        "message": "Fix #101 - Add serverspec test harness that can be run in the vagrant\nbox",
        "sha": "7984d52dda17244484d7205285403e94e38c0a73",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/7984d52dda17244484d7205285403e94e38c0a73",
        "parents": [
            "069c7c7848545c132aff3c88fe170cbe30c8abb9"
        ],
        "files": [
            {
                "sha": "6728c21020d35ab3b34e9bbcb0feb554083f72ff",
                "filename": "roles/mesos/handlers/main.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 0,
                "changes": 8,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/7984d52dda17244484d7205285403e94e38c0a73/roles/mesos/handlers/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/7984d52dda17244484d7205285403e94e38c0a73/roles/mesos/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -7,3 +7,11 @@\n - name: Start mesos slave\n   shell: start mesos-slave\n   sudo: yes\n+\n+- name: Restart mesos master\n+  shell: restart mesos-master\n+  sudo: yes\n+\n+- name: Restart mesos slave\n+  shell: restart mesos-slave\n+  sudo: yes"
            },
            {
                "sha": "156b39c473edadf172419d6da18876a89382d770",
                "filename": "roles/mesos/tasks/main.yml",
                "previous_filename": null,
                "additions": 34,
                "deletions": 11,
                "changes": 45,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/7984d52dda17244484d7205285403e94e38c0a73/roles/mesos/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/7984d52dda17244484d7205285403e94e38c0a73/roles/mesos/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -4,12 +4,22 @@\n   sudo: yes\n \n # Tasks for Master nodes\n+- name: remove mesos-master override\n+  file: path=/etc/init/mesos-master.override state=absent\n+  when: mesos_install_mode == \"master\"\n+\n+- name: start mesos-master (and enable it at boot)\n+  service: name=mesos-master state=started enabled=yes\n+  when: mesos_install_mode == \"master\"\n+\n - name: Set Mesos Master ip\n   copy:\n     content: \"{{mesos_local_address}}\"\n     dest: /etc/mesos-master/ip\n     mode: 0644\n   sudo: yes\n+  notify:\n+    - Restart mesos master\n   when: mesos_install_mode == \"master\"\n \n - name: Set Mesos Master hostname\n@@ -18,6 +28,8 @@\n     dest: /etc/mesos-master/hostname\n     mode: 0644\n   sudo: yes\n+  notify:\n+    - Restart mesos master\n   when: mesos_install_mode == \"master\"\n \n   # The Mesos quorum value is based on the number of Mesos Masters. Take the\n@@ -27,10 +39,8 @@\n - name: Set Mesos Master quorum count\n   template: src=quorum.j2 dest=/etc/mesos-master/quorum mode=0644\n   sudo: yes\n-  when: mesos_install_mode == \"master\"\n-\n-- name: remove mesos-master override\n-  file: path=/etc/init/mesos-master.override state=absent\n+  notify:\n+    - Restart mesos master\n   when: mesos_install_mode == \"master\"\n \n - name: Set Mesos Master Cluster name\n@@ -40,7 +50,7 @@\n     mode: 0644\n   sudo: yes\n   notify:\n-    - Start mesos master\n+    - Restart mesos master\n   when: mesos_install_mode == \"master\"\n \n - name: Set Mesos Master consul service definition\n@@ -53,37 +63,45 @@\n   when: mesos_install_mode == \"master\"\n \n # Tasks for Slave nodes\n+- name: remove mesos-slave override\n+  file: path=/etc/init/mesos-slave.override state=absent\n+  when: mesos_install_mode == \"slave\"\n+\n - name: Set Mesos Slave hostname\n   copy:\n     content: \"{{mesos_local_address}}\"\n     dest: /etc/mesos-slave/hostname\n     mode: 0644\n   sudo: yes\n-  when: mesos_install_mode == \"slave\"\n-\n-- name: remove mesos-slave override\n-  file: path=/etc/init/mesos-slave.override state=absent\n+  notify:\n+    - Restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: set executor registration timeout\n   sudo: yes\n   copy:\n     dest: /etc/mesos-slave/executor_registration_timeout\n     content: \"{{ mesos_executor_registration_timeout }}\"\n+  notify:\n+    - Restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: set containerizers\n   sudo: yes\n   copy:\n     dest: /etc/mesos-slave/containerizers\n     content: \"{{ mesos_containerizers }}\"\n+  notify:\n+    - Restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: set slave resources\n   sudo: yes\n   copy:\n     dest: /etc/mesos-slave/resources\n     content: \"{{ mesos_resources }}\"\n+  notify:\n+    - Restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: Set Mesos Slave ip\n@@ -93,7 +111,7 @@\n     mode: 0644\n   sudo: yes\n   notify:\n-    - Start mesos slave\n+    - Restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: Create Mesos Slave work area\n@@ -102,6 +120,8 @@\n     mode: 0755\n     state: directory\n   sudo: yes\n+  notify:\n+    - Restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: Set Mesos Slave work area\n@@ -111,5 +131,8 @@\n     mode: 0644\n   sudo: yes\n   notify:\n-    - Start mesos slave\n+    - Restart mesos slave\n   when: mesos_install_mode == \"slave\"\n+\n+- name: start mesos-slave (and enable it at boot)\n+  service: name=mesos-slave state=started enabled=yes"
            },
            {
                "sha": "ca18a240a92dff966b9605d5c6edefc85a7f5a49",
                "filename": "roles/zookeeper/tasks/main.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 1,
                "changes": 7,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/7984d52dda17244484d7205285403e94e38c0a73/roles/zookeeper/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/7984d52dda17244484d7205285403e94e38c0a73/roles/zookeeper/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,11 @@\n+- name: ensure zookeeper is running (and enable it at boot)\n+  service: name=zookeeper state=started enabled=yes\n+\n - name: Create zookeeper config file\n   template: src=zoo.cfg.j2 dest=/etc/zookeeper/conf/zoo.cfg\n   sudo: yes\n+  notify:\n+    - Restart zookeeper\n \n - name: Create zookeeper myid file\n   copy:\n@@ -9,7 +14,7 @@\n     mode: 0644\n   sudo: yes\n   notify:\n-    - Start zookeeper\n+    - Restart zookeeper\n \n - name: Set Zookeeper consul service definition\n   sudo: yes"
            }
        ]
    },
    {
        "repo": "lean-delivery/ansible-role-java",
        "author_id": null,
        "author_name": "Pavel Pikta",
        "committer_id": "MDQ6VXNlcjg1MDMwMTM=",
        "committer_name": "Ivan Bogomazov",
        "committer_email": "ivan.bogomazov@gmail.com",
        "message": "fix links (#38)\n\n* add molecule default test\r\n\r\n* add lit\r\n\r\n* remove submodule\r\n\r\n* add pip upgrade\r\n\r\n* update requirements\r\n\r\n* Fix lint\r\n\r\n* use virtualenv\r\n\r\n* fix yamlint errors\r\n\r\n* Fix yamllint\r\n\r\n* Add custom ansible-lint config\r\n\r\n* Provide ansible-lint config\r\n\r\n* update exclude list\r\n\r\n* Change regex for ansible-lint\r\n\r\n* Disable lint fail on warn\r\n\r\n* Add debug for molecule\r\n\r\n* Change molecule version\r\n\r\n* degradate molecule version\r\n\r\n* Update .travis.yml\r\n\r\n* Change defaults to int\r\n\r\n* add molecule create.yml destroy.yml into ignor list\r\n\r\n* Replace with_items\r\n\r\n* Change test requrenments and header on fallback\r\n\r\n* Disable lint for debug\r\n\r\n* Delegate download to localhost\r\n\r\n* Enable lint\r\n\r\n* Add oracle disclaimer\r\n\r\n* Increase retry time and pause on OTN download\r\n\r\n* Add Ubuntu support\r\n\r\n* Update meta\r\n\r\n* Add build status and LICENSE to README.md\r\n\r\n* Fix linux install path\r\n\r\n* Add custom download path and fix variables\r\n\r\n* Release 8 181\r\n\r\n* Fix lint\r\n\r\n* Readme update - supported OS (#8)\r\n\r\n* add issue_template and set setting branch for pulling from ansible-lint-rules repo based on lint_version (#9)\r\n\r\n* Change path to split double slashes\r\n\r\n* Fix win task and fail on unsuported\r\n\r\n* Add s3 transport (#28)\r\n\r\n* Release tech dept fixes (#20)\r\n\r\n* add molecule default test\r\n\r\n* add lit\r\n\r\n* remove submodule\r\n\r\n* add pip upgrade\r\n\r\n* update requirements\r\n\r\n* Fix lint\r\n\r\n* use virtualenv\r\n\r\n* fix yamlint errors\r\n\r\n* Fix yamllint\r\n\r\n* Add custom ansible-lint config\r\n\r\n* Provide ansible-lint config\r\n\r\n* update exclude list\r\n\r\n* Change regex for ansible-lint\r\n\r\n* Disable lint fail on warn\r\n\r\n* Add debug for molecule\r\n\r\n* Change molecule version\r\n\r\n* degradate molecule version\r\n\r\n* Update .travis.yml\r\n\r\n* Change defaults to int\r\n\r\n* add molecule create.yml destroy.yml into ignor list\r\n\r\n* Replace with_items\r\n\r\n* Change test requrenments and header on fallback\r\n\r\n* Disable lint for debug\r\n\r\n* Delegate download to localhost\r\n\r\n* Enable lint\r\n\r\n* Add oracle disclaimer\r\n\r\n* Increase retry time and pause on OTN download\r\n\r\n* Add Ubuntu support\r\n\r\n* Update meta\r\n\r\n* Add build status and LICENSE to README.md\r\n\r\n* Fix linux install path\r\n\r\n* Add custom download path and fix variables\r\n\r\n* Release 8 181\r\n\r\n* Fix lint\r\n\r\n* Readme update - supported OS (#8)\r\n\r\n* add issue_template and set setting branch for pulling from ansible-lint-rules repo based on lint_version (#9)\r\n\r\n* Change path to split double slashes\r\n\r\n* Fix win task and fail on unsuported\r\n\r\n* README.md change required version from 2.4 to 2.5 (#22)\r\n\r\n README.md change required version from 2.4 to 2.5\r\n\r\n* Fix of issue #24 (#25)\r\n\r\n* Fix of issue #24\r\n\r\n* Fix yml files to align with new lint rule [E604] True/False should be started from capitalized letter\r\n\r\n* check for binary existence #23 (#26)\r\n\r\n* check for binary existence #23\r\n\r\n* changes to the task name\r\n\r\n* added jre links for 8.181 (#27)\r\n\r\n* Release jre 8.191\r\n\r\n* add s3 transport parameter\r\n\r\n* update travis file\r\n\r\n* fix error syntax error: expected <block end>, but found '<scalar>'\r\n\r\n* fix lint errors\r\n\r\n* revert booleans in molecule\r\n\r\nadd epel installation\r\n\r\n* correct epel installation conditions\r\n\r\n* fix [E602] Line too long (121 characters)\r\n\r\n* remove pip install from vars\r\n\r\n* fix merge issue\r\n\r\n* Added valid links for JRE and JDK both for Win and Linux with updates 191 and 192\r\n\r\n* Fix windows platform installation #34 (#35)\r\n\r\n* Fix windows platform installation\r\n\r\n* Update travis config to work around buggy pytest 3.10.0\r\n\r\n* Use Temp env variable value as a temporary directory\r\n\r\n* Fix jdk version\r\n\r\n* Fix vars duplicate\r\n\r\n* fix links\r\n\r\n* fix lint\r\n\r\n* fix windows platform installation",
        "sha": "38ccf158f15af9b2953abd1ec9c4a71505c63ccd",
        "url": "https://api.github.com/repos/lean-delivery/ansible-role-java/commits/38ccf158f15af9b2953abd1ec9c4a71505c63ccd",
        "parents": [
            "fa8eab8d7ae5ae376827cb0622a0620955a9c64f"
        ],
        "files": [
            {
                "sha": "e1e2b3c5a207b0fcc3740b32fa3d5c92735b43b9",
                "filename": "tasks/system/Linux.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/38ccf158f15af9b2953abd1ec9c4a71505c63ccd/tasks/system/Linux.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/38ccf158f15af9b2953abd1ec9c4a71505c63ccd/tasks/system/Linux.yml",
                "status": "modified",
                "patch": "@@ -12,6 +12,8 @@\n       package:\n         name: \"{{ requirements }}\"\n         state: \"present\"\n+      register: installed_packages\n+      until: installed_packages is succeeded\n \n     - name: \"Mkdir for java installation\"\n       file:"
            },
            {
                "sha": "0672d5ff42bbb5ba4797bdec40544fed28564cae",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 11,
                "deletions": 6,
                "changes": 17,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/38ccf158f15af9b2953abd1ec9c4a71505c63ccd/tasks/main.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/38ccf158f15af9b2953abd1ec9c4a71505c63ccd/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -7,6 +7,8 @@\n   delegate_to: \"localhost\"\n   connection: \"local\"\n   run_once: True\n+  register: status\n+  until: status is succeeded\n   become: True\n   when:\n     - transport == \"s3\"\n@@ -19,22 +21,25 @@\n   delegate_to: \"localhost\"\n   connection: \"local\"\n   run_once: True\n+  register: status\n+  until: status is succeeded\n   become: True\n   when: transport == \"s3\"\n \n - name: \"Install boto module\"\n   pip:\n-    name: \"{{ item }}\"\n+    name:\n+      - \"pip\"\n+      - \"botocore\"\n+      - \"boto\"\n+      - \"boto3\"\n     state: present\n     extra_args: --upgrade\n-  with_items:\n-    - \"pip\"\n-    - \"botocore\"\n-    - \"boto\"\n-    - \"boto3\"\n   delegate_to: \"localhost\"\n   connection: \"local\"\n   run_once: True\n+  register: status\n+  until: status is succeeded\n   become: True\n   when: transport == \"s3\"\n "
            },
            {
                "sha": "abba917abe4050a2d51a86f97d9de9343f157df2",
                "filename": "tasks/system/Win32NT.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/38ccf158f15af9b2953abd1ec9c4a71505c63ccd/tasks/system/Win32NT.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/38ccf158f15af9b2953abd1ec9c4a71505c63ccd/tasks/system/Win32NT.yml",
                "status": "modified",
                "patch": "@@ -23,6 +23,7 @@\n         path: \"{{ java_artifact }}\"\n         state: \"present\"\n         creates_path: \"C:\\\\Program Files\\\\Java\"\n+        arguments: \"/s\"\n \n     - name: \"Get installed java directory\"\n       win_shell: \"Get-ChildItem -Path 'C:\\\\Program Files\\\\Java' |\\"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE1ODU0NA==",
        "author_name": "Daniel N\u00e9ri",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "17044561+jackivanov@users.noreply.github.com",
        "message": "Fix outdated task name in DNS role (#1499)",
        "sha": "14ee323eca0aa4bb0a37c19c4bb142148817ac1e",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/14ee323eca0aa4bb0a37c19c4bb142148817ac1e",
        "parents": [
            "f152d3a746a1ec73fcdeb1ff60224fecdbe1fd3d"
        ],
        "files": [
            {
                "sha": "dfe172d4588d6c279fda45c40211f67dd92f375e",
                "filename": "roles/dns/tasks/ubuntu.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/trailofbits/algo/blob/14ee323eca0aa4bb0a37c19c4bb142148817ac1e/roles/dns/tasks/ubuntu.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/14ee323eca0aa4bb0a37c19c4bb142148817ac1e/roles/dns/tasks/ubuntu.yml",
                "status": "modified",
                "patch": "@@ -24,7 +24,7 @@\n     mode: 0644\n \n - block:\n-  - name: Ubuntu | Unbound profile for apparmor configured\n+  - name: Ubuntu | Configure AppArmor policy for dnscrypt-proxy\n     copy:\n       src: apparmor.profile.dnscrypt-proxy\n       dest: /etc/apparmor.d/usr.bin.dnscrypt-proxy"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-security",
        "author_id": "MDQ6VXNlcjQ1OTYzMQ==",
        "author_name": "Fabian Pfaff",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #29 The use of 'include' for tasks has been deprecated\n\nThis change preserves the previous behavior.\n\n> Before 2.0 all includes were \u2018static\u2019, executed at play compile\n  time.\n\nhttps://docs.ansible.com/ansible/latest/include_module.html",
        "sha": "e65b117799560d3fd9ba998fcb50a85bd10e6178",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-security/commits/e65b117799560d3fd9ba998fcb50a85bd10e6178",
        "parents": [
            "3c8d04f3e0875a9baf1f1282f6665b2e7d6871a8"
        ],
        "files": [
            {
                "sha": "f5616d2346e28c1360916d3296f6a0ff70477900",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/geerlingguy/ansible-role-security/blob/e65b117799560d3fd9ba998fcb50a85bd10e6178/meta/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-security/raw/e65b117799560d3fd9ba998fcb50a85bd10e6178/meta/main.yml",
                "status": "modified",
                "patch": "@@ -6,7 +6,7 @@ galaxy_info:\n   description: Security software installation and configuration.\n   company: \"Midwestern Mac, LLC\"\n   license: \"license (BSD, MIT)\"\n-  min_ansible_version: 2.0\n+  min_ansible_version: 2.4\n   platforms:\n     - name: EL\n       versions:"
            },
            {
                "sha": "8e045e63fa0c3517700806f52f1df927d694cdc4",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 5,
                "changes": 10,
                "blob_url": "https://github.com/geerlingguy/ansible-role-security/blob/e65b117799560d3fd9ba998fcb50a85bd10e6178/tasks/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-security/raw/e65b117799560d3fd9ba998fcb50a85bd10e6178/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -3,22 +3,22 @@\n   include_vars: \"{{ ansible_os_family }}.yml\"\n \n # Fail2Ban\n-- include: fail2ban-RedHat.yml\n+- import_tasks: fail2ban-RedHat.yml\n   when: ansible_os_family == 'RedHat' and security_fail2ban_enabled\n \n-- include: fail2ban-Debian.yml\n+- import_tasks: fail2ban-Debian.yml\n   when: ansible_os_family == 'Debian' and security_fail2ban_enabled\n \n - name: Ensure fail2ban is running and enabled on boot.\n   service: name=fail2ban state=started enabled=yes\n   when: security_fail2ban_enabled\n \n # SSH\n-- include: ssh.yml\n+- import_tasks: ssh.yml\n \n # Autoupdate\n-- include: autoupdate-RedHat.yml\n+- import_tasks: autoupdate-RedHat.yml\n   when: ansible_os_family == 'RedHat' and security_autoupdate_enabled\n \n-- include: autoupdate-Debian.yml\n+- import_tasks: autoupdate-Debian.yml\n   when: ansible_os_family == 'Debian' and security_autoupdate_enabled"
            }
        ]
    },
    {
        "repo": "gantsign/ansible-role-oh-my-zsh",
        "author_id": "MDQ6VXNlcjEwNTQ2MTA4",
        "author_name": "segfault16",
        "committer_id": "MDQ6VXNlcjE3OTg0NzA3",
        "committer_name": "John Freeman",
        "committer_email": "john.freeman.opensource@gmail.com",
        "message": "Fixed clone directory when user home not set by become_user (#83)\n\nFix issue where oh-my-zsh is cloned into root home instead of the users home",
        "sha": "6aeacd020e9024c662843165c8c59ae59719143c",
        "url": "https://api.github.com/repos/gantsign/ansible-role-oh-my-zsh/commits/6aeacd020e9024c662843165c8c59ae59719143c",
        "parents": [
            "75948e4307e786fbb086b1637cbd60761ae3a576"
        ],
        "files": [
            {
                "sha": "79b8e3334d433812121502c8433dd4476cd53836",
                "filename": "tasks/install.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/gantsign/ansible-role-oh-my-zsh/blob/6aeacd020e9024c662843165c8c59ae59719143c/tasks/install.yml",
                "raw_url": "https://github.com/gantsign/ansible-role-oh-my-zsh/raw/6aeacd020e9024c662843165c8c59ae59719143c/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -16,8 +16,9 @@\n   become: yes\n   become_user: '{{ item.username }}'\n   # core.autocrlf=input prevents https://github.com/robbyrussell/oh-my-zsh/issues/4402\n-  command: 'git clone -c core.autocrlf=input --depth=1 https://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh'\n+  command: 'git clone -c core.autocrlf=input --depth=1 https://github.com/robbyrussell/oh-my-zsh.git .oh-my-zsh'\n   args:\n+    chdir: '~{{ item.username }}'\n     creates: '~{{ item.username }}/.oh-my-zsh'\n   with_items: '{{ users }}'\n "
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #18",
        "sha": "35c4af9fd84d7a7e6bc093adc944b352e68d6ff1",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/35c4af9fd84d7a7e6bc093adc944b352e68d6ff1",
        "parents": [
            "41231a43e2531086c3fb9f7499cbc44aacbe7792"
        ],
        "files": [
            {
                "sha": "3d2f823ce63e949a0aea3d3873f0f8c3eeb5f4b5",
                "filename": "tasks/main-CentOS.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 2,
                "changes": 9,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/35c4af9fd84d7a7e6bc093adc944b352e68d6ff1/tasks/main-CentOS.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/35c4af9fd84d7a7e6bc093adc944b352e68d6ff1/tasks/main-CentOS.yml",
                "status": "modified",
                "patch": "@@ -37,16 +37,21 @@\n   become: true\n   when: yum_repo.changed\n \n+- name: Stat /proc/sys/fs/may_detach_mounts\n+  stat:\n+    path: /proc/sys/fs/may_detach_mounts\n+  register: may_detach_mounts\n+\n - name: Ensure fs.may_detach_mounts is set to avoid 'Device or resource busy'\n   sysctl:\n     name: fs.may_detach_mounts\n     value: 1\n     sysctl_file: /etc/sysctl.d/99-docker.conf\n     reload: yes\n   become: true\n-  when: ansible_kernel | version_compare('4', '<')\n+  when: ansible_kernel|version_compare('4', '<') and may_detach_mounts.stat.exists\n \n - include: main-Mountflags.yml\n-  when: ansible_kernel | version_compare('4', '<')\n+  when: ansible_kernel|version_compare('4', '<')\n \n - include: main-Generic.yml"
            }
        ]
    },
    {
        "repo": "stone-payments/ansible-mongodb",
        "author_id": "MDQ6VXNlcjE0NTg4Nzg=",
        "author_name": "Bernardo Donadio",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix Ansible 2.5 deprecations (#11)",
        "sha": "12e7988e293c91c963eeee5cb31d2850a26417d9",
        "url": "https://api.github.com/repos/stone-payments/ansible-mongodb/commits/12e7988e293c91c963eeee5cb31d2850a26417d9",
        "parents": [
            "b7cfa2dae3ac401ea3de44201ec6cd89de00f29d"
        ],
        "files": [
            {
                "sha": "ae51aceca5f42cd5857c7bf9cb1209b95163d739",
                "filename": "tasks/admin.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/stone-payments/ansible-mongodb/blob/12e7988e293c91c963eeee5cb31d2850a26417d9/tasks/admin.yml",
                "raw_url": "https://github.com/stone-payments/ansible-mongodb/raw/12e7988e293c91c963eeee5cb31d2850a26417d9/tasks/admin.yml",
                "status": "modified",
                "patch": "@@ -38,7 +38,7 @@\n     include: safeMode.yml\n     vars:\n       - mongodb_safeMode: true\n-    when: mongodb_login_withPass|failed\n+    when: mongodb_login_withPass is failed\n \n   - name: configure mongodb admin user and password\n     mongodb_user:\n@@ -56,5 +56,5 @@\n     include: safeMode.yml\n     vars:\n       - mongodb_safeMode: false\n-    when: mongodb_login_withPass|failed\n-  when: mongodb_login_withPass|failed or mongodb_login_withoutPass|failed\n+    when: mongodb_login_withPass is failed\n+  when: mongodb_login_withPass is failed or mongodb_login_withoutPass is failed"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #42",
        "sha": "42872d84e97c9abee27d8aeda965fc16019e9385",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/42872d84e97c9abee27d8aeda965fc16019e9385",
        "parents": [
            "71cda5f377e4e4de8b037d066df6a45835637e3c"
        ],
        "files": [
            {
                "sha": "35c2ef6b07489e3f86d0755d24bdf68610bfa4a4",
                "filename": "tasks/setup-repository.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/42872d84e97c9abee27d8aeda965fc16019e9385/tasks/setup-repository.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/42872d84e97c9abee27d8aeda965fc16019e9385/tasks/setup-repository.yml",
                "status": "modified",
                "patch": "@@ -25,7 +25,7 @@\n         _docker_os_dist == \"CentOS\" or\n         _docker_os_dist == \"RedHat\"\n \n-- name: Add Docker\u2019s official GPG key\n+- name: Add Docker official GPG key\n   apt_key:\n     url: https://download.docker.com/linux/{{ _docker_os_dist|lower }}/gpg\n     state: present"
            },
            {
                "sha": "c2f5ee36ce04dd6309a25f8b61897c45dd186ce1",
                "filename": "tasks/kernel-3-mount-fixes.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 7,
                "changes": 7,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/42872d84e97c9abee27d8aeda965fc16019e9385/tasks/kernel-3-mount-fixes.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/42872d84e97c9abee27d8aeda965fc16019e9385/tasks/kernel-3-mount-fixes.yml",
                "status": "modified",
                "patch": "@@ -12,13 +12,6 @@\n   become: yes\n   when: may_detach_mounts.stat.exists\n \n-- name: Ensure /etc/systemd/system/docker.service.d directory exists\n-  file:\n-    path: /etc/systemd/system/docker.service.d\n-    state: directory\n-    mode: 0755\n-  become: yes\n-\n - name: Copy systemd drop-in for Docker Mount Flags slave configuration to avoid 'Device or resource busy'\n   copy:\n     src: files/etc/systemd/system/docker.service.d/mountflags-slave.conf"
            },
            {
                "sha": "726ae1731c4d80a7bb69911c3cde3add5e15e4ab",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/42872d84e97c9abee27d8aeda965fc16019e9385/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/42872d84e97c9abee27d8aeda965fc16019e9385/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -33,6 +33,9 @@\n - include_tasks: setup-audit.yml\n   tags: [\"configure\"]\n \n+- include_tasks: configure-drop-ins.yml\n+  tags: [\"configure\"]\n+\n - include_tasks: kernel-3-mount-fixes.yml\n   when: ansible_kernel | version_compare('4', '<')\n   tags: [\"configure\"]"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #77: Change behavior of solr_remove_cruft so it works on Solr < 5.",
        "sha": "c0bf4b7577771e6d9cd9f162e7588a1a8f8e302e",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/c0bf4b7577771e6d9cd9f162e7588a1a8f8e302e",
        "parents": [
            "efc7a259af6812ee966a7809e84684ebf8b5f52c"
        ],
        "files": [
            {
                "sha": "f5a87e55e4826da242a3d88e68d40227bd28f115",
                "filename": "tasks/trim-fat.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 5,
                "changes": 15,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/c0bf4b7577771e6d9cd9f162e7588a1a8f8e302e/tasks/trim-fat.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/c0bf4b7577771e6d9cd9f162e7588a1a8f8e302e/tasks/trim-fat.yml",
                "status": "modified",
                "patch": "@@ -7,11 +7,16 @@\n     - \"{{ solr_workspace }}/{{ solr_filename }}.tgz\"\n     - \"{{ solr_workspace }}/{{ solr_filename }}\"\n \n-- name: Remove extra cruft, if configured.\n+- name: Remove docs, if not needed.\n   file:\n-    path: \"{{ item }}\"\n+    path: \"{{ solr_install_path }}/docs\"\n     state: absent\n-  with_items:\n-    - \"{{ solr_install_path }}/docs\"\n-    - \"{{ solr_install_path }}/example\"\n   when: solr_remove_cruft\n+\n+- name: Remove example dir, if not needed.\n+  file:\n+    path: \"{{ solr_install_path }}/example\"\n+    state: absent\n+  when:\n+    - solr_remove_cruft\n+    - solr_version.split('.')[0] >= '5'"
            }
        ]
    },
    {
        "repo": "iiab/iiab",
        "author_id": "MDQ6VXNlcjI0NTg5MDc=",
        "author_name": "A Holt",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #442 from jvonau/433\n\nnamed / DNS fix for #433 Squid install fail\r\n\r\ncloses #433",
        "sha": "89e3461e17f9af588ad6352304a2305dbd2daefc",
        "url": "https://api.github.com/repos/iiab/iiab/commits/89e3461e17f9af588ad6352304a2305dbd2daefc",
        "parents": [
            "ad8509bbbbcef78d4a59feff8b18a9e84512dd2d",
            "d98291fb04a8b2ce88309ed9f9832cdf5f741a7a"
        ],
        "files": [
            {
                "sha": "0113d7672b4c6bb9f62fb98fca731e58fa5f9490",
                "filename": "roles/network/tasks/named.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/iiab/iiab/blob/89e3461e17f9af588ad6352304a2305dbd2daefc/roles/network/tasks/named.yml",
                "raw_url": "https://github.com/iiab/iiab/raw/89e3461e17f9af588ad6352304a2305dbd2daefc/roles/network/tasks/named.yml",
                "status": "modified",
                "patch": "@@ -19,9 +19,9 @@\n     - download\n \n # or we have to change the serial number in the config files.\n-- name: Stop named before copying files\n-  service: name={{ dns_service }} state=stopped\n-  when: not installing\n+#- name: Stop named before copying files\n+#  service: name={{ dns_service }} state=stopped\n+#  when: not installing\n \n - name: Set folder permission\n   file: path={{ item }}"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes related to #40",
        "sha": "3044802dd1b06a5e258174a7b9e3cdea58d22e88",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/3044802dd1b06a5e258174a7b9e3cdea58d22e88",
        "parents": [
            "a487a430fdb2fa9a230f98722d9ebf48d1d6764b"
        ],
        "files": [
            {
                "sha": "65664eac2c0bbd98940d11a97d92a1730ee6d3ce",
                "filename": "tasks/setup-audit.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/3044802dd1b06a5e258174a7b9e3cdea58d22e88/tasks/setup-audit.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/3044802dd1b06a5e258174a7b9e3cdea58d22e88/tasks/setup-audit.yml",
                "status": "modified",
                "patch": "@@ -5,7 +5,7 @@\n     name: auditd\n     state: present\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n   when: docker_enable_audit and (_docker_os_dist == \"Ubuntu\" or _docker_os_dist == \"Debian\")\n \n - name: Copy Docker audit rules"
            },
            {
                "sha": "d26e514722c4985253339a25f43f6fcb2ecc40f0",
                "filename": "tasks/remove-pre-docker-ce.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/3044802dd1b06a5e258174a7b9e3cdea58d22e88/tasks/remove-pre-docker-ce.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/3044802dd1b06a5e258174a7b9e3cdea58d22e88/tasks/remove-pre-docker-ce.yml",
                "status": "modified",
                "patch": "@@ -9,7 +9,7 @@\n - name: Set fact if old Docker installation shall be removed\n   set_fact:\n     _remove_old_docker: \"{{ docker_remove_pre_ce | bool }} and not \\\n-      {{ _cmd_docker_version.stdout_lines[0] | search('-ce') }}\"\n+      {{ _cmd_docker_version.stdout_lines[0] is search('-ce') }}\"\n   when: _cmd_docker_version.stdout_lines is defined and _cmd_docker_version.stdout_lines[0] is defined\n \n - name: Check if Docker is running\n@@ -33,7 +33,7 @@\n     name: \"{{ item }}\"\n     state: absent\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n   when: _remove_old_docker | default(False) | bool\n   with_items:\n     - \"{{ docker_old_packages[_docker_os_dist] }}\""
            },
            {
                "sha": "c5afe59d247c47d94004154d2278637b237cbf92",
                "filename": "tasks/postinstall.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/3044802dd1b06a5e258174a7b9e3cdea58d22e88/tasks/postinstall.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/3044802dd1b06a5e258174a7b9e3cdea58d22e88/tasks/postinstall.yml",
                "status": "modified",
                "patch": "@@ -70,7 +70,7 @@\n     name: \"epel-release\"\n     state: present\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n   when:\n     - _docker_os_dist == \"CentOS\"\n     - _docker_additional_packages_os | length > 0\n@@ -83,7 +83,7 @@\n   with_items:\n     - \"{{ _docker_additional_packages_os }}\"\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n   when: _docker_additional_packages_os | length > 0\n \n - name: Upgrade PiP\n@@ -92,7 +92,7 @@\n     name: pip\n     state: forcereinstall\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n   when: docker_pip_upgrade\n \n - name: Install additional packages (PiP)\n@@ -104,7 +104,7 @@\n   with_items:\n     - \"{{ _docker_additional_packages_pip }}\"\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n   when: _docker_additional_packages_pip | length > 0\n   environment:\n     PYTHONWARNINGS: ignore"
            },
            {
                "sha": "22c8afadf237a9e38952682e54971170d760e713",
                "filename": "tasks/configure-docker.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/3044802dd1b06a5e258174a7b9e3cdea58d22e88/tasks/configure-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/3044802dd1b06a5e258174a7b9e3cdea58d22e88/tasks/configure-docker.yml",
                "status": "modified",
                "patch": "@@ -89,15 +89,15 @@\n         name: lvm2\n         state: present\n       register: _pkg_result\n-      until: _pkg_result|succeeded\n+      until: _pkg_result is succeeded\n \n     - name: Ensure thin-provisioning-tools is installed\n       become: true\n       package:\n         name: thin-provisioning-tools\n         state: present\n       register: _pkg_result\n-      until: _pkg_result|succeeded\n+      until: _pkg_result is succeeded\n       when: (_docker_os_dist == \"Ubuntu\" or (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version > '7'))\n   when:\n     - docker_daemon_config['storage-driver'] is defined"
            },
            {
                "sha": "ba51a21718ffce6b1687121adbd3a4b0c91bf4dd",
                "filename": "tasks/remove-docker.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/3044802dd1b06a5e258174a7b9e3cdea58d22e88/tasks/remove-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/3044802dd1b06a5e258174a7b9e3cdea58d22e88/tasks/remove-docker.yml",
                "status": "modified",
                "patch": "@@ -14,7 +14,7 @@\n     state: absent\n   with_items: \"{{ docker_packages }}\"\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n   when: _docker_os_dist != \"Ubuntu\" and\n         _docker_os_dist != \"Debian\"\n \n@@ -26,7 +26,7 @@\n     purge: yes\n   with_items: \"{{ docker_packages }}\"\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n   when: _docker_os_dist == \"Ubuntu\" or\n         _docker_os_dist == \"Debian\"\n "
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjc1NDk3ODU=",
        "author_name": "\u00d8ystein Bedin",
        "committer_id": "MDQ6VXNlcjQ1MDA3NTg=",
        "committer_name": "Eric Sauer",
        "committer_email": "etsauer@gmail.com",
        "message": "Fix temp dir handling (#194)",
        "sha": "4e6a94b5958e29d97b1e64490748067c817f2174",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/4e6a94b5958e29d97b1e64490748067c817f2174",
        "parents": [
            "716709f913e6b14c764211ab934b74b13f7a097b"
        ],
        "files": [
            {
                "sha": "891abb51ddfb9a1a7cdf29cd01e769442f29b44e",
                "filename": "roles/openshift-applier/tasks/install-dependencies.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/4e6a94b5958e29d97b1e64490748067c817f2174/roles/openshift-applier/tasks/install-dependencies.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/4e6a94b5958e29d97b1e64490748067c817f2174/roles/openshift-applier/tasks/install-dependencies.yml",
                "status": "modified",
                "patch": "@@ -5,7 +5,7 @@\n     state: directory\n   register: tmp_dir\n   notify:\n-  - Clean-up temporary dir\n+  - Clean-up temporary dep dir\n   when:\n   - tmp_dep_dir is undefined\n "
            },
            {
                "sha": "7a76e13774c9203aabf7e54fadaddca4ff77e077",
                "filename": "roles/openshift-applier/tasks/copy-inventory-to-remote.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/4e6a94b5958e29d97b1e64490748067c817f2174/roles/openshift-applier/tasks/copy-inventory-to-remote.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/4e6a94b5958e29d97b1e64490748067c817f2174/roles/openshift-applier/tasks/copy-inventory-to-remote.yml",
                "status": "modified",
                "patch": "@@ -5,7 +5,7 @@\n     state: directory\n   register: tmp_dir\n   notify:\n-  - Clean-up temporary dir\n+  - Clean-up temporary inv dir\n \n - name: \"Store away the temporary directory path\"\n   set_fact:"
            },
            {
                "sha": "3fae76f2184dc11e9a75920407a56509b6664720",
                "filename": "roles/openshift-applier/handlers/main.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 1,
                "changes": 8,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/4e6a94b5958e29d97b1e64490748067c817f2174/roles/openshift-applier/handlers/main.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/4e6a94b5958e29d97b1e64490748067c817f2174/roles/openshift-applier/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -1,10 +1,16 @@\n ---\n \n-- name: \"Clean-up temporary dir\"\n+- name: \"Clean-up temporary inv dir\"\n   file:\n     path: \"{{ item }}\"\n     state: absent\n   with_items:\n   - \"{{ tmp_inv_dir }}\"\n+\n+- name: \"Clean-up temporary dep dir\"\n+  file:\n+    path: \"{{ item }}\"\n+    state: absent\n+  with_items:\n   - \"{{ tmp_dep_dir }}\"\n "
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjEzMzUxMzc=",
        "author_name": "Justin Holmes",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "fix quotes (#344)",
        "sha": "f6e9b1c9c0cefd8bd1539b6dfd64d3973a7fcb75",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/f6e9b1c9c0cefd8bd1539b6dfd64d3973a7fcb75",
        "parents": [
            "ab65d9b96ab859feb0df03da9a468c54b4aa43d5"
        ],
        "files": [
            {
                "sha": "4e165e89cc4dc78395505c5e5922ef995222aced",
                "filename": "roles/config-nexus/tasks/configure-repos.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/f6e9b1c9c0cefd8bd1539b6dfd64d3973a7fcb75/roles/config-nexus/tasks/configure-repos.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/f6e9b1c9c0cefd8bd1539b6dfd64d3973a7fcb75/roles/config-nexus/tasks/configure-repos.yml",
                "status": "modified",
                "patch": "@@ -8,7 +8,7 @@\n     password: \"{{ nexus_password }}\"\n     force_basic_auth: yes\n     status_code: 200,404\n-    validate_certs: {{ nexus_validate_certs }}\n+    validate_certs: \"{{ nexus_validate_certs }}\"\n   register: get_script_result\n \n - name: \"Delete Script if it Exists: {{ item.script_name }}\"\n@@ -19,7 +19,7 @@\n     password: \"{{ nexus_password }}\"\n     force_basic_auth: yes\n     status_code: 204\n-    validate_certs: {{ nexus_validate_certs }}\n+    validate_certs: \"{{ nexus_validate_certs }}\"\n   when: get_script_result.status == 200\n \n - name: \"Create New Script: {{ item.script_name }}\"\n@@ -31,7 +31,7 @@\n     body_format: json\n     body: \"{{ lookup('file', item.script_file )}}\"\n     force_basic_auth: yes\n-    validate_certs: {{ nexus_validate_certs }}\n+    validate_certs: \"{{ nexus_validate_certs }}\"\n     status_code: 204\n \n - name: \"Execute New Script: {{ item.script_name }}\"\n@@ -43,6 +43,6 @@\n     headers:\n       Content-Type: \"text/plain\"\n     force_basic_auth: yes\n-    validate_certs: {{ nexus_validate_certs }}\n+    validate_certs: \"{{ nexus_validate_certs }}\"\n     status_code: 200\n "
            },
            {
                "sha": "41fc61a9e0d1f75350a2039807d3a88d56700a38",
                "filename": "roles/config-nexus/tasks/wait-for-nexus.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/f6e9b1c9c0cefd8bd1539b6dfd64d3973a7fcb75/roles/config-nexus/tasks/wait-for-nexus.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/f6e9b1c9c0cefd8bd1539b6dfd64d3973a7fcb75/roles/config-nexus/tasks/wait-for-nexus.yml",
                "status": "modified",
                "patch": "@@ -8,7 +8,7 @@\n     user: \"{{ nexus_user }}\"\n     password: \"{{ nexus_password }}\"\n     force_basic_auth: yes\n-    validate_certs: {{ nexus_validate_certs }}\n+    validate_certs: \"{{ nexus_validate_certs }}\"\n   register: nexus_server_check_result\n   until: nexus_server_check_result is success\n   retries: '{{ nexus_server_poll_retries }}'"
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjg5MjkyMzM=",
        "author_name": "Wolfgang Kulhanek",
        "committer_id": "MDQ6VXNlcjExOTEyODU=",
        "committer_name": "Andrew Block",
        "committer_email": "andy.block@gmail.com",
        "message": "Fixed ssl_local_tmp_dir.stdout in Task Set Fact for Custom SSL Certificates (#247)\n\n* Rearranged variables\r\n\r\n* Fixed logic when to generate passwords\r\n\r\n* Fixed firewall port variables and firewalld command\r\n\r\n* Fixed Firewalld config command\r\n\r\n* Fixed quay service name\r\n\r\n* Fixed service name\r\n\r\n* Fixed port variable and firewalld command\r\n\r\n* Fixed location of inventory\r\n\r\n* Fixed postgres service name\r\n\r\n* Fixed template names\r\n\r\n* Fixed port variable names, fixed firewalld command\r\n\r\n* Minor formatting updates (quay -> Quay)\r\n\r\n* Fixed quay service variable name\r\n\r\n* Added become:True where appropriate, changed database parameters to MySQL database, added postgresql_admin_user to postgres tasks, removed block around clair database, added logic to set quay hostname for clair when lb defined\r\n\r\n* Fixed wrong quay_ssl_local_tmp_dir variable in Task Set Fact for Custom SSL Certificates",
        "sha": "50c8452cf5028af3b0855bd16c48a04249603b8a",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/50c8452cf5028af3b0855bd16c48a04249603b8a",
        "parents": [
            "83a79a9f8c1054117e69e39e9e562803241dc7bc"
        ],
        "files": [
            {
                "sha": "f8b3cf0a809199f0ade31c169b04c1244a0db43a",
                "filename": "roles/config-quay-enterprise/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/50c8452cf5028af3b0855bd16c48a04249603b8a/roles/config-quay-enterprise/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/50c8452cf5028af3b0855bd16c48a04249603b8a/roles/config-quay-enterprise/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -48,8 +48,8 @@\n \n - name: Set Fact for Custom SSL Certificates\n   set_fact:\n-    quay_ssl_cert_file: \"{{ ssl_local_tmp_dir.stdout }}/ssl.cert\"\n-    quay_ssl_key_file: \"{{ ssl_local_tmp_dir.stdout }}/ssl.key\"\n+    quay_ssl_cert_file: \"{{ quay_ssl_local_tmp_dir.stdout }}/ssl.cert\"\n+    quay_ssl_key_file: \"{{ quay_ssl_local_tmp_dir.stdout }}/ssl.key\"\n   when: quay_ssl_enable|bool and (quay_ssl_key_file is defined and quay_ssl_key_file|trim != \"\" and quay_ssl_cert_file is defined and quay_ssl_cert_file|trim != \"\")\n \n - name: Create SSL Certificates"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE5NDk3MjU=",
        "author_name": "zuccs",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "17044561+jackivanov@users.noreply.github.com",
        "message": "Fix typo (#1165)",
        "sha": "2b2d90a8a9d265baf67020c88163ca29f6c8acea",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/2b2d90a8a9d265baf67020c88163ca29f6c8acea",
        "parents": [
            "30446d03632327e345823ebaa2a101990b6f7f03"
        ],
        "files": [
            {
                "sha": "1c98c5ac42f9b6fe55390ddc15b126ba6514ac58",
                "filename": "roles/cloud-lightsail/tasks/prompts.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/trailofbits/algo/blob/2b2d90a8a9d265baf67020c88163ca29f6c8acea/roles/cloud-lightsail/tasks/prompts.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/2b2d90a8a9d265baf67020c88163ca29f6c8acea/roles/cloud-lightsail/tasks/prompts.yml",
                "status": "modified",
                "patch": "@@ -30,7 +30,7 @@\n       region: us-east-1\n     register: _lightsail_regions\n \n-  - name: Set facts about thre regions\n+  - name: Set facts about the regions\n     set_fact:\n       lightsail_regions: \"{{ _lightsail_regions.results.regions | sort(attribute='name') }}\"\n "
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjczMzg1MTM=",
        "author_name": "Phil Nelson",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix conditional for dynamic HostKeyAlgorithms msg (#822)\n\nWhen the set_fact task runs, it has status 'ok', not 'changed'.\r\nThus to check whether the ansible_ssh_extra_args var was dynamically set,\r\nthe condition must check whether or not the set_fact task skipped.",
        "sha": "4da9d734a760d3e6264ea0b4034ecc42e11bd5b3",
        "url": "https://api.github.com/repos/roots/trellis/commits/4da9d734a760d3e6264ea0b4034ecc42e11bd5b3",
        "parents": [
            "c1371e3bc231141e5703a4334f2048ef70486a95"
        ],
        "files": [
            {
                "sha": "c7f6df9cc122abd44d767c4926316d8b8db77bc5",
                "filename": "roles/connection/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/4da9d734a760d3e6264ea0b4034ecc42e11bd5b3/roles/connection/tasks/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/4da9d734a760d3e6264ea0b4034ecc42e11bd5b3/roles/connection/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -59,7 +59,7 @@\n     debug:\n       msg: |\n         Note: Ansible will attempt connections as user = {{ ansible_user }}\n-        {% if preferred_host_key_algorithms | changed %}\n+        {% if not preferred_host_key_algorithms | skipped %}\n \n         Note: The host `{{ ansible_host }}` was not detected in known_hosts\n         so Trellis prompted the host to offer a key type that will work with"
            }
        ]
    },
    {
        "repo": "ansible-ThoTeam/nexus3-oss",
        "author_id": "MDQ6VXNlcjE3Njc3Ng==",
        "author_name": "Olivier Clavel",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #27 from ansible-ThoTeam/fix_deleteDefaultYumBlobstore\n\nFix delete default yum blobstore\r\n\r\nFixes #25",
        "sha": "9be2150751e520e30029b63a32380e7241182b2b",
        "url": "https://api.github.com/repos/ansible-ThoTeam/nexus3-oss/commits/9be2150751e520e30029b63a32380e7241182b2b",
        "parents": [
            "332a49aab4cd78a3427bf2944906cb452b69e292",
            "bea94ffb523c8f6fe8a8b1984e5058d2d049e52b"
        ],
        "files": [
            {
                "sha": "21cf630da2ecfe9f63d0657aa133006246bfd090",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/ansible-ThoTeam/nexus3-oss/blob/9be2150751e520e30029b63a32380e7241182b2b/tasks/main.yml",
                "raw_url": "https://github.com/ansible-ThoTeam/nexus3-oss/raw/9be2150751e520e30029b63a32380e7241182b2b/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -47,6 +47,7 @@\n     - name: \"{{ nexus_blob_names.nuget.blob }}\"\n     - name: \"{{ nexus_blob_names.mvn.blob }}\"\n     - name: \"{{ nexus_blob_names.gitlfs.blob }}\"\n+    - name: \"{{ nexus_blob_names.yum.blob }}\"\n   when: nexus_data_dir_contents.stdout == \"\" and nexus_delete_default_blobstore\n \n - include: setup_ldap_each.yml"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bjorn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bjorn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #98",
        "sha": "2568137b9931352a3e3857a26c3abe8bd1911377",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/2568137b9931352a3e3857a26c3abe8bd1911377",
        "parents": [
            "9b692f6b104a6e4a7d1a8fd5985b2aa6610d94e7"
        ],
        "files": [
            {
                "sha": "26130481db38163f4ed7b45509fc386d0bd3a421",
                "filename": "tasks/setup-repository-RedHat.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2568137b9931352a3e3857a26c3abe8bd1911377/tasks/setup-repository-RedHat.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2568137b9931352a3e3857a26c3abe8bd1911377/tasks/setup-repository-RedHat.yml",
                "status": "modified",
                "patch": "@@ -35,4 +35,6 @@\n       tags:\n         - skip_ansible_lint\n \n-  when: _docker_os_dist_major_version == '7'\n\\ No newline at end of file\n+  when: \n+    - docker_network_access | bool\n+    - _docker_os_dist_major_version == '7'\n\\ No newline at end of file"
            }
        ]
    },
    {
        "repo": "StackStorm/ansible-st2",
        "author_id": "MDQ6VXNlcjE3ODg4NjI=",
        "author_name": "Johan Dahlberg",
        "committer_id": "MDQ6VXNlcjE1MzM4MTg=",
        "committer_name": "Eugen C",
        "committer_email": "armab@users.noreply.github.com",
        "message": "Use new bundled packages (#42)\n\nUse new bundled packages\r\n\r\nCloses #43, fixes #40, fixes #39, fixes #38, closes #36, closes #14, resolves #4",
        "sha": "36f63dc3647721266cdb0d09e6836ce99546505e",
        "url": "https://api.github.com/repos/StackStorm/ansible-st2/commits/36f63dc3647721266cdb0d09e6836ce99546505e",
        "parents": [
            "e42f58bc7e876fea3462e363d8ab780889ef000c"
        ],
        "files": [
            {
                "sha": "0b48f13b64f1bc7f2814ed7506bebd6661f65f4a",
                "filename": "roles/st2/tasks/config_auth.yml",
                "previous_filename": null,
                "additions": 20,
                "deletions": 29,
                "changes": 49,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/36f63dc3647721266cdb0d09e6836ce99546505e/roles/st2/tasks/config_auth.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/36f63dc3647721266cdb0d09e6836ce99546505e/roles/st2/tasks/config_auth.yml",
                "status": "modified",
                "patch": "@@ -1,37 +1,28 @@\n-- name: Config proxy auth\n-  sudo: true\n-  lineinfile:\n-    dest: /etc/st2/st2.conf\n-    regexp: \"^{{ item.option }}\\\\s*=\"\n-    value: \"{{ item.option }} = {{ item.value }}\"\n+- name: Install auth pre-reqs\n+  sudo: yes\n+  apt:\n+    name: \"{{ item }}\"\n+    state: present\n   with_items:\n-    - option: mode\n-      value: proxy\n-  when: \"st2_auth_username is undefined\"\n-  notify:\n-    - restart st2\n-\n-- name: Config stanalone auth\n-  sudo: true\n-  lineinfile:\n-    dest: /etc/st2/st2.conf\n-    regexp: \"^{{ item.option }}\\\\s*=\"\n-    value: \"{{ item.option }} = {{ item.value }}\"\n-  with_items:\n-    - option: mode\n-      value: standalone\n-    - option: backend\n-      value: flat_file\n-    - option: backend_kwargs\n-      value: \"{\\\"file_path\\\": \\\"/etc/st2/htpasswd\\\"}\"\n-  when: \"st2_auth_username is defined\"\n-  notify:\n-    - restart st2\n+    - python-passlib\n+    - apache2-utils\n \n - name: Create htpasswd file\n   sudo: true\n   htpasswd:\n     path: /etc/st2/htpasswd\n     name: \"{{ st2_auth_username }}\"\n     password: \"{{ st2_auth_password }}\"\n-  when: \"st2_auth_username is defined\"\n+  notify:\n+    - restart st2api/st2stream\n+\n+- name: Enable autentication\n+  sudo: yes\n+  ini_file:\n+    dest: /etc/st2/st2.conf\n+    section: auth\n+    option: enable\n+    value: True\n+    backup: yes\n+  notify: \n+    - restart st2api/st2stream"
            },
            {
                "sha": "a07d5797f2ffbc8a6e9c12b58de2fdbd52912903",
                "filename": "roles/st2/tasks/main.yml",
                "previous_filename": null,
                "additions": 23,
                "deletions": 10,
                "changes": 33,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/36f63dc3647721266cdb0d09e6836ce99546505e/roles/st2/tasks/main.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/36f63dc3647721266cdb0d09e6836ce99546505e/roles/st2/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,11 +1,24 @@\n-- include: 1.requirements.yml\n-- include: 2.version.yml\n-- include: 3.user.yml\n-- include: 4.dependencies.yml\n-- include: 5.packages.yml\n-- include: 6.upstart.yml\n+---\n+\n+- name: Install latest st2 package\n+  sudo: yes\n+  apt:\n+    name: st2\n+    state: latest\n+  when: st2_version == \"stable\"\n+  notify:\n+    - restart st2\n+\n+- name: Install latest st2 package\n+  sudo: yes\n+  apt:\n+    name: st2={{ st2_version }}.{{ st2_revision }}\n+    state: present\n+  when: st2_version != \"stable\"\n+  notify:\n+    - restart st2\n+\n+- include: user.yml\n+\n - include: config_auth.yml\n-  when: \"'st2auth' in st2_packages\"\n-- name: Register content\n-  shell: \"python /usr/lib/python2.7/dist-packages/st2common/bin/st2-register-content\n-          --config-file /etc/st2/st2.conf --register-all 2>&1\"\n+  when: enable_auth"
            },
            {
                "sha": "5c23fd14fc585d950a5e3162cc75491dbfdf763a",
                "filename": "roles/st2/tasks/user.yml",
                "previous_filename": "roles/st2/tasks/3.user.yml",
                "additions": 19,
                "deletions": 0,
                "changes": 19,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/36f63dc3647721266cdb0d09e6836ce99546505e/roles/st2/tasks/user.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/36f63dc3647721266cdb0d09e6836ce99546505e/roles/st2/tasks/user.yml",
                "status": "renamed",
                "patch": "@@ -32,3 +32,22 @@\n     state: \"{{ 'present' if st2_system_user_in_sudoers else 'absent' }}\"\n     validate: 'visudo -cf %s'\n   tags: [st2, user]\n+\n+\n+- name: Configure system user in /etc/st2/st2.conf\n+  sudo: yes\n+  ini_file:\n+    dest: /etc/st2/st2.conf\n+    section: system_user\n+    option: user\n+    value: \"{{ st2_system_user }}\"\n+    backup: yes\n+\n+- name: Configure system user ssh key in /etc/st2/st2.conf\n+  sudo: yes\n+  ini_file:\n+    dest: /etc/st2/st2.conf\n+    section: system_user\n+    option: ssh_key_file\n+    value: \"{{ _user.ssh_key_file }}\"\n+    backup: yes"
            },
            {
                "sha": "b09cdd079871213ec3d977f92b7538f2142418b3",
                "filename": "roles/mistral/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/36f63dc3647721266cdb0d09e6836ce99546505e/roles/mistral/defaults/main.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/36f63dc3647721266cdb0d09e6836ce99546505e/roles/mistral/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,4 @@\n-mistral_version: 0.13\n+mistral_version: stable\n mistral_db_username: mistral\n mistral_db_password: StackStorm\n mistral_db: mistral"
            },
            {
                "sha": "de6811b879196d3c36afdbb0aa91ca47532cad5a",
                "filename": "roles/mongodb/tasks/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 1,
                "changes": 1,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/36f63dc3647721266cdb0d09e6836ce99546505e/roles/mongodb/tasks/main.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/36f63dc3647721266cdb0d09e6836ce99546505e/roles/mongodb/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -5,5 +5,4 @@\n     update_cache: yes\n     state: present\n   with_items:\n-    - mongodb\n     - mongodb-server"
            },
            {
                "sha": "ac43644b4ddd0e7a3aa4f1cf9f0bb7dce0ae8094",
                "filename": "roles/st2/handlers/main.yml",
                "previous_filename": null,
                "additions": 11,
                "deletions": 4,
                "changes": 15,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/36f63dc3647721266cdb0d09e6836ce99546505e/roles/st2/handlers/main.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/36f63dc3647721266cdb0d09e6836ce99546505e/roles/st2/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,13 @@\n - name: restart st2\n   sudo: true\n-  service:\n-    name: \"{{ item }}\"\n-    state: restarted\n-  with_items: st2_services\n+  command: \"{{ item }}\"\n+  with_items:\n+    - st2ctl reload --register-all\n+    - st2ctl restart\n+\n+- name: restart st2api/st2stream\n+  sudo: true\n+  command: \"st2ctl restart-component {{ item }}\"\n+  with_items:\n+    - st2api\n+    - st2stream"
            },
            {
                "sha": "0c4007d181b6ca8241749b787b0957c387e91285",
                "filename": "roles/rabbitmq/tasks/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 25,
                "changes": 25,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/36f63dc3647721266cdb0d09e6836ce99546505e/roles/rabbitmq/tasks/main.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/36f63dc3647721266cdb0d09e6836ce99546505e/roles/rabbitmq/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,12 +1,3 @@\n-- name: Ensure rabbitmq repo\n-  sudo: true\n-  apt_repository:\n-    repo: deb http://www.rabbitmq.com/debian/ testing main\n-\n-- name: Ensure rabbitmq repo key\n-  sudo: true\n-  apt_key:\n-    url: http://www.rabbitmq.com/rabbitmq-signing-key-public.asc\n \n - name: Install rabbitmq packages\n   sudo: true\n@@ -15,19 +6,3 @@\n     update_cache: true\n   with_items:\n     - rabbitmq-server\n-\n-- name: Enable rabbitmq_management plugin\n-  sudo: true\n-  rabbitmq_plugin:\n-    names: rabbitmq_management\n-  notify:\n-    - restart rabbitmq\n-\n-- meta: flush_handlers\n-\n-- name: Install rabbitmqadmin\n-  sudo: true\n-  get_url:\n-    url: http://127.0.0.1:15672/cli/rabbitmqadmin\n-    dest: /usr/bin/rabbitmqadmin\n-    mode: 0755"
            },
            {
                "sha": "672364ac9d672ab9450a7eb8ce05b8aa434c45f9",
                "filename": "roles/mistral/meta/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/36f63dc3647721266cdb0d09e6836ce99546505e/roles/mistral/meta/main.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/36f63dc3647721266cdb0d09e6836ce99546505e/roles/mistral/meta/main.yml",
                "status": "modified",
                "patch": "@@ -23,3 +23,4 @@ dependencies:\n       - name: \"{{ mistral_db_username }}\"\n         pass: \"{{ mistral_db_password }}\"\n         encrypted: yes\n+  - role: st2repos"
            },
            {
                "sha": "4f11af646525b65bc8003de828773f9631dd63d5",
                "filename": "roles/st2/meta/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/36f63dc3647721266cdb0d09e6836ce99546505e/roles/st2/meta/main.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/36f63dc3647721266cdb0d09e6836ce99546505e/roles/st2/meta/main.yml",
                "status": "modified",
                "patch": "@@ -12,4 +12,5 @@ galaxy_info:\n         - precise\n   categories:\n     - system\n-dependencies: []\n+dependencies: \n+  - role: st2repos"
            },
            {
                "sha": "026249289dea029405ce63c3126fc5bee174ad3b",
                "filename": "roles/mistral/tasks/main.yml",
                "previous_filename": null,
                "additions": 75,
                "deletions": 7,
                "changes": 82,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/36f63dc3647721266cdb0d09e6836ce99546505e/roles/mistral/tasks/main.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/36f63dc3647721266cdb0d09e6836ce99546505e/roles/mistral/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,75 @@\n-- include: gather_facts.yml\n-- include: install_deps.yml\n-- include: install_mistral.yml\n-- include: install_actions.yml\n-- include: config.yml\n-- include: sync.yml\n-- include: install_client.yml\n+---\n+\n+- name: Install latest st2mistral\n+  sudo: yes\n+  apt: \n+    name: st2mistral\n+    state: latest\n+  when: mistral_version == \"stable\"\n+\n+- name: Install latest st2mistral\n+  sudo: yes\n+  apt:\n+    name: st2mistral={{ mistral_version }}\n+    state: present\n+  when: mistral_version != \"stable\"\n+\n+- name: Configure mistral\n+  sudo: yes\n+  ini_file:\n+    dest: /etc/mistral/mistral.conf\n+    section: database\n+    option: connection\n+    value: postgresql://{{ mistral_db_username }}:{{ mistral_db_password }}@localhost/{{ mistral_db }}\n+    backup: yes\n+\n+- name: Deploy database init script\n+  sudo: yes\n+  template:\n+    src: init_mistral_db.SQL.j2\n+    dest: /etc/mistral/init_mistral_db.SQL \n+  notify: \n+    - restart mistral\n+\n+- name: Initiate database\n+  become: yes\n+  become_user: postgres\n+  shell: psql < /etc/mistral/init_mistral_db.SQL\n+  args: \n+    creates: /etc/mistral/init_mistral_db.SQL.ansible.has.run\n+  notify:\n+    - restart mistral\n+\n+- name: Make sure \"Initiate database\" doesn't run twice\n+  sudo: yes\n+  file:\n+    path: /etc/mistral/init_mistral_db.SQL.ansible.has.run\n+    state: touch\n+\n+- name: Setup Mistral DB tables, etc\n+  sudo: yes\n+  command: /opt/stackstorm/mistral/bin/mistral-db-manage --config-file /etc/mistral/mistral.conf upgrade head\n+  args:\n+    creates: /etc/mistral/mistral-db-manage.upgrade.head.ansible.has.run\n+  notify: \n+    - restart mistral\n+\n+- name: Make sure \"Setup Mistral DB tables, etc\" does not run again\n+  sudo: yes\n+  file:\n+    path: /etc/mistral/mistral-db-manage.upgrade.head.ansible.has.run\n+    state: touch\n+\n+- name: Register mistral actions\n+  sudo: yes\n+  command: /opt/stackstorm/mistral/bin/mistral-db-manage --config-file /etc/mistral/mistral.conf populate\n+  args:\n+    creates: /etc/mistral/mistral-db-manage.populate.ansible.has.run\n+  notify:\n+    - restart mistral\n+\n+- name: Make sure \"Register mistral actions\" does not run again\n+  sudo: yes\n+  file:\n+    path: /etc/mistral/mistral-db-manage.upgrade.head.ansible.has.run\n+    state: touch"
            },
            {
                "sha": "c5fef60a5b48464f05c35087d716a55105a4e986",
                "filename": "roles/st2/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/36f63dc3647721266cdb0d09e6836ce99546505e/roles/st2/defaults/main.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/36f63dc3647721266cdb0d09e6836ce99546505e/roles/st2/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -24,10 +24,10 @@ st2_packages:\n # Number of action runners to register. Defaults to number of vCPUs, but not less than 2\n st2_action_runners: \"{{ [ansible_processor_vcpus, 2] | max }}\"\n \n+enable_auth: true\n st2_auth_username: testu\n st2_auth_password: testp\n \n # Set to no if you do not want the st2_system_user to be added in\n # the sudoers file.\n st2_system_user_in_sudoers: yes\n-"
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "gtayzlor@gmail.com",
        "message": "Fix #662 - error on reload systemd",
        "sha": "308889b1c7c114ab9079c9050ee083fffe5508be",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/308889b1c7c114ab9079c9050ee083fffe5508be",
        "parents": [
            "23dde94de0a1355bc5a9d83fb2d424f136f05fa2"
        ],
        "files": [
            {
                "sha": "0ce1d5b79cc8a7ee8b6cb1b101e9f3995bb31136",
                "filename": "roles/weave/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/308889b1c7c114ab9079c9050ee083fffe5508be/roles/weave/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/308889b1c7c114ab9079c9050ee083fffe5508be/roles/weave/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -24,7 +24,7 @@\n     - src: weaveproxy.service.j2\n       dest: /etc/systemd/system/weaveproxy.service\n   notify:\n-    - systemd reload\n+    - reload systemd\n     - restart weave\n     - restart weaveproxy\n   tags:"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "author_name": "Jack Ivanov",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "e601809@gmail.com",
        "message": "Disable the Signature Algorithm check and add default vars. Fixes #525",
        "sha": "0031d2809ed19b2705f1a89f317bb2ca827bbd45",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/0031d2809ed19b2705f1a89f317bb2ca827bbd45",
        "parents": [
            "27f9cda361e4e536443a046927727352b4c93465"
        ],
        "files": [
            {
                "sha": "c75d2faf58560afa35c0f59bc2f812da94fa9ff5",
                "filename": "roles/client/tasks/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 13,
                "changes": 13,
                "blob_url": "https://github.com/trailofbits/algo/blob/0031d2809ed19b2705f1a89f317bb2ca827bbd45/roles/client/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/0031d2809ed19b2705f1a89f317bb2ca827bbd45/roles/client/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -4,19 +4,6 @@\n - name: Include system based facts and tasks\n   include: systems/main.yml\n \n-- name: Checking the signature algorithm\n-  local_action: >\n-      shell openssl x509 -text -in certs/{{ IP_subject_alt_name }}.crt  | grep 'Signature Algorithm' | head -n1\n-  become: no\n-  register: sig_algo\n-  args:\n-    chdir: \"configs/{{ IP_subject_alt_name }}/pki/\"\n-\n-- name: Change the algorithm to RSA\n-  set_fact:\n-    Win10_Enabled: \"Y\"\n-  when: '\"ecdsa\" not in sig_algo.stdout'\n-\n - name: Install prerequisites\n   package: name=\"{{ item }}\" state=present\n   with_items:"
            }
        ]
    },
    {
        "repo": "iiab/iiab",
        "author_id": "MDQ6VXNlcjI0NTg5MDc=",
        "author_name": "A Holt",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #485 from holta/kiwix-cron-nightly-not-hourly\n\nrestart kiwix-serve 4AM nightly (not 15min after every hour) & restrict chown to /opt/iiab/kiwix\r\n\r\nSmoke-tested.  Please continue to test locally, so we can refine (or eliminate if nec?) this cron job's frequency as nec!\r\n\r\nCloses #484",
        "sha": "7b929140195f5fc1217dfa6779e6f6e81d809fd2",
        "url": "https://api.github.com/repos/iiab/iiab/commits/7b929140195f5fc1217dfa6779e6f6e81d809fd2",
        "parents": [
            "50a0256ebcdef429fa1de9afb21bc2c1d62620b6",
            "d748a14cbda76758663b4e330b6831b856366679"
        ],
        "files": [
            {
                "sha": "54d7d4d86a2d0f899c95708f28055becfb11e892",
                "filename": "roles/kiwix/tasks/kiwix_install.yml",
                "previous_filename": null,
                "additions": 15,
                "deletions": 15,
                "changes": 30,
                "blob_url": "https://github.com/iiab/iiab/blob/7b929140195f5fc1217dfa6779e6f6e81d809fd2/roles/kiwix/tasks/kiwix_install.yml",
                "raw_url": "https://github.com/iiab/iiab/raw/7b929140195f5fc1217dfa6779e6f6e81d809fd2/roles/kiwix/tasks/kiwix_install.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,4 @@\n-- name: Create various directories for ZIM files\n+- name: Create various directories for Kiwix's ZIM files\n   file: path={{ item }}\n         owner=root\n         group=root\n@@ -9,11 +9,11 @@\n     - \"{{ kiwix_content_path }}\"\n     - \"{{ iiab_zim_path }}/index\"\n \n-- name: Check for kiwix-serve binary\n+- name: Check for 'kiwix-serve' binary\n   stat: path={{ iiab_base }}/kiwix/bin/kiwix-serve\n   register: kiwix_bin\n \n-- name: Set kiwix first pass\n+- name: Set kiwix_first_pass\n   set_fact:\n     kiwix_first_pass: True\n   when: kiwix_bin.stat.exists is defined and not kiwix_bin.stat.exists\n@@ -47,7 +47,7 @@\n              group=root\n   when: not kiwix_src_bin_only and kiwix_first_pass\n \n-- name: Create directory for kiwix bin\n+- name: Create kiwix/bin directory\n   file: path=\"{{ iiab_base }}/kiwix/bin\"\n         owner=root\n         group=root\n@@ -63,33 +63,33 @@\n     - rewrite\n   when: is_debuntu\n \n-- name: Unarchive it to permanent location - bin only\n+- name: Unarchive Kiwix to permanent location - bin only\n   unarchive: src=\"{{ downloads_dir }}/{{ kiwix_src_file }}\"\n              dest=\"{{ iiab_base }}/kiwix/bin\"\n              owner=root\n              group=root\n   when: kiwix_src_bin_only and kiwix_first_pass\n \n # workaround because unarchive does not set ownership properly\n-- name: Set kiwix ownership to root [WARNING chown -R across all of /opt/iiab]\n-  command: \"chown -R root:root {{ iiab_base }}\"\n+- name: \"Set ownership: 'chown -R root:root /opt/iiab/kiwix'\"\n+  command: \"chown -R root:root {{ iiab_base }}/kiwix\"\n \n # workaround because kiwix-serve does not stay running\n-- name: Make an entry in crontab to restart every hour\n+- name: Make a crontab entry to restart kiwix-serve at 4AM (debuntu)\n # *  *  *  *  * user-name  command to be executed\n-  lineinfile: line=\"15 *  *  *  * root /bin/systemctl restart kiwix-serve.service\"\n+  lineinfile: line=\"0  4  *  *  * root /bin/systemctl restart kiwix-serve.service\"\n               dest=/etc/crontab\n   when: is_debuntu\n \n-- name: Make an entry in crontab to restart every hour\n+- name: Make a crontab entry to restart kiwix-serve at 4AM (redhat)\n # *  *  *  *  * user-name  command to be executed\n-  lineinfile: line=\"15 *  *  *  * root /usr/bin/systemctl restart kiwix-serve.service\"\n+  lineinfile: line=\"0  4  *  *  * root /usr/bin/systemctl restart kiwix-serve.service\"\n               dest=/etc/crontab\n   when: is_redhat\n \n # Create kiwix service\n \n-- name: Create kiwix-serve service\n+- name: Create 'kiwix-serve' service\n   template: backup=no\n             src={{ item.src }}\n             dest={{ item.dest }}\n@@ -105,7 +105,7 @@\n     - { src: 'iiab-make-apache-config.py', dest: '/usr/bin/iiab-make-apache-config.py', mode: '0755'}\n \n \n-- name: Add kiwix-serve to list of services\n+- name: Add 'kiwix-serve' to list of services\n   ini_file: dest='{{ service_filelist }}'\n             section=kiwix-serve\n             option='{{ item.option }}'\n@@ -130,13 +130,13 @@\n     - option: enabled\n       value: \"{{ kiwix_enabled }}\"\n \n-- name: Enable kiwix-serve service\n+- name: Enable 'kiwix-serve' service\n   service: name=kiwix-serve\n            enabled=yes\n            state=restarted\n   when: kiwix_enabled\n \n-- name: Disable kiwix-serve service\n+- name: Disable 'kiwix-serve' service\n   service: name=kiwix-serve\n            enabled=no\n            state=stopped"
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "bugfix: make conditional service reload after torrc change a handler (fixes #83)",
        "sha": "c25e1f96cb3a91dfef803f4de935c51c597bd19d",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/c25e1f96cb3a91dfef803f4de935c51c597bd19d",
        "parents": [
            "dc73f16743fa376672b427980c6ca044dd6fa68a"
        ],
        "files": [
            {
                "sha": "5e3caef9204c63c07f638687fa38ac81774205e4",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 0,
                "changes": 8,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/c25e1f96cb3a91dfef803f4de935c51c597bd19d/handlers/main.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/c25e1f96cb3a91dfef803f4de935c51c597bd19d/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -31,3 +31,11 @@\n     name: tor\n     state: reloaded\n   when: ansible_system == 'FreeBSD'\n+\n+- name: Ensure Tor instances are reloaded if its torrc changed (Linux)\n+  become: yes\n+  service:\n+    name: \"tor@{{ item.item.0.ipv4 }}_{{ item.item.1.orport }}.service\"\n+    state: reloaded\n+  with_items: \"{{ instances.results }}\"\n+  when: item.changed == True and ansible_system == 'Linux'"
            },
            {
                "sha": "653500718877a2fa7023080e141f21c83078bb45",
                "filename": "tasks/configure.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/c25e1f96cb3a91dfef803f4de935c51c597bd19d/tasks/configure.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/c25e1f96cb3a91dfef803f4de935c51c597bd19d/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -214,5 +214,6 @@\n   register: instances\n   notify:\n     - Ensure Tor instances are reloaded if its torrc changed (FreeBSD)\n+    - Ensure Tor instances are reloaded if its torrc changed (Linux)\n   tags:\n    - reconfigure"
            },
            {
                "sha": "40c2a0aab1694994d5a45958f0086449cf1d43e4",
                "filename": "tasks/linux_service.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 10,
                "changes": 10,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/c25e1f96cb3a91dfef803f4de935c51c597bd19d/tasks/linux_service.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/c25e1f96cb3a91dfef803f4de935c51c597bd19d/tasks/linux_service.yml",
                "status": "modified",
                "patch": "@@ -3,16 +3,6 @@\n # Linux/systemd section (uses service module)\n # ===========================================\n \n-- name: Ensure Tor instances are reloaded if its torrc changed (Linux/systemd)\n-  become: yes\n-  service:\n-    name: \"tor@{{ item.item.0.ipv4 }}_{{ item.item.1.orport }}.service\"\n-    state: reloaded\n-  with_items: \"{{ instances.results }}\"\n-  when: item.changed == True\n-  tags:\n-   - reconfigure\n-\n - name: Ensure Tor instances are enabled and started (Linux/systemd)\n   become: yes\n   service:"
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "graham.x.taylor@capgemini.com",
        "message": "Fixes #61 - marathon hostname link was not resolving correctly from the web interface",
        "sha": "04b2bd756a11870d3839aa5cb50da0b9afa16aa6",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/04b2bd756a11870d3839aa5cb50da0b9afa16aa6",
        "parents": [
            "0f46bc2b1f4dac71c882be0ee48a25332a90ed40"
        ],
        "files": [
            {
                "sha": "098c031a3dac9fb15e86d0b9208242cb14de5eeb",
                "filename": "roles/marathon/tasks/main.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 0,
                "changes": 7,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/04b2bd756a11870d3839aa5cb50da0b9afa16aa6/roles/marathon/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/04b2bd756a11870d3839aa5cb50da0b9afa16aa6/roles/marathon/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,12 @@\n ---\n # tasks file for marathon\n+- name: Set Marathon hostname\n+  copy:\n+    content: \"{{marathon_local_address}}\"\n+    dest: /etc/marathon/conf/hostname\n+    mode: 0644\n+  sudo: yes\n+\n - name: remove marathon override\n   command: /bin/rm -f /etc/init/marathon.override\n "
            },
            {
                "sha": "002953d6de58465657ee785cd5a3fe3239ba4802",
                "filename": "roles/marathon/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/04b2bd756a11870d3839aa5cb50da0b9afa16aa6/roles/marathon/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/04b2bd756a11870d3839aa5cb50da0b9afa16aa6/roles/marathon/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -2,3 +2,4 @@\n # defaults file for marathon\n marathon_port: 8080\n consul_dir: /etc/consul.d\n+marathon_local_address: \"{{ansible_eth0.ipv4.address}}\""
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-nodejs",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fix up import exports on #35.",
        "sha": "05a62652e16dd01de17154f69654e5b45f9915c9",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-nodejs/commits/05a62652e16dd01de17154f69654e5b45f9915c9",
        "parents": [
            "826480aafc4288d6cae803b3d839eeedeba14fb7"
        ],
        "files": [
            {
                "sha": "005b6b490bf95ab0e1a3d29b3f87fecc0be073c9",
                "filename": "tasks/nodejs.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 3,
                "changes": 7,
                "blob_url": "https://github.com/fubarhouse/ansible-role-nodejs/blob/05a62652e16dd01de17154f69654e5b45f9915c9/tasks/nodejs.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-nodejs/raw/05a62652e16dd01de17154f69654e5b45f9915c9/tasks/nodejs.yml",
                "status": "modified",
                "patch": "@@ -47,11 +47,12 @@\n   become: yes\n   become_user: \"{{ fubarhouse_user }}\"\n   lineinfile:\n-    dest: \"{{ fubarhouse_user_dir }}/{{ item }}\"\n+    dest: \"{{ fubarhouse_user_dir }}/{{ item.item.item }}\"\n     line: \"export PATH=$PATH:$(npm config --global get prefix)/bin\"\n     state: present\n-  with_items: \"{{ shell_profiles }}\"\n-  when: '\"{{ node_version }}\" in nodejs_available_versions.stdout'\n+  with_items:\n+    - \"{{ available_shell_profiles.results }}\"\n+  when: item.item.stat.exists|bool == true\n \n - name: \"NodeJS | Verify version in use\"\n   shell: \"{{ nvm_symlink_exec }} ls | grep current | cat\""
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "haxorof",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "haxorof",
        "committer_email": "bjorn.oscarsson@gmail.com",
        "message": "Fixes #5",
        "sha": "af995622de049010a8c2fc9e12f4151430b4ae0b",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/af995622de049010a8c2fc9e12f4151430b4ae0b",
        "parents": [
            "690360fffc5bdb505f7804c158dba0b37a23abb5"
        ],
        "files": [
            {
                "sha": "21e7709739185e0e50c917f3f947c9d33090d764",
                "filename": "tasks/main-Generic.yml",
                "previous_filename": null,
                "additions": 16,
                "deletions": 0,
                "changes": 16,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/af995622de049010a8c2fc9e12f4151430b4ae0b/tasks/main-Generic.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/af995622de049010a8c2fc9e12f4151430b4ae0b/tasks/main-Generic.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,22 @@\n ---\n # tasks file for ansible-role-docker-ce\n \n+- name: Copy Docker audit rules\n+  copy:\n+    src: files/etc/audit/rules.d/docker.rules\n+    dest: /etc/audit/rules.d/docker.rules\n+  become: yes\n+  notify: restart auditd\n+  when: docker_enable_audit == true\n+\n+- name: Ensure Docker audit rules are removed\n+  file:\n+    path: /etc/audit/rules.d/docker.rules\n+    state: absent\n+  become: yes\n+  notify: restart auditd\n+  when: docker_enable_audit == false\n+\n - name: Determine Docker version\n   command: bash -c \"docker version | grep Version | awk '{print $2}'\"\n   ignore_errors: yes"
            },
            {
                "sha": "bf37dee844c58fbf44cf1719821ca7176b912e00",
                "filename": "tasks/main-Fedora.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/af995622de049010a8c2fc9e12f4151430b4ae0b/tasks/main-Fedora.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/af995622de049010a8c2fc9e12f4151430b4ae0b/tasks/main-Fedora.yml",
                "status": "modified",
                "patch": "@@ -11,6 +11,8 @@\n \n - name: Determine Docker CE Edge repo status\n   shell: dnf config-manager --dump docker-ce-edge | grep enabled\n+  args:\n+    warn: false\n   ignore_errors: yes\n   changed_when: false\n   register: cmd_docker_ce_edge_enabled"
            },
            {
                "sha": "216eaa495d8af4dfe0ec808c9f6df3093bb0f22a",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 1,
                "changes": 9,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/af995622de049010a8c2fc9e12f4151430b4ae0b/handlers/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/af995622de049010a8c2fc9e12f4151430b4ae0b/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -5,4 +5,11 @@\n   service:\n     name: docker\n     state: restarted\n-  become: true\n\\ No newline at end of file\n+  become: true\n+\n+# Workaround because systemd cannot be used: https://github.com/ansible/ansible/issues/22171\n+- name: restart auditd\n+  shell: service auditd restart\n+  args:\n+    warn: false\n+  become: true"
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjEwNTU3MzE4",
        "author_name": "Dan Jurgensmeyer",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "fix variable name (#143)",
        "sha": "f4f0e22738291a56093e4cb61c55706fec3a74d3",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/f4f0e22738291a56093e4cb61c55706fec3a74d3",
        "parents": [
            "e75cabae2d692a152ca21c185a313528b8bac3c8"
        ],
        "files": [
            {
                "sha": "a107b04279d6228407950dc975e3daa94ead9dfd",
                "filename": "roles/ansible/tower/manage-job-templates/tasks/set-permissions.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/f4f0e22738291a56093e4cb61c55706fec3a74d3/roles/ansible/tower/manage-job-templates/tasks/set-permissions.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/f4f0e22738291a56093e4cb61c55706fec3a74d3/roles/ansible/tower/manage-job-templates/tasks/set-permissions.yml",
                "status": "modified",
                "patch": "@@ -9,12 +9,12 @@\n   with_items:\n   - \"{{ existing_teams_output.rest_output }}\"\n     \n-- name: \"Obtain user id based on the user name\"\n+- name: \"Obtain user id based on the username\"\n   set_fact:\n     object_id: \"{{ item.id }}\" \n   when:\n   - permissions_object == \"users\"\n-  - item.name|trim == permissions_value.name|trim\n+  - item.username|trim == permissions_value.name|trim\n   with_items:\n   - \"{{ existing_users_output.rest_output }}\"\n "
            },
            {
                "sha": "00301ef527ab46c2cc1b3995eeb814a6db0abd08",
                "filename": "roles/ansible/tower/manage-job-templates/tests/inventory/group_vars/tower.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/f4f0e22738291a56093e4cb61c55706fec3a74d3/roles/ansible/tower/manage-job-templates/tests/inventory/group_vars/tower.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/f4f0e22738291a56093e4cb61c55706fec3a74d3/roles/ansible/tower/manage-job-templates/tests/inventory/group_vars/tower.yml",
                "status": "modified",
                "patch": "@@ -8,7 +8,7 @@ ansible_tower_job_templates:\n   inventory: \"Inventory1\"\n   project: \"Project1\"\n   playbook: \"playbooks/prep.yml\"\n-  credential: \"Credential1\"\n+  credential: \"Cred1\"\n   extra_vars: \"---\\\\nhello: world\\\\n\"\n   ask_variables_on_launch: true\n   permissions:"
            }
        ]
    },
    {
        "repo": "angstwad/docker.ubuntu",
        "author_id": "MDQ6VXNlcjEyNDA3NDA=",
        "author_name": "Paul Durivage",
        "committer_id": "MDQ6VXNlcjEyNDA3NDA=",
        "committer_name": "Paul Durivage",
        "committer_email": "pauldurivage@gmail.com",
        "message": "Fixes #22; previous state was a no-op",
        "sha": "0183b10864f53eb0cf3405fb2a3a92a07d573349",
        "url": "https://api.github.com/repos/angstwad/docker.ubuntu/commits/0183b10864f53eb0cf3405fb2a3a92a07d573349",
        "parents": [
            "ef44a28a33e2fea1d2a2b61b1af060d51a8439d7"
        ],
        "files": [
            {
                "sha": "2d26b2b711e694f8ee3e489373e90b2a9234f913",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 6,
                "changes": 9,
                "blob_url": "https://github.com/angstwad/docker.ubuntu/blob/0183b10864f53eb0cf3405fb2a3a92a07d573349/tasks/main.yml",
                "raw_url": "https://github.com/angstwad/docker.ubuntu/raw/0183b10864f53eb0cf3405fb2a3a92a07d573349/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -63,15 +63,12 @@\n     update_cache: yes\n     state: present\n \n-- name: Install (or update) docker.io\n+- name: Install (or update) docker\n   apt: \n-    name: \"{{ docker_io_pkg }}\"\n+    name: \"{{ docker_pkg_name }}\"\n     state: latest\n     update_cache: yes\n-      \n-- name: Install Docker\n-  apt: pkg={{ docker_lxc_pkg }}\n-  notify: \"Start Docker\"\n+    cache_valid_time: 600\n \n - name: Expose docker host\n   copy:"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fix #718 - change method of updating theme paths\n\nAfter a deploy we were running `switch_theme` would had the side effect\nof sometimes making sidebar widgets inactive.\n\nThis uses a simpler, more direct method of updating `stylesheet_root` and\n`template_root` which should be less error-prone since it does less.",
        "sha": "632bbe84497584cf25ea3556b987a6cb63aec31b",
        "url": "https://api.github.com/repos/roots/trellis/commits/632bbe84497584cf25ea3556b987a6cb63aec31b",
        "parents": [
            "7f77ecfd904304d137e24dbeb36a6b6446896a4f"
        ],
        "files": [
            {
                "sha": "1914b98a7be3549d9316a3141aa0931d45215d2d",
                "filename": "roles/deploy/hooks/finalize-after.yml",
                "previous_filename": null,
                "additions": 14,
                "deletions": 2,
                "changes": 16,
                "blob_url": "https://github.com/roots/trellis/blob/632bbe84497584cf25ea3556b987a6cb63aec31b/roles/deploy/hooks/finalize-after.yml",
                "raw_url": "https://github.com/roots/trellis/raw/632bbe84497584cf25ea3556b987a6cb63aec31b/roles/deploy/hooks/finalize-after.yml",
                "status": "modified",
                "patch": "@@ -24,12 +24,24 @@\n     chdir: \"{{ deploy_helper.current_path }}\"\n   when: wp_installed | success and project.multisite.enabled | default(false)\n \n-- name: Update WP theme paths\n-  command: wp eval 'wp_clean_themes_cache(); switch_theme(get_stylesheet());'\n+- name: Get WP theme template root\n+  command: wp option get template_root\n   args:\n     chdir: \"{{ deploy_helper.current_path }}\"\n+  register: wp_template_root\n+  changed_when: false\n+  failed_when: wp_template_root.stderr != \"\"\n   when: wp_installed | success\n \n+- name: Update WP theme paths\n+  command: wp option set {{ item }} {{ deploy_helper.new_release_path }}/web/wp/wp-content/themes\n+  args:\n+    chdir: \"{{ deploy_helper.current_path }}\"\n+  when: wp_installed | success and wp_template_root != '/themes' and wp_template_root != ''\n+  with_items:\n+    - stylesheet_root\n+    - template_root\n+\n - name: Reload php-fpm\n   shell: sudo service php7.1-fpm reload\n   args:"
            }
        ]
    },
    {
        "repo": "dev-sec/ansible-nginx-hardening",
        "author_id": "MDQ6VXNlcjExNzg0MTM=",
        "author_name": "Christoph Hartmann",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #5 from dev-sec/dhparam\n\ncreate dhparam file. fix #4",
        "sha": "c5ca8972146c84a12b80cd589c873884699d06bc",
        "url": "https://api.github.com/repos/dev-sec/ansible-nginx-hardening/commits/c5ca8972146c84a12b80cd589c873884699d06bc",
        "parents": [
            "29c99df6be1f12167300ee9cdc7298ff44f1fe21",
            "36df40fe8e4c172e8201321642df6b5feeb300ff"
        ],
        "files": [
            {
                "sha": "e3484d8dc5ed6e761d71517742a13dd3ea5a40f7",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/dev-sec/ansible-nginx-hardening/blob/c5ca8972146c84a12b80cd589c873884699d06bc/tasks/main.yml",
                "raw_url": "https://github.com/dev-sec/ansible-nginx-hardening/raw/c5ca8972146c84a12b80cd589c873884699d06bc/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -29,3 +29,7 @@\n   file: path=\"{{nginx_default_conf}}\" state=absent\n   when: nginx_remove_default_site\n   notify: reload nginx\n+\n+- name: generate dh group\n+  command: openssl dhparam -out {{nginx_dh_param}} {{nginx_dh_size}} creates={{nginx_dh_param}}\n+  notify: reload nginx"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjczMzg1MTM=",
        "author_name": "Phil Nelson",
        "committer_id": "MDQ6VXNlcjczMzg1MTM=",
        "committer_name": "Phil Nelson",
        "committer_email": "phil@fullyint.com",
        "message": "Fix #468 - Use curl to install wp-cli tab completions",
        "sha": "3bc7d96ccc00f6a05d666a3fde220dcf59139f86",
        "url": "https://api.github.com/repos/roots/trellis/commits/3bc7d96ccc00f6a05d666a3fde220dcf59139f86",
        "parents": [
            "2e36598dc2c0723f1105b3a0ca9620b412236d59"
        ],
        "files": [
            {
                "sha": "d4bfadd4f635232ec841443d99a696dde4f5cb2d",
                "filename": "roles/wp-cli/tasks/main.yml",
                "previous_filename": null,
                "additions": 11,
                "deletions": 4,
                "changes": 15,
                "blob_url": "https://github.com/roots/trellis/blob/3bc7d96ccc00f6a05d666a3fde220dcf59139f86/roles/wp-cli/tasks/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/3bc7d96ccc00f6a05d666a3fde220dcf59139f86/roles/wp-cli/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -5,8 +5,15 @@\n     dest: \"{{ wp_cli_bin_path }}\"\n     mode: 0755\n \n+- name: Retrieve WP-CLI tab completions\n+  command: curl -4Ls {{ wp_cli_completion_url }} -o /tmp/wp-completion-{{ wp_cli_version }}.bash\n+  args:\n+    creates: /tmp/wp-completion-{{ wp_cli_version }}.bash\n+    warn: false\n+\n - name: Install WP-CLI tab completions\n-  get_url:\n-    url: \"{{ wp_cli_completion_url }}\"\n-    dest: \"{{ wp_cli_completion_path }}\"\n-    mode: 0644\n+  command: rsync -c --chmod=0644 --info=name /tmp/wp-completion-{{ wp_cli_version }}.bash {{ wp_cli_completion_path }}\n+  args:\n+    warn: false\n+  register: wp_cli_completion\n+  changed_when: wp_cli_completion.stdout == \"wp-completion-{{ wp_cli_version }}.bash\""
            },
            {
                "sha": "7fb8e2df3c5d3c82a7ef1232ee4dc59df150cd5c",
                "filename": "roles/wp-cli/defaults/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 3,
                "changes": 7,
                "blob_url": "https://github.com/roots/trellis/blob/3bc7d96ccc00f6a05d666a3fde220dcf59139f86/roles/wp-cli/defaults/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/3bc7d96ccc00f6a05d666a3fde220dcf59139f86/roles/wp-cli/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,5 @@\n+wp_cli_version: 0.23.1\n wp_cli_bin_path: /usr/bin/wp\n-wp_cli_phar_url: \"https://github.com/wp-cli/wp-cli/releases/download/v0.23.1/wp-cli-0.23.1.phar\"\n-wp_cli_completion_url: \"https://raw.githubusercontent.com/wp-cli/wp-cli/master/utils/wp-completion.bash\"\n-wp_cli_completion_path: /etc/bash_completion.d\n+wp_cli_phar_url: \"https://github.com/wp-cli/wp-cli/releases/download/v{{ wp_cli_version }}/wp-cli-{{ wp_cli_version }}.phar\"\n+wp_cli_completion_url: \"https://raw.githubusercontent.com/wp-cli/wp-cli/v{{ wp_cli_version }}/utils/wp-completion.bash\"\n+wp_cli_completion_path: /etc/bash_completion.d/wp-completion.bash"
            }
        ]
    },
    {
        "repo": "openshift/openshift-ansible-contrib",
        "author_id": "MDQ6VXNlcjEwMjA0OTE=",
        "author_name": "Vinny Valdez",
        "committer_id": "MDQ6VXNlcjEwMjA0OTE=",
        "committer_name": "Vinny Valdez",
        "committer_email": "vvaldez@redhat.com",
        "message": "Fix malformed file to address Issue #210",
        "sha": "7032aee7df1c2c6e96795067285efa3b2a6de32e",
        "url": "https://api.github.com/repos/openshift/openshift-ansible-contrib/commits/7032aee7df1c2c6e96795067285efa3b2a6de32e",
        "parents": [
            "71325f59a06782a99f03696780a9681a3bc0827f"
        ],
        "files": [
            {
                "sha": "162eb980079a4fc95b19ec2ff3ef9ee17cab0769",
                "filename": "roles/docker/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/7032aee7df1c2c6e96795067285efa3b2a6de32e/roles/docker/tasks/main.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/7032aee7df1c2c6e96795067285efa3b2a6de32e/roles/docker/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -15,7 +15,7 @@\n   lineinfile:\n     dest: /etc/sysconfig/docker\n     regexp: '^OPTIONS=.*$'\n-    line: \"^OPTIONS='--selinux-enabled --insecure-registry 172.30.0.0/16'\"\n+    line: \"OPTIONS='--selinux-enabled --insecure-registry 172.30.0.0/16'\"\n \n - name: \"Check for existing Docker Storage device\"\n   command: pvs"
            }
        ]
    },
    {
        "repo": "sensu/sensu-ansible",
        "author_id": "MDQ6VXNlcjI3MzM3NQ==",
        "author_name": "Sergey Karatkevich",
        "committer_id": "MDQ6VXNlcjExOTAyNDc2",
        "committer_name": "Stephen Muth",
        "committer_email": "smuth4@users.noreply.github.com",
        "message": "fix for Issue 90 (#91)",
        "sha": "f635e4cb6aa1fb00663aa57a4f116b2b2c83b804",
        "url": "https://api.github.com/repos/sensu/sensu-ansible/commits/f635e4cb6aa1fb00663aa57a4f116b2b2c83b804",
        "parents": [
            "1bdaeb4774a30e08afcbeebb59e5cdfa97ba44a1"
        ],
        "files": [
            {
                "sha": "80530518d78fda5f7dc7bf4253ebcee9721fbc05",
                "filename": "tasks/Ubuntu/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/sensu/sensu-ansible/blob/f635e4cb6aa1fb00663aa57a4f116b2b2c83b804/tasks/Ubuntu/main.yml",
                "raw_url": "https://github.com/sensu/sensu-ansible/raw/f635e4cb6aa1fb00663aa57a4f116b2b2c83b804/tasks/Ubuntu/main.yml",
                "status": "modified",
                "patch": "@@ -4,6 +4,9 @@\n \n   - include_vars: \"{{ ansible_distribution }}.yml\"\n \n+  - name: Ensure that https transport is ready\n+    apt: name=apt-transport-https state=present\n+    \n   - name: Ensure the Sensu APT repo GPG key is present\n     apt_key:\n       url: https://sensu.global.ssl.fastly.net/apt/pubkey.gpg"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #48 and #49",
        "sha": "96adc61e360141bb718b75d48c387b3680a8471b",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/96adc61e360141bb718b75d48c387b3680a8471b",
        "parents": [
            "a8ade5b4788a5c3a0b5a65b2ca1845a65be8b451"
        ],
        "files": [
            {
                "sha": "d9768af55f5e2ee9b5c04a49aa4c247eab0dba00",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/96adc61e360141bb718b75d48c387b3680a8471b/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/96adc61e360141bb718b75d48c387b3680a8471b/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -67,3 +67,7 @@\n - name: Configure Docker\n   include_tasks: configure-docker.yml\n   tags: [\"configure\"]\n+\n+- name: Postinstall tasks\n+  include_tasks: postinstall.yml\n+  tags: [\"install\"]\n\\ No newline at end of file"
            }
        ]
    },
    {
        "repo": "weareinteractive/ansible-environment",
        "author_id": null,
        "author_name": "franklin",
        "committer_id": null,
        "committer_name": "franklin",
        "committer_email": "kevin@franklinkim.de",
        "message": "fix: update changed_when notation\n\nfixes #14\nfixes #12",
        "sha": "8d55e9c0420c92ed51f69a8a9e0162f3274bf53b",
        "url": "https://api.github.com/repos/weareinteractive/ansible-environment/commits/8d55e9c0420c92ed51f69a8a9e0162f3274bf53b",
        "parents": [
            "b2c11fef88421b5ce126e6eb9cd99f57cc401c02"
        ],
        "files": [
            {
                "sha": "ac2afc140ba95ef302f0119d402972ef5d82bb33",
                "filename": "tasks/config.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/weareinteractive/ansible-environment/blob/8d55e9c0420c92ed51f69a8a9e0162f3274bf53b/tasks/config.yml",
                "raw_url": "https://github.com/weareinteractive/ansible-environment/raw/8d55e9c0420c92ed51f69a8a9e0162f3274bf53b/tasks/config.yml",
                "status": "modified",
                "patch": "@@ -7,7 +7,7 @@\n     group: \"{{ environment_file_group }}\"\n     state: touch\n   register: environment_file_result\n-  changed_when: environment_file_result.diff.before.state != \"file\"\n+  changed_when: environment_file_result.state != \"file\"\n \n - name: Remove previous values\n   lineinfile:"
            }
        ]
    },
    {
        "repo": "nginxinc/ansible-role-nginx",
        "author_id": "MDQ6VXNlcjE0OTQ2NjM=",
        "author_name": "Thomas Boros",
        "committer_id": "MDQ6VXNlcjE1NjU0NTI1",
        "committer_name": "Alessandro Fael Garcia",
        "committer_email": "alessfg@hotmail.com",
        "message": "Fix module installation when with plus (#162)\n\n* Fixes module installation when nginx_delete_license is set to true with plus license",
        "sha": "af54ab1401717161aa37783bf2ed71f0d28d714d",
        "url": "https://api.github.com/repos/nginxinc/ansible-role-nginx/commits/af54ab1401717161aa37783bf2ed71f0d28d714d",
        "parents": [
            "c6c133674e6249e75f9a3b8026e5850b3625a0cd"
        ],
        "files": [
            {
                "sha": "c091124ca8862b9b641f15a95217f74c8df82158",
                "filename": "tasks/plus/install-plus.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 3,
                "changes": 3,
                "blob_url": "https://github.com/nginxinc/ansible-role-nginx/blob/af54ab1401717161aa37783bf2ed71f0d28d714d/tasks/plus/install-plus.yml",
                "raw_url": "https://github.com/nginxinc/ansible-role-nginx/raw/af54ab1401717161aa37783bf2ed71f0d28d714d/tasks/plus/install-plus.yml",
                "status": "modified",
                "patch": "@@ -21,6 +21,3 @@\n     name: nginx-plus\n     state: present\n   notify: \"(Handler: All OSs) Start NGINX\"\n-\n-- import_tasks: delete-license.yml\n-  when: nginx_delete_license | bool"
            },
            {
                "sha": "8d893f8fb22d99897c0c39927f45e45eccd29ae7",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/nginxinc/ansible-role-nginx/blob/af54ab1401717161aa37783bf2ed71f0d28d714d/tasks/main.yml",
                "raw_url": "https://github.com/nginxinc/ansible-role-nginx/raw/af54ab1401717161aa37783bf2ed71f0d28d714d/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -55,6 +55,9 @@\n     - import_tasks: conf/debug-output.yml\n       when: nginx_debug_output | bool\n \n+    - import_tasks: plus/delete-license.yml\n+      when: nginx_type == \"plus\" and nginx_delete_license\n+\n   when: nginx_enable | bool\n \n - import_tasks: amplify/install-amplify.yml"
            }
        ]
    },
    {
        "repo": "florianutz/Ubuntu1604-CIS",
        "author_id": "MDQ6VXNlcjM1ODc5MTM=",
        "author_name": "Scott Miller",
        "committer_id": "MDQ6VXNlcjEzNjgzNzQz",
        "committer_name": "Florian Utz",
        "committer_email": "florianutz@users.noreply.github.com",
        "message": "Fix ansible-lint errors (#36)\n\n* fix handler conditionals\r\n\r\n* fix section1 linter errors\r\n\r\n* fix section2 linter errors\r\n\r\n* fix section3 linter errors\r\n\r\n* fix section4 linter errors\r\n\r\n* fix section5 linter errors\r\n\r\n* fix section6 linter errors\r\n\r\n* fix linter errors\r\n\r\n* fix sed linter errors\r\n\r\n* fix pipefail\r\n\r\n* use literal `+` in lineinfile regex\r\n\r\n* use `not` rather than `!`",
        "sha": "96cda04d603c48eb1b631bde06f2bd0b59d9e746",
        "url": "https://api.github.com/repos/florianutz/Ubuntu1604-CIS/commits/96cda04d603c48eb1b631bde06f2bd0b59d9e746",
        "parents": [
            "8b12f248491aabc60c6c69ddedbfcfa6a7ae6edf"
        ],
        "files": [
            {
                "sha": "48b2e97f977afbecfb4014c489318a7de9cfe4bf",
                "filename": "tasks/section3.yml",
                "previous_filename": null,
                "additions": 38,
                "deletions": 16,
                "changes": 54,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/section3.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/section3.yml",
                "status": "modified",
                "patch": "@@ -6,7 +6,7 @@\n       state: present\n       reload: true\n       ignoreerrors: true\n-  when: ubuntu1604cis_is_router == false\n+  when: not ubuntu1604cis_is_router\n   notify:\n       - sysctl flush ipv4 route table\n   tags:\n@@ -27,7 +27,7 @@\n   with_items:\n       - { name: net.ipv4.conf.all.send_redirects, value: 0 }\n       - { name: net.ipv4.conf.default.send_redirects, value: 0 }\n-  when: ubuntu1604cis_is_router == false\n+  when: not ubuntu1604cis_is_router\n   notify:\n       - sysctl flush ipv4 route table\n   tags:\n@@ -196,7 +196,7 @@\n   with_items:\n       - { name: net.ipv6.conf.all.accept_ra, value: 0 }\n       - { name: net.ipv6.conf.default.accept_ra, value: 0 }\n-  when: ubuntu1604cis_ipv6_required == true\n+  when: ubuntu1604cis_ipv6_required\n   notify:\n       - sysctl flush ipv6 route table\n   tags:\n@@ -217,7 +217,7 @@\n   with_items:\n       - { name: net.ipv6.conf.all.accept_redirects, value: 0 }\n       - { name: net.ipv6.conf.default.accept_redirects, value: 0 }\n-  when: ubuntu1604cis_ipv6_required == true\n+  when: ubuntu1604cis_ipv6_required\n   notify:\n       - sysctl flush ipv6 route table\n   tags:\n@@ -233,7 +233,7 @@\n       regexp: \"^(#)?options ipv6 disable=\"\n       line: \"options ipv6 disable=1\"\n       create: true\n-  when: ubuntu1604cis_ipv6_required == false\n+  when: not ubuntu1604cis_ipv6_required\n   tags:\n       - level1\n       - notscored\n@@ -352,7 +352,9 @@\n       name: firewalld\n       state: present\n       install_recommends: false\n-  when: ubuntu1604cis_firewall == \"firewalld\" and ubuntu1604cis_setup_firewall\n+  when:\n+      - ubuntu1604cis_firewall == \"firewalld\"\n+      - ubuntu1604cis_setup_firewall\n   tags:\n       - level1\n       - scored\n@@ -364,7 +366,9 @@\n       name: firewalld\n       state: started\n       enabled: true\n-  when: ubuntu1604cis_firewall == \"firewalld\" and ubuntu1604cis_setup_firewall\n+  when:\n+      - ubuntu1604cis_firewall == \"firewalld\"\n+      - ubuntu1604cis_setup_firewall\n   tags:\n       - level1\n       - scored\n@@ -376,7 +380,9 @@\n       name: iptables\n       state: present\n       install_recommends: false\n-  when: ubuntu1604cis_firewall == \"iptables\" and ubuntu1604cis_setup_firewall\n+  when:\n+      - ubuntu1604cis_firewall == \"iptables\"\n+      - ubuntu1604cis_setup_firewall\n   tags:\n       - level1\n       - scored\n@@ -388,7 +394,9 @@\n       name: iptables\n       state: started\n       enabled: true\n-  when: ubuntu1604cis_firewall == \"iptables\" and ubuntu1604cis_setup_firewall\n+  when:\n+      - ubuntu1604cis_firewall == \"iptables\"\n+      - ubuntu1604cis_setup_firewall\n   tags:\n       - level1\n       - scored\n@@ -400,7 +408,9 @@\n       dest: /etc/firewalld/firewalld.conf\n       regexp: \"^DefaultZone\"\n       line: \"DefaultZone=drop\"\n-  when: ubuntu1604cis_firewall == \"firewalld\" and ubuntu1604cis_setup_firewall\n+  when:\n+      - ubuntu1604cis_firewall == \"firewalld\"\n+      - ubuntu1604cis_setup_firewall\n   tags:\n       - level1\n       - scored\n@@ -412,7 +422,9 @@\n       state: enabled\n       zone: drop\n       permanent: true\n-  when: ubuntu1604cis_firewall == \"firewalld\" and ubuntu1604cis_setup_firewall\n+  when:\n+      - ubuntu1604cis_firewall == \"firewalld\"\n+      - ubuntu1604cis_setup_firewall\n   tags:\n       - level1\n       - scored\n@@ -422,7 +434,9 @@\n - name: \"SCORED | 3.6.2 | PATCH | Ensure default deny firewall policy\"\n   command: /bin/true\n   changed_when: false\n-  when: ubuntu1604cis_firewall == \"iptables\" and ubuntu1604cis_setup_firewall\n+  when:\n+      - ubuntu1604cis_firewall == \"iptables\"\n+      - ubuntu1604cis_setup_firewall\n   tags:\n       - level1\n       - scored\n@@ -433,7 +447,9 @@\n - name: \"SCORED | 3.6.3 | PATCH | Ensure loopback traffic is configured\"\n   command: /bin/true\n   changed_when: false\n-  when: ubuntu1604cis_firewall == \"iptables\" and ubuntu1604cis_setup_firewall\n+  when:\n+      - ubuntu1604cis_firewall == \"iptables\"\n+      - ubuntu1604cis_setup_firewall\n   tags:\n       - level1\n       - scored\n@@ -444,7 +460,9 @@\n - name: \"NOTSCORED | 3.6.4 | PATCH | Ensure outbound and established connections are configured\"\n   command: /bin/true\n   changed_when: false\n-  when: ubuntu1604cis_firewall == \"iptables\" and ubuntu1604cis_setup_firewall\n+  when:\n+      - ubuntu1604cis_firewall == \"iptables\"\n+      - ubuntu1604cis_setup_firewall\n   tags:\n       - level1\n       - notscored\n@@ -459,7 +477,9 @@\n       zone: drop\n       permanent: true\n       immediate: true\n-  when: ubuntu1604cis_firewall == \"firewalld\" and ubuntu1604cis_setup_firewall\n+  when:\n+      - ubuntu1604cis_firewall == \"firewalld\"\n+      - ubuntu1604cis_setup_firewall\n   notify: restart firewalld\n   with_items: \"{{ ubuntu1604cis_firewall_services }}\"\n   tags:\n@@ -471,7 +491,9 @@\n - name: \"SCORED | 3.6.5 | PATCH | Ensure firewall rules exist for all open ports\"\n   command: /bin/true\n   changed_when: false\n-  when: ubuntu1604cis_firewall == \"iptables\" and ubuntu1604cis_setup_firewall\n+  when:\n+      - ubuntu1604cis_firewall == \"iptables\"\n+      - ubuntu1604cis_setup_firewall\n   tags:\n       - level1\n       - scored"
            },
            {
                "sha": "c7893d89ac78336888116f223b45c20367497b9d",
                "filename": "tasks/section4.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/section4.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/section4.yml",
                "status": "modified",
                "patch": "@@ -73,7 +73,7 @@\n       state: started\n       enabled: true\n   when:\n-      - ubuntu1604cis_skip_for_travis == false\n+      - not ubuntu1604cis_skip_for_travis\n       - ubuntu1604cis_rule_4_1_2\n   tags:\n       - level2"
            },
            {
                "sha": "dcac71744276c5002a8e861651429eef0456cd8c",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/96cda04d603c48eb1b631bde06f2bd0b59d9e746/meta/main.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/96cda04d603c48eb1b631bde06f2bd0b59d9e746/meta/main.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,6 @@\n ---\n galaxy_info:\n-  author: \"\"\n+  author: \"Florian Utz\"\n   description: \"Ansible role to apply Ubuntu 16.04 CIS Baseline\"\n   company:\n   license: MIT"
            },
            {
                "sha": "ccf5e2699c2588a29f482c60f6c3e1113a4df5a9",
                "filename": "tasks/post.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 1,
                "changes": 6,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/post.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/post.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,11 @@\n # Post tasks\n \n - name: \"POST | Find removed but configured apt packages\"\n-  shell: \"dpkg --list | grep ^rc | tr -s ' ' | cut -d ' ' -f 2\"\n+  shell: |\n+      set -o pipefail\n+      dpkg --list | grep ^rc | tr -s ' ' | cut -d ' ' -f 2\n+  args:\n+      executable: /bin/bash\n   register: apt_rc_packages\n   changed_when: false\n "
            },
            {
                "sha": "942bb4ecee90e9e547cded846bb8b7341d65ef71",
                "filename": "tasks/section1.yml",
                "previous_filename": null,
                "additions": 40,
                "deletions": 11,
                "changes": 51,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/section1.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/section1.yml",
                "status": "modified",
                "patch": "@@ -263,7 +263,7 @@\n       - systemd restart tmp.mount\n   when:\n       - ubuntu1604cis_rule_1_1_2\n-      - ubuntu1604cis_skip_for_travis == false\n+      - not ubuntu1604cis_skip_for_travis\n   tags:\n       - level2\n       - scored\n@@ -279,7 +279,7 @@\n       state: started\n   when:\n       - ubuntu1604cis_rule_1_1_2\n-      - ubuntu1604cis_skip_for_travis == false\n+      - not ubuntu1604cis_skip_for_travis\n   tags:\n       - level2\n       - scored\n@@ -311,7 +311,11 @@\n       - rule_1.1.4\n \n - name: \"SCORED | 1.1.5 | PATCH | Ensure separate partition exists for /var\"\n-  shell: mount | grep \"on /var \"\n+  shell: |\n+      set -o pipefail\n+      mount | grep \"on /var \"\n+  args:\n+      executable: /bin/bash\n   register: var_mounted\n   changed_when: false\n   failed_when: false\n@@ -325,7 +329,11 @@\n       - skip_ansible_lint\n \n - name: \"SCORED | 1.1.6 | PATCH | Ensure separate partition exists for /var/tmp\"\n-  shell: mount | grep \"on /var/tmp \"\n+  shell: |\n+      set -o pipefail\n+      mount | grep \"on /var/tmp \"\n+  args:\n+      executable: /bin/bash\n   register: var_tmp_mounted\n   changed_when: false\n   failed_when: false\n@@ -361,7 +369,11 @@\n       - rule_1.1.9\n \n - name: \"SCORED | 1.1.10 | PATCH | Ensure separate partition exists for /var/log\"\n-  shell: mount | grep \"on /var/log \"\n+  shell: |\n+      set -o pipefail\n+      mount | grep \"on /var/log \"\n+  args:\n+      executable: /bin/bash\n   register: var_log_mounted\n   changed_when: false\n   failed_when: false\n@@ -375,7 +387,11 @@\n       - skip_ansible_lint\n \n - name: \"SCORED | 1.1.11 | PATCH | Ensure separate partition exists for /var/log/audit\"\n-  shell: mount | grep \"on /var/log/audit \"\n+  shell: |\n+      set -o pipefail\n+      mount | grep \"on /var/log/audit \"\n+  args:\n+      executable: /bin/bash\n   register: var_log_audit_mounted\n   changed_when: false\n   failed_when: false\n@@ -389,7 +405,11 @@\n       - skip_ansible_lint\n \n - name: \"SCORED | 1.1.12 | PATCH | Ensure separate partition exists for /home\"\n-  shell: mount | grep \"on /home \"\n+  shell: |\n+      set -o pipefail\n+      mount | grep \"on /home \"\n+  args:\n+      executable: /bin/bash\n   register: home_mounted\n   changed_when: false\n   failed_when: false\n@@ -478,7 +498,11 @@\n       - notimplemented\n \n - name: \"SCORED | 1.1.20 | PATCH | Ensure sticky bit is set on all world-writable directories\"\n-  shell: df --local -P | awk {'if (NR!=1) print $6'} | xargs -I '{}' find '{}' -xdev -type d -perm -0002 2>/dev/null | xargs chmod a+t\n+  shell: |\n+      set -o pipefail\n+      df --local -P | awk {'if (NR!=1) print $6'} | xargs -I '{}' find '{}' -xdev -type d -perm -0002 2>/dev/null | xargs chmod a+t\n+  args:\n+      executable: /bin/bash\n   changed_when: false\n   failed_when: false\n   when:\n@@ -495,7 +519,8 @@\n       name: autofs\n       enabled: false\n   when:\n-      - ubuntu1604cis_allow_autofs == false and autofs_service_status.stdout == \"loaded\"\n+      - not ubuntu1604cis_allow_autofs\n+      - autofs_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_1_1_21\n   tags:\n       - level1\n@@ -586,7 +611,7 @@\n       owner: root\n       group: root\n       mode: 0600\n-  when: \n+  when:\n       - ansible_os_family == \"Debian\"\n       - ubuntu1604cis_rule_1_4_1\n   tags:\n@@ -657,7 +682,11 @@\n       - rule_1.5.1\n \n - name: \"NOTSCORED | 1.5.2 | PATCH | Ensure XD/NX support is enabled\"\n-  shell: dmesg | grep -E \"NX|XD\" | grep \" active\"\n+  shell: |\n+      set -o pipefail\n+      dmesg | grep -E \"NX|XD\" | grep \" active\"\n+  args:\n+      executable: /bin/bash\n   changed_when: false\n   when:\n       - ubuntu1604cis_rule_1_5_2"
            },
            {
                "sha": "9a65fcb620dda85da0a675ce199480146c041c0e",
                "filename": "tasks/prelim.yml",
                "previous_filename": null,
                "additions": 112,
                "deletions": 28,
                "changes": 140,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/prelim.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/prelim.yml",
                "status": "modified",
                "patch": "@@ -8,13 +8,19 @@\n   check_mode: false\n \n - name: \"PRELIM | Gather accounts with empty password fields\"\n-  shell: \"cat /etc/shadow | awk -F: '($2 == \\\"\\\" ) {j++;print $1; } END {exit j}'\"\n+  shell: \"set -o pipefail\n+      cat /etc/shadow | awk -F: '($2 == \\\"\\\" ) {j++;print $1; } END {exit j}'\"\n+  args:\n+      executable: /bin/bash\n   register: empty_password_accounts\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Gather UID 0 accounts other than root\"\n-  shell: \"cat /etc/passwd | awk -F: '($3 == 0 && $1 != \\\"root\\\") {i++;print $1 } END {exit i}'\"\n+  shell: \"set -o pipefail\n+      cat /etc/passwd | awk -F: '($3 == 0 && $1 != \\\"root\\\") {i++;print $1 } END {exit i}'\"\n+  args:\n+      executable: /bin/bash\n   register: uid_zero_accounts_except_root\n   changed_when: false\n   check_mode: false\n@@ -56,157 +62,235 @@\n \n # Individual service checks\n - name: \"PRELIM | Check for xinetd service\"\n-  shell: \"systemctl show xinetd | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show xinetd | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: xinetd_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for ntpd service\"\n-  shell: \"systemctl show {{ ntp_service[ansible_os_family] }} | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show {{ ntp_service[ansible_os_family] }} | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: ntpd_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for chronyd service\"\n-  shell: \"systemctl show {{ chrony_service[ansible_os_family] }} | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show {{ chrony_service[ansible_os_family] }} | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: chronyd_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for avahi-daemon service\"\n-  shell: \"systemctl show avahi-daemon | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show avahi-daemon | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: avahi_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for cups service\"\n-  shell: \"systemctl show cups | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show cups | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: cups_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for dhcpd service\"\n-  shell: \"systemctl show dhcpd | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show dhcpd | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: dhcpd_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for slapd service\"\n-  shell: \"systemctl show slapd | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show slapd | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: slapd_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for nfs service\"\n-  shell: \"systemctl show nfs | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show nfs | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: nfs_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for rpcbind service\"\n-  shell: \"systemctl show rpcbind | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show rpcbind | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: rpcbind_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for named service\"\n-  shell: \"systemctl show named | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show named | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: named_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for vsftpd service\"\n-  shell: \"systemctl show vsftpd | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show vsftpd | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: vsftpd_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for httpd service\"\n-  shell: \"systemctl show httpd | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show httpd | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: httpd_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for dovecot service\"\n-  shell: \"systemctl show dovecot | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show dovecot | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: dovecot_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for smb service\"\n-  shell: \"systemctl show smb | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show smb | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: smb_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for squid service\"\n-  shell: \"systemctl show squid | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show squid | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: squid_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for snmpd service\"\n-  shell: \"systemctl show snmpd | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show snmpd | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: snmpd_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for ypserv service\"\n-  shell: \"systemctl show ypserv | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show ypserv | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: ypserv_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for rsh.socket service\"\n-  shell: \"systemctl show rsh.socket | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show rsh.socket | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: rsh_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for rlogin.socket service\"\n-  shell: \"systemctl show rlogin.socket | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show rlogin.socket | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: rlogin_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for rexec.socket service\"\n-  shell: \"systemctl show rexec.socket | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show rexec.socket | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: rexec_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for telnet service\"\n-  shell: \"systemctl show telnet | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show telnet | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: telnet_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for tftp service\"\n-  shell: \"systemctl show tftp | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show tftp | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: tftp_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for rsyncd service\"\n-  shell: \"systemctl show rsyncd | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show rsyncd | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: rsyncd_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for ntalk service\"\n-  shell: \"systemctl show ntalk | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show ntalk | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: ntalk_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for autofs service\"\n-  shell: \"systemctl show autofs | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show autofs | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: autofs_service_status\n   changed_when: false\n   check_mode: false\n \n - name: \"PRELIM | Check for rhnsd service\"\n-  shell: \"systemctl show rhnsd | grep LoadState | cut -d = -f 2\"\n+  shell: \"set -o pipefail\n+      systemctl show rhnsd | grep LoadState | cut -d = -f 2\"\n+  args:\n+      executable: /bin/bash\n   register: rhnsd_service_status\n   changed_when: false\n   check_mode: false"
            },
            {
                "sha": "2bd4f3a072aeee3a057e5774cf05c28458f93708",
                "filename": "tasks/section6.yml",
                "previous_filename": null,
                "additions": 14,
                "deletions": 10,
                "changes": 24,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/section6.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/section6.yml",
                "status": "modified",
                "patch": "@@ -198,9 +198,10 @@\n       - rule_6.2.1\n \n - name: \"SCORED | 6.2.2 | PATCH | Ensure no legacy '+' entries exist in /etc/passwd\"\n-  command: sed -i '/^+/ d' /etc/passwd\n-  changed_when: false\n-  failed_when: false\n+  lineinfile:\n+      regexp: '^\\+'\n+      state: absent\n+      path: /etc/passwd\n   when:\n       - ubuntu1604cis_rule_6_2_2\n   tags:\n@@ -210,9 +211,10 @@\n       - rule_6.2.2\n \n - name: \"SCORED | 6.2.3 | PATCH | Ensure no legacy '+' entries exist in /etc/shadow\"\n-  command: sed -i '/^+/ d' /etc/shadow\n-  changed_when: false\n-  failed_when: false\n+  lineinfile:\n+      regexp: '^\\+'\n+      state: absent\n+      path: /etc/shadow\n   when:\n       - ubuntu1604cis_rule_6_2_3\n   tags:\n@@ -222,9 +224,10 @@\n       - rule_6.2.3\n \n - name: \"SCORED | 6.2.4 | PATCH | Ensure no legacy '+' entries exist in /etc/group\"\n-  command: sed -i '/^+/ d' /etc/group\n-  changed_when: false\n-  failed_when: false\n+  lineinfile:\n+      regexp: '^\\+'\n+      state: absent\n+      path: /etc/group\n   when:\n       - ubuntu1604cis_rule_6_2_4\n   tags:\n@@ -261,6 +264,7 @@\n \n - name: \"SCORED | 6.2.6 | PATCH | Ensure root PATH Integrity\"\n   shell: |\n+    set -o pipefail\n     sudopath=($(grep secure_path /etc/sudoers | cut -f2 -d= |cut -f2 -d\\\"))\n     IFS=:\n     for i in ${sudopath[*]}\n@@ -290,7 +294,7 @@\n       line: '\\1\"{{ fixsudo.stdout_lines[0] }}\"'\n       backrefs: true\n   when:\n-      - fixsudo.stdout_lines[0] != \"\"\n+      - fixsudo.stdout_lines[0]\n   tags:\n       - level1\n       - scored"
            },
            {
                "sha": "7c5d9eb5926e81c1472419312aead5bc3b54a91e",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/96cda04d603c48eb1b631bde06f2bd0b59d9e746/handlers/main.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/96cda04d603c48eb1b631bde06f2bd0b59d9e746/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -68,14 +68,14 @@\n       name: auditd\n       state: restarted\n   when:\n-      - ubuntu1604cis_skip_for_travis == false\n+      - not ubuntu1604cis_skip_for_travis\n   tags:\n       - skip_ansible_lint\n \n - name: load audit rules\n   become: true\n   command: /sbin/augenrules --load\n   when:\n-      - ubuntu1604cis_skip_for_travis == false\n+      - not ubuntu1604cis_skip_for_travis\n   tags:\n       - skip_ansible_lint"
            },
            {
                "sha": "c393dfc5fdbcaaf138ea7bd8597a11646d28d2c7",
                "filename": "tasks/section2.yml",
                "previous_filename": null,
                "additions": 69,
                "deletions": 41,
                "changes": 110,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/section2.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/section2.yml",
                "status": "modified",
                "patch": "@@ -7,7 +7,9 @@\n         register: chargen_dgram_service\n \n       - name: \"SCORED | 2.1.1 | PATCH | Ensure chargen services are not enabled | chargen-dgram\"\n-        command: chkconfig chargen-dgram off\n+        service:\n+            name: chargen-dgram\n+            enabled: no\n         notify: restart xinetd\n         when:\n             - chargen_dgram_service.stat.exists\n@@ -18,7 +20,9 @@\n         register: chargen_stream_service\n \n       - name: \"SCORED | 2.1.1 | PATCH | Ensure chargen services are not enabled | chargen-stream\"\n-        command: chkconfig chargen-stream off\n+        service:\n+            name: chargen-stream\n+            enabled: no\n         notify: restart xinetd\n         when:\n             - chargen_stream_service.stat.exists\n@@ -40,7 +44,9 @@\n         register: daytime_dgram_service\n \n       - name: \"SCORED | 2.1.2 | PATCH | Ensure daytime services are not enabled | daytime-dgram\"\n-        command: chkconfig daytime-dgram off\n+        service:\n+            name: daytime-dgram\n+            enabled: no\n         notify: restart xinetd\n         when:\n             - daytime_dgram_service.stat.exists\n@@ -51,7 +57,9 @@\n         register: daytime_stream_service\n \n       - name: \"SCORED | 2.1.2 | PATCH | Ensure daytime services are not enabled | daytime-stream\"\n-        command: chkconfig daytime-stream off\n+        service:\n+            name: daytime-stream\n+            enabled: no\n         notify: restart xinetd\n         when:\n             - daytime_stream_service.stat.exists\n@@ -72,7 +80,9 @@\n         register: discard_dgram_service\n \n       - name: \"SCORED | 2.1.3 | PATCH | Ensure discard services are not enabled | discard-dgram\"\n-        command: chkconfig discard-dgram off\n+        service:\n+            name: discard-dgram\n+            enabled: no\n         notify: restart xinetd\n         when:\n             - discard_dgram_service.stat.exists\n@@ -83,7 +93,9 @@\n         register: discard_stream_service\n \n       - name: \"SCORED | 2.1.3 | PATCH | Ensure discard services are not enabled | discard-stream\"\n-        command: chkconfig discard-stream off\n+        service:\n+            name: discard-stream\n+            enabled: no\n         notify: restart xinetd\n         when:\n             - discard_stream_service.stat.exists\n@@ -104,7 +116,9 @@\n         register: echo_dgram_service\n \n       - name: \"SCORED | 2.1.4 | PATCH | Ensure echo services are not enabled | echo-dgram\"\n-        command: chkconfig echo-dgram off\n+        service:\n+            name: echo-dgram\n+            enabled: no\n         notify: restart xinetd\n         when:\n             - echo_dgram_service.stat.exists\n@@ -115,7 +129,9 @@\n         register: echo_stream_service\n \n       - name: \"SCORED | 2.1.4 | PATCH | Ensure echo services are not enabled | echo-stream\"\n-        command: chkconfig echo-stream off\n+        service:\n+            name: echo-stream\n+            enabled: no\n         notify: restart xinetd\n         when:\n             - echo_stream_service.stat.exists\n@@ -136,7 +152,9 @@\n         register: time_dgram_service\n \n       - name: \"SCORED | 2.1.5 | PATCH | Ensure time services are not enabled | time-dgram\"\n-        command: chkconfig time-dgram off\n+        service:\n+            name: time-dgram\n+            enabled: no\n         notify: restart xinetd\n         when:\n             - time_dgram_service.stat.exists\n@@ -147,7 +165,9 @@\n         register: time_stream_service\n \n       - name: \"SCORED | 2.1.5 | PATCH | Ensure time services are not enabled | time-stream\"\n-        command: chkconfig time-stream off\n+        service:\n+            name: time-stream\n+            enabled: no\n         notify: restart xinetd\n         when:\n             - time_stream_service.stat.exists\n@@ -168,11 +188,13 @@\n         register: tftp_service\n \n       - name: \"SCORED | 2.1.6 | PATCH | Ensure tftp server is not enabled\"\n-        command: chkconfig tftp off\n+        service:\n+            name: tftp\n+            enabled: no\n         notify: restart xinetd\n         when:\n             - tftp_service.stat.exists\n-            - ubuntu1604cis_tftp_server == false\n+            - not ubuntu1604cis_tftp_server\n         tags:\n             - skip_ansible_lint\n   when:\n@@ -303,13 +325,13 @@\n \n - name: \"SCORED | 2.2.2 | PATCH | Ensure X Window System is not installed\"\n   apt:\n-      name: \"{{item}}\"\n+      name: \"{{ item }}\"\n       state: absent\n   with_items:\n       - \"@X Window System\"\n       - \"x11*\"\n   when:\n-      - ubuntu1604cis_xwindows_required == false\n+      - not ubuntu1604cis_xwindows_required\n       - ubuntu1604cis_rule_2_2_2\n   tags:\n       - level1\n@@ -324,7 +346,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_avahi_server == false\n+      - not ubuntu1604cis_avahi_server\n       - avahi_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_3\n   tags:\n@@ -341,7 +363,8 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_cups_server == false and cups_service_status.stdout == \"loaded\"\n+      - not ubuntu1604cis_cups_server\n+      - cups_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_4\n   tags:\n       - level1\n@@ -357,7 +380,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_dhcp_server == false\n+      - not ubuntu1604cis_dhcp_server\n       - dhcpd_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_5\n   tags:\n@@ -374,7 +397,8 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_ldap_server == false and slapd_service_status.stdout == \"loaded\"\n+      - not ubuntu1604cis_ldap_server\n+      - slapd_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_6\n   tags:\n       - level1\n@@ -390,7 +414,8 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_nfs_rpc_server == false and nfs_service_status.stdout == \"loaded\"\n+      - not ubuntu1604cis_nfs_rpc_server\n+      - nfs_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_7\n   tags:\n       - level1\n@@ -407,7 +432,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_nfs_rpc_server == false\n+      - not ubuntu1604cis_nfs_rpc_server\n       - rpcbind_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_7\n   tags:\n@@ -425,7 +450,8 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_named_server == false and named_service_status.stdout == \"loaded\"\n+      - not ubuntu1604cis_named_server\n+      - named_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_8\n   tags:\n       - level1\n@@ -439,7 +465,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_vsftpd_server == false\n+      - not ubuntu1604cis_vsftpd_server\n       - vsftpd_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_9\n   tags:\n@@ -454,7 +480,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_httpd_server == false\n+      - not ubuntu1604cis_httpd_server\n       - httpd_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_10\n   tags:\n@@ -469,7 +495,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_dovecot_server == false\n+      - not ubuntu1604cis_dovecot_server\n       - dovecot_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_11\n   tags:\n@@ -484,7 +510,8 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_smb_server == false and smb_service_status.stdout == \"loaded\"\n+      - not ubuntu1604cis_smb_server\n+      - smb_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_12\n   tags:\n       - level1\n@@ -498,7 +525,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_squid_server == false\n+      - not ubuntu1604cis_squid_server\n       - squid_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_13\n   tags:\n@@ -513,7 +540,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_snmp_server == false\n+      - not ubuntu1604cis_snmp_server\n       - snmpd_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_14\n   tags:\n@@ -528,7 +555,7 @@\n       regexp: \"^(#)?inet_interfaces\"\n       line: \"inet_interfaces = localhost\"\n   when:\n-      - ubuntu1604cis_is_mail_server == false\n+      - not ubuntu1604cis_is_mail_server\n       - postfix_installed.rc == 0\n       - ubuntu1604cis_rule_2_2_15\n   tags:\n@@ -543,7 +570,8 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_nis_server == false and ypserv_service_status.stdout == \"loaded\"\n+      - not ubuntu1604cis_nis_server\n+      - ypserv_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_16\n   tags:\n       - level1\n@@ -557,7 +585,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_rsh_server == false\n+      - not ubuntu1604cis_rsh_server\n       - rsh_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_17\n   tags:\n@@ -572,7 +600,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_rsh_server == false\n+      - not ubuntu1604cis_rsh_server\n       - rlogin_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_17\n   tags:\n@@ -587,7 +615,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_rsh_server == false\n+      - not ubuntu1604cis_rsh_server\n       - rexec_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_17\n   tags:\n@@ -602,7 +630,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_telnet_server == false\n+      - not ubuntu1604cis_telnet_server\n       - telnet_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_18\n   tags:\n@@ -617,7 +645,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_tftp_server == false\n+      - not ubuntu1604cis_tftp_server\n       - tftp_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_19\n   tags:\n@@ -635,7 +663,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_rsyncd_server == false\n+      - not ubuntu1604cis_rsyncd_server\n       - rsyncd_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_20\n   tags:\n@@ -650,7 +678,7 @@\n       state: stopped\n       enabled: false\n   when:\n-      - ubuntu1604cis_ntalk_server == false\n+      - not ubuntu1604cis_ntalk_server\n       - ntalk_service_status.stdout == \"loaded\"\n       - ubuntu1604cis_rule_2_2_21\n   tags:\n@@ -664,7 +692,7 @@\n       name: ypbind\n       state: absent\n   when:\n-      - ubuntu1604cis_ypbind_required == false\n+      - not ubuntu1604cis_ypbind_required\n       - ubuntu1604cis_rule_2_3_1\n   tags:\n       - level1\n@@ -677,7 +705,7 @@\n       name: rsh\n       state: absent\n   when:\n-      - ubuntu1604cis_rsh_required == false\n+      - not ubuntu1604cis_rsh_required\n       - ubuntu1604cis_rule_2_3_2\n   tags:\n       - level1\n@@ -690,7 +718,7 @@\n       name: talk\n       state: absent\n   when:\n-      - ubuntu1604cis_talk_required == false\n+      - not ubuntu1604cis_talk_required\n       - ubuntu1604cis_rule_2_3_3\n   tags:\n       - level1\n@@ -703,7 +731,7 @@\n       name: telnet\n       state: absent\n   when:\n-      - ubuntu1604cis_telnet_required == false\n+      - not ubuntu1604cis_telnet_required\n       - ubuntu1604cis_rule_2_3_4\n   tags:\n       - level1\n@@ -716,7 +744,7 @@\n       name: openldap-clients\n       state: absent\n   when:\n-      - ubuntu1604cis_openldap_clients_required == false\n+      - not ubuntu1604cis_openldap_clients_required\n       - ubuntu1604cis_rule_2_3_5\n   tags:\n       - level1"
            },
            {
                "sha": "c20a3f8795e85542472995fea4a69021b3e13e33",
                "filename": "tasks/section5.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 6,
                "changes": 12,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/section5.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/96cda04d603c48eb1b631bde06f2bd0b59d9e746/tasks/section5.yml",
                "status": "modified",
                "patch": "@@ -122,7 +122,7 @@\n       - name: \"SCORED | 5.1.8 | PATCH | Ensure at/cron is restricted to authorized users\"\n         file:\n             dest: /etc/at.allow\n-            state: '{{ \"file\" if  at_allow.stat.exists else \"touch\"}}'\n+            state: '{{ \"file\" if  at_allow.stat.exists else \"touch\" }}'\n             owner: root\n             group: root\n             mode: 0600\n@@ -140,7 +140,7 @@\n       - name: \"SCORED | 5.1.8 | PATCH | Ensure at/cron is restricted to authorized users\"\n         file:\n             dest: /etc/cron.allow\n-            state: '{{ \"file\" if  cron_allow.stat.exists else \"touch\"}}'\n+            state: '{{ \"file\" if  cron_allow.stat.exists else \"touch\" }}'\n             owner: root\n             group: root\n             mode: 0600\n@@ -369,7 +369,7 @@\n         notify:\n             - restart sshd\n         when:\n-            - \"ubuntu1604cis_sshd['allowusers']|default('') != ''\"\n+            - \"ubuntu1604cis_sshd['allowusers']|default('')\"\n \n       - name: \"SCORED | 5.2.14 | PATCH | Ensure SSH access is limited - allowgroups\"\n         lineinfile:\n@@ -380,7 +380,7 @@\n         notify:\n             - restart sshd\n         when:\n-            - \"ubuntu1604cis_sshd['allowgroups']|default('') != ''\"\n+            - \"ubuntu1604cis_sshd['allowgroups']|default('')\"\n \n       - name: \"SCORED | 5.2.14 | PATCH | Ensure SSH access is limited - denyusers\"\n         lineinfile:\n@@ -391,7 +391,7 @@\n         notify:\n             - restart sshd\n         when:\n-            - \"ubuntu1604cis_sshd['denyusers']|default('') != ''\"\n+            - \"ubuntu1604cis_sshd['denyusers']|default('')\"\n \n       - name: \"SCORED | 5.2.14 | PATCH | Ensure SSH access is limited - denygroups\"\n         lineinfile:\n@@ -402,7 +402,7 @@\n         notify:\n             - restart sshd\n         when:\n-            - \"ubuntu1604cis_sshd['denygroups']|default('') != ''\"\n+            - \"ubuntu1604cis_sshd['denygroups']|default('')\"\n   when:\n       - ubuntu1604cis_rule_5_2_14\n   tags:"
            }
        ]
    },
    {
        "repo": "brianshumate/ansible-consul",
        "author_id": "MDQ6VXNlcjc3NTYz",
        "author_name": "Brian Shumate",
        "committer_id": "MDQ6VXNlcjc3NTYz",
        "committer_name": "Brian Shumate",
        "committer_email": "brian@brianshumate.com",
        "message": "Fix links and lower Debian, fixes #63 fixes #64",
        "sha": "589eabd2deead42e14966eb4aa7f9b20e2a9efde",
        "url": "https://api.github.com/repos/brianshumate/ansible-consul/commits/589eabd2deead42e14966eb4aa7f9b20e2a9efde",
        "parents": [
            "e37580d4f68ca3a8c5acaaef3fafad034bc499c3"
        ],
        "files": [
            {
                "sha": "c99403370bc7068e668309c699a6fcd9bfb33f05",
                "filename": "tasks/asserts.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/brianshumate/ansible-consul/blob/589eabd2deead42e14966eb4aa7f9b20e2a9efde/tasks/asserts.yml",
                "raw_url": "https://github.com/brianshumate/ansible-consul/raw/589eabd2deead42e14966eb4aa7f9b20e2a9efde/tasks/asserts.yml",
                "status": "modified",
                "patch": "@@ -18,7 +18,7 @@\n     msg: \"{{ ansible_distribution_version }} is not a supported version.\"\n   when:\n     - ansible_distribution == \"Debian\"\n-    - ansible_distribution_version|version_compare(8.5, '<')\n+    - ansible_distribution_version|version_compare(8, '<')\n \n - name: Check FreeBSD version\n   fail:"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-golang",
        "author_id": null,
        "author_name": "Karl Hepworth",
        "committer_id": null,
        "committer_name": "Karl Hepworth",
        "committer_email": "Karl.Hepworth@education.gov.au",
        "message": "Fixes #71",
        "sha": "9d83a13e077c47165a751bbf421783ad9885617b",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-golang/commits/9d83a13e077c47165a751bbf421783ad9885617b",
        "parents": [
            "f83d9f4754bb5e2d062924633bb441c6d2216b2d"
        ],
        "files": [
            {
                "sha": "4203701889ac39bd378c06c3a7d80d80dabe12bd",
                "filename": "tasks/install.yml",
                "previous_filename": null,
                "additions": 11,
                "deletions": 8,
                "changes": 19,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/9d83a13e077c47165a751bbf421783ad9885617b/tasks/install.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/9d83a13e077c47165a751bbf421783ad9885617b/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -17,22 +17,25 @@\n - name: \"Go-Lang | Include bootstrap tasks\"\n   include: install-bootstrap.yml\n   when:\n-    - install_go_bootstrap|bool == true\n-    - go_binary_bootstrap.stat.exists|bool == false\n-    - GOROOT_BOOTSTRAP is defined\n-    - expected_go_version_output|string not in current_go_version.stdout|default('')\n+    (install_go_bootstrap|bool == true) and\n+    ((go_binary_bootstrap.stat.exists|bool == false) or\n+    (expected_go_version_output|string not in current_go_version.stdout|default('')) or\n+    (go_install_clean|bool == true)) and\n+    (GOROOT_BOOTSTRAP is defined)\n \n - name: \"Go-Lang | Include source build tasks\"\n   include: install-git.yml\n   when:\n-    - build_go_from_source|bool == true\n-    - expected_go_version_output|string not in current_go_version.stdout|default('')\n+    (build_go_from_source|bool == true) and\n+    ((expected_go_version_output|string not in current_go_version.stdout|default('')) or\n+    (go_install_clean|bool == true))\n \n - name: \"Go-Lang | Include distro install tasks\"\n   include: install-distro.yml\n   when:\n-    - build_go_from_source|bool == false\n-    - expected_go_version_output|string not in current_go_version.stdout|default('')\n+    (build_go_from_source|bool == false) and\n+    ((expected_go_version_output|string not in current_go_version.stdout|default('')) or\n+    (go_install_clean|bool == true))\n \n - name: \"Go-Lang | Detect configured shell profiles\"\n   stat:"
            },
            {
                "sha": "82f5805d223a0bddd73ccf1baaf93568eb5f6f35",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/9d83a13e077c47165a751bbf421783ad9885617b/tasks/main.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/9d83a13e077c47165a751bbf421783ad9885617b/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -11,7 +11,8 @@\n - name: \"Include tasks for installation\"\n   include: install.yml\n   when: (current_go_version is not defined) or\n-        (expected_go_version_output|string not in current_go_version.stdout|default(''))\n+        (expected_go_version_output|string not in current_go_version.stdout|default('')) or\n+        (go_install_clean|bool == true)\n \n - name: \"Include tasks for Go Get\"\n   include: go-get.yml"
            }
        ]
    },
    {
        "repo": "CSCfi/fgci-ansible",
        "author_id": null,
        "author_name": "Lu\u00eds Alves",
        "committer_id": null,
        "committer_name": "Lu\u00eds Alves",
        "committer_email": "luis.alves@csc.fi",
        "message": "Close #86\n\n- ip_forwarder will fail if NetworkManager isn't installed. Adding a check.",
        "sha": "04537e4238f2b7dc7f17f3bfe2b87c76430abe52",
        "url": "https://api.github.com/repos/fgci-org/fgci-ansible/commits/04537e4238f2b7dc7f17f3bfe2b87c76430abe52",
        "parents": [
            "a20ca874079c8f41bca042c1015f86d3a530abf0"
        ],
        "files": [
            {
                "sha": "699cc31709f2e53cc87b181ee6736521b074c16c",
                "filename": "roles/ip_forwarder/tasks/main.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/fgci-org/fgci-ansible/blob/04537e4238f2b7dc7f17f3bfe2b87c76430abe52/roles/ip_forwarder/tasks/main.yml",
                "raw_url": "https://github.com/fgci-org/fgci-ansible/raw/04537e4238f2b7dc7f17f3bfe2b87c76430abe52/roles/ip_forwarder/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -36,5 +36,10 @@\n   when: dhcpclient.stdout != \"\"\n   ignore_errors: true\n \n+- name: Check if NetworkManager is installed\n+  stat: path=/usr/lib/systemd/system/NetworkManager.service\n+  register: nm\n+\n - name: Disabling and stoping NetworkManager\n   service: name=NetworkManager enabled=no state=stopped\n+  when: nm.stat.exists"
            }
        ]
    },
    {
        "repo": "florianutz/Ubuntu1604-CIS",
        "author_id": null,
        "author_name": "Florian Utz",
        "committer_id": null,
        "committer_name": "Florian Utz",
        "committer_email": "florian.utz@github.com",
        "message": "fixed duplicate task 4.1.13  #2",
        "sha": "86655eaf1b83c1c0bc5b859e33db155fb3f5230d",
        "url": "https://api.github.com/repos/florianutz/Ubuntu1604-CIS/commits/86655eaf1b83c1c0bc5b859e33db155fb3f5230d",
        "parents": [
            "c6daa6018a218b51f60873f452dcbae6e67f75cc"
        ],
        "files": [
            {
                "sha": "b75d3e8254ad2f4529868c0e9e04c20dcc78187b",
                "filename": "tasks/section4.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 11,
                "changes": 11,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/86655eaf1b83c1c0bc5b859e33db155fb3f5230d/tasks/section4.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/86655eaf1b83c1c0bc5b859e33db155fb3f5230d/tasks/section4.yml",
                "status": "modified",
                "patch": "@@ -150,17 +150,6 @@\n       - rule_4.1.12\n       - notimplemented\n \n-- name: \"SCORED | 4.1.13 | PATCH | Ensure successful file system mounts are collected\"\n-  lineinfile:\n-      dest: /etc/audit/rules.d/audit.rules\n-      line: \"-a always,exit -F arch=b64 -S mount -F auid>=1000 -F auid!=4294967295 -k mounts\"\n-      state: present\n-  tags:\n-      - level2\n-      - auditd\n-      - patch\n-      - rule_4.1.13\n-\n - name: \"SCORED | 4.1.13 | PATCH | Ensure successful file system mounts are collected\"\n   lineinfile:\n       dest: /etc/audit/audit.rules"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #44",
        "sha": "561013b2ca04671cf43aef35e20fcb633fe56c0e",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/561013b2ca04671cf43aef35e20fcb633fe56c0e",
        "parents": [
            "6fe5be0e3e0aa762221af0cc581db1afd3e5f6d0"
        ],
        "files": [
            {
                "sha": "585bb7651d0d95602288230fc358f80f250641c5",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 3,
                "changes": 5,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/561013b2ca04671cf43aef35e20fcb633fe56c0e/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/561013b2ca04671cf43aef35e20fcb633fe56c0e/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -33,11 +33,10 @@\n - include_tasks: setup-audit.yml\n   tags: [\"configure\"]\n \n-- include_tasks: configure-drop-ins.yml\n+- include_tasks: bug-tweaks.yml\n   tags: [\"configure\"]\n \n-- include_tasks: kernel-3-mount-fixes.yml\n-  when: ansible_kernel | version_compare('4', '<')\n+- include_tasks: configure-drop-ins.yml\n   tags: [\"configure\"]\n \n - include_tasks: configure-docker.yml"
            },
            {
                "sha": "1b4a90a3adfab74e67cbe2365d906a2e014dbabb",
                "filename": "tasks/configure-drop-ins.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 3,
                "changes": 12,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/561013b2ca04671cf43aef35e20fcb633fe56c0e/tasks/configure-drop-ins.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/561013b2ca04671cf43aef35e20fcb633fe56c0e/tasks/configure-drop-ins.yml",
                "status": "modified",
                "patch": "@@ -1,3 +1,7 @@\n+- name: Combine all systemd service configuration options\n+  set_fact:\n+    _systemd_service_config: \"{{ docker_systemd_service_config_tweaks + docker_systemd_service_config }}\"\n+\n - name: Ensure /etc/systemd/system/docker.service.d directory exists\n   file:\n     path: /etc/systemd/system/docker.service.d\n@@ -10,21 +14,23 @@\n     src: drop-ins/default.conf.j2\n     dest: /etc/systemd/system/docker.service.d/default.conf\n   become: yes\n-  register: systemd_docker_dropin\n+  register: _systemd_docker_dropin\n   vars:\n     systemd_envs_dir: \"{{ docker_systemd_envs_dir[_docker_os_dist] }}\"\n+    systemd_service_conf: \"{{ _systemd_service_config }}\"\n \n - name: Setup Docker environment file {{ docker_systemd_envs_dir[_docker_os_dist] }}/docker-envs\n   template:\n     src: docker-envs.j2\n     dest: \"{{ docker_systemd_envs_dir[_docker_os_dist] }}/docker-envs\"\n   become: yes\n-  register: systemd_docker_env\n+  notify: restart docker\n   vars:\n     docker_opts: \"{{ docker_daemon_opts }}\"\n \n - name: Force daemon reload of systemd\n   systemd: \n     daemon_reload: yes\n   become: yes\n-  when: systemd_docker_dropin|changed or systemd_docker_env|changed\n\\ No newline at end of file\n+  notify: restart docker\n+  when: _systemd_docker_dropin|changed\n\\ No newline at end of file"
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjEwODA5NDI4",
        "author_name": "Jorge Tudela",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "Fix with_sequence in create_users role. (#349)\n\n*with_sequence* does not support dictionary format in recent versions of Ansible. I know, it looks horrible.\r\n\r\nOtherwise the task fails with this error message:\r\n```\r\n\"msg\": \"unrecognized arguments to with_sequence: [u'_raw_params']\"\r\n}\r\n```\r\n\r\nRelated issues:\r\nhttps://github.com/ansible/ansible/issues/22988\r\nhttps://github.com/openshift/openshift-ansible/pull/10056/files\r\n\r\nIt is documented this way:\r\nhttps://docs.ansible.com/ansible/2.5/plugins/lookup/sequence.html",
        "sha": "07adf92d5863dae7695849b5bb910ad59c6cf3bc",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/07adf92d5863dae7695849b5bb910ad59c6cf3bc",
        "parents": [
            "40b4227dd6368668951cb08850048ff79c6fbce3"
        ],
        "files": [
            {
                "sha": "22417f8a71d910afd6da0f2ab386c1e4162494bb",
                "filename": "roles/create_users/tasks/create_users.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 4,
                "changes": 5,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/07adf92d5863dae7695849b5bb910ad59c6cf3bc/roles/create_users/tasks/create_users.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/07adf92d5863dae7695849b5bb910ad59c6cf3bc/roles/create_users/tasks/create_users.yml",
                "status": "modified",
                "patch": "@@ -19,8 +19,5 @@\n     owner: root\n     group: root\n     mode: 0600\n-  with_sequence:\n-    start: 0\n-    end: \"{{ users.num_users }}\"\n-    format: \"{{ users.prefix }}%02d\"\n+  with_sequence: start=0 end=\"{{ users.num_users }}\" format=\"{{ users.prefix }}%02d\"\n "
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #12",
        "sha": "f26e6a5f816bc8f8672d0b80aa761ae8c459d30a",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/f26e6a5f816bc8f8672d0b80aa761ae8c459d30a",
        "parents": [
            "b79a990b9cc80f1d419cebc46be91029fde17f76"
        ],
        "files": [
            {
                "sha": "57c615f17e2de879aa2b8570210d10f4c8b33e3c",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/f26e6a5f816bc8f8672d0b80aa761ae8c459d30a/meta/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/f26e6a5f816bc8f8672d0b80aa761ae8c459d30a/meta/main.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,7 @@\n galaxy_info:\n   author: Bjorn Oscarsson\n   description: \"Installs and configures Docker Community Edition (CE)\"\n-  min_ansible_version: 2.3\n+  min_ansible_version: 2.4\n   license: MIT\n   platforms:\n   - name: Fedora\n@@ -26,5 +26,7 @@ galaxy_info:\n \n   galaxy_tags:\n     - docker\n+    - ce\n+    - system\n \n dependencies: []"
            },
            {
                "sha": "1d60273a0a9568f9c364273c0f2f0f9c96d53338",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 7,
                "changes": 14,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/f26e6a5f816bc8f8672d0b80aa761ae8c459d30a/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/f26e6a5f816bc8f8672d0b80aa761ae8c459d30a/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -17,25 +17,25 @@\n     _docker_os_dist_major_version == \"18\"\n   tags: [\"install\", \"configure\"]\n \n-- include: checks.yml\n+- include_tasks: checks.yml\n   tags: [\"install\", \"configure\"]\n \n-- include: setup-repository.yml\n+- include_tasks: setup-repository.yml\n   tags: [\"install\"]\n \n-- include: remove-pre-docker-ce.yml\n+- include_tasks: remove-pre-docker-ce.yml\n   when: docker_remove_pre_ce | bool\n   tags: [\"install\"]\n \n-- include: install-docker.yml\n+- include_tasks: install-docker.yml\n   tags: [\"install\"]\n \n-- include: setup-audit.yml\n+- include_tasks: setup-audit.yml\n   tags: [\"configure\"]\n \n-- include: kernel-3-mount-fixes.yml\n+- include_tasks: kernel-3-mount-fixes.yml\n   when: ansible_kernel | version_compare('4', '<')\n   tags: [\"configure\"]\n \n-- include: configure-docker.yml\n+- include_tasks: configure-docker.yml\n   tags: [\"configure\"]"
            },
            {
                "sha": "f1fd40fea6cd8c57e4c62c5ad95db7d3e5426c56",
                "filename": "tasks/checks.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/f26e6a5f816bc8f8672d0b80aa761ae8c459d30a/tasks/checks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/f26e6a5f816bc8f8672d0b80aa761ae8c459d30a/tasks/checks.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,7 @@\n ---\n-- include: distribution-checks.yml\n+- include_tasks: distribution-checks.yml\n   when:\n     _docker_os_dist_check | bool\n     \n-- include: compatibility-checks.yml\n+- include_tasks: compatibility-checks.yml\n "
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "gtayzlor@gmail.com",
        "message": "fix #133 Allow customisation of resources/containerizers/executor_registration_timeout",
        "sha": "38b3b7876cf98a70020ad31545a3654a44aff314",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/38b3b7876cf98a70020ad31545a3654a44aff314",
        "parents": [
            "80530fde7df1a94ad361434e02816b0816a2c47a"
        ],
        "files": [
            {
                "sha": "5238deacc1d7c5763513cb88d310b130fe5029ee",
                "filename": "roles/mesos/defaults/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/38b3b7876cf98a70020ad31545a3654a44aff314/roles/mesos/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/38b3b7876cf98a70020ad31545a3654a44aff314/roles/mesos/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -5,3 +5,7 @@ mesos_zookeeper_group: zookeeper_servers\n mesos_master_port: 5050\n consul_dir: /etc/consul.d\n mesos_local_address: \"{{ ansible_default_ipv4.address }}\"\n+mesos_executor_registration_timeout: 10mins\n+mesos_cluster_name: \"Cluster01\"\n+mesos_containerizers: \"docker,mesos\"\n+mesos_resources: \"ports(*):[31000-32000]\""
            },
            {
                "sha": "225904cdf5a675c160ddec8280ac505d486f2061",
                "filename": "roles/mesos/tasks/main.yml",
                "previous_filename": null,
                "additions": 21,
                "deletions": 0,
                "changes": 21,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/38b3b7876cf98a70020ad31545a3654a44aff314/roles/mesos/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/38b3b7876cf98a70020ad31545a3654a44aff314/roles/mesos/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -65,6 +65,27 @@\n   command: /bin/rm -f /etc/init/mesos-slave.override\n   when: mesos_install_mode == \"slave\"\n \n+- name: set executor registration timeout\n+  sudo: yes\n+  copy:\n+    dest: /etc/mesos-slave/executor_registration_timeout\n+    content: \"{{ mesos_executor_registration_timeout }}\"\n+  when: mesos_install_mode == \"slave\"\n+\n+- name: set containerizers\n+  sudo: yes\n+  copy:\n+    dest: /etc/mesos-slave/containerizers\n+    content: \"{{ mesos_containerizers }}\"\n+  when: mesos_install_mode == \"slave\"\n+\n+- name: set slave resources\n+  sudo: yes\n+  copy:\n+    dest: /etc/mesos-slave/resources\n+    content: \"{{ mesos_resources }}\"\n+  when: mesos_install_mode == \"slave\"\n+\n - name: Set Mesos Slave ip\n   copy:\n     content: \"{{mesos_local_address}}\""
            }
        ]
    },
    {
        "repo": "rocknsm/rock",
        "author_id": "MDQ6VXNlcjEwMDk5MTQ5",
        "author_name": "Bradford Dabbs",
        "committer_id": "MDQ6VXNlcjE3MTU3NA==",
        "committer_name": "Derek Ditch",
        "committer_email": "dcode@users.noreply.github.com",
        "message": "Add missing filebeat vars\n\nFixes #341 and fixes #328",
        "sha": "1835a3a391ee4ef2f83172a0384e1c2bb286f811",
        "url": "https://api.github.com/repos/rocknsm/rock/commits/1835a3a391ee4ef2f83172a0384e1c2bb286f811",
        "parents": [
            "1f48e7137ddac0955d1c7f04ffa24f8c81f9aa20"
        ],
        "files": [
            {
                "sha": "e240f1e09b7ac273bcc2a113ed2be048fc88ddf6",
                "filename": "playbooks/group_vars/all.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/rocknsm/rock/blob/1835a3a391ee4ef2f83172a0384e1c2bb286f811/playbooks/group_vars/all.yml",
                "raw_url": "https://github.com/rocknsm/rock/raw/1835a3a391ee4ef2f83172a0384e1c2bb286f811/playbooks/group_vars/all.yml",
                "status": "modified",
                "patch": "@@ -63,6 +63,7 @@ enable_zookeeper: true\n enable_kafka: true\n enable_lighttpd: true\n enable_fsf: true\n+enable_filebeat: true\n \n rocknsm_package_list:\n   - jq"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-security",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #17: Add UseDNS option, default to 'no'.",
        "sha": "61357eda4b21a48e16239ce3a696b33fbe8c0106",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-security/commits/61357eda4b21a48e16239ce3a696b33fbe8c0106",
        "parents": [
            "350d4b474eefedf96be99a949b110b53214c45f2"
        ],
        "files": [
            {
                "sha": "7303efd90a32a99bb92f4c0605de1f8d718a5c57",
                "filename": "tasks/ssh.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/geerlingguy/ansible-role-security/blob/61357eda4b21a48e16239ce3a696b33fbe8c0106/tasks/ssh.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-security/raw/61357eda4b21a48e16239ce3a696b33fbe8c0106/tasks/ssh.yml",
                "status": "modified",
                "patch": "@@ -12,6 +12,8 @@\n       line: \"PermitRootLogin {{ security_ssh_permit_root_login }}\"\n     - regexp: \"^Port\"\n       line: \"Port {{ security_ssh_port }}\"\n+    - regexp: \"^UseDNS\"\n+      line: \"UseDNS {{ security_ssh_usedns }}\"\n   notify: restart ssh\n \n - name: Add configured user accounts to passwordless sudoers."
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjUwNjI4Mw==",
        "author_name": "Daniel Widerin",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #34",
        "sha": "ef3c6c3b3b414b3ca1ad27ea5a4a8c79f80c8a64",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/ef3c6c3b3b414b3ca1ad27ea5a4a8c79f80c8a64",
        "parents": [
            "fd7c9d0ab9580a7b012367c9ab1213df0a08679c"
        ],
        "files": [
            {
                "sha": "463bdb377c2f4ebd67c15b1b77a831b8831993da",
                "filename": "tasks/cores.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/ef3c6c3b3b414b3ca1ad27ea5a4a8c79f80c8a64/tasks/cores.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/ef3c6c3b3b414b3ca1ad27ea5a4a8c79f80c8a64/tasks/cores.yml",
                "status": "modified",
                "patch": "@@ -7,7 +7,7 @@\n \n - name: Ensure Solr conf directories exist.\n   file:\n-    path: \"/var/solr/data/{{ item }}/conf\"\n+    path: \"{{ solr_home }}/data/{{ item }}/conf\"\n     state: directory\n     owner: \"{{ solr_user }}\"\n     group: \"{{ solr_user }}\"\n@@ -16,7 +16,7 @@\n   with_items: \"{{ solr_cores }}\"\n \n - name: Ensure core configuration directories exist.\n-  shell: \"cp -r {{ solr_install_path }}/example/files/conf/ /var/solr/data/{{ item }}/\"\n+  shell: \"cp -r {{ solr_install_path }}/example/files/conf/ {{ solr_home }}/data/{{ item }}/\"\n   when: \"'{{ item }}' not in '{{ solr_cores_current.content }}'\"\n   with_items: \"{{ solr_cores }}\"\n "
            }
        ]
    },
    {
        "repo": "PeterMosmans/ansible-role-virtualbox-guest",
        "author_id": "MDQ6VXNlcjE0NjUzMDI=",
        "author_name": "Peter Mosmans",
        "committer_id": "MDQ6VXNlcjE0NjUzMDI=",
        "committer_name": "Peter Mosmans",
        "committer_email": "support@go-forward.net",
        "message": "Rewrite jinja2 parameters to prevent warning, closes #12",
        "sha": "d32448526e791f603283d145bc8bdd531061408a",
        "url": "https://api.github.com/repos/PeterMosmans/ansible-role-virtualbox-guest/commits/d32448526e791f603283d145bc8bdd531061408a",
        "parents": [
            "e750ba2f5e2697f9db93c30346f571f23bfc7a67"
        ],
        "files": [
            {
                "sha": "605b8e3191bd31d8ceffc197b208a33e4565d73f",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/PeterMosmans/ansible-role-virtualbox-guest/blob/d32448526e791f603283d145bc8bdd531061408a/tasks/main.yml",
                "raw_url": "https://github.com/PeterMosmans/ansible-role-virtualbox-guest/raw/d32448526e791f603283d145bc8bdd531061408a/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -22,7 +22,7 @@\n - name: Determine if (the requested version of) vboxguestadditions is installed\n   shell: modinfo vboxguest 2>/dev/null|awk '/^version/{print $2}'\n   register: vbox_guest_version\n-  changed_when: vbox_guest_version.stdout != \"{{ virtualbox_version }}\"\n+  changed_when: vbox_guest_version.stdout != virtualbox_version\n   ignore_errors: yes\n \n - block:\n@@ -71,7 +71,7 @@\n       opts=noauto\n       state=mounted\n     register: mounted_ISO\n-    when: mount_path is defined and \"{{ mount_path.stdout }}\" == \"\"\n+    when: mount_path is defined and mount_path.stdout == \"\"\n \n   - name: Check if VBoxGuest additions ISO is mounted\n     shell: mount -l 2>/dev/null|awk '/VBOXADDITIONS/{print $3}'\n@@ -170,4 +170,4 @@\n       line='{{ ISO_path }}\t{{ mount_path.stdout }}\tiso9660\tnoauto\t0\t0'\n       state=absent\n     when: mounted_ISO | changed\n-  when: (vbox_guest_version.stdout != \"{{ virtualbox_version }}\")\n+  when: (vbox_guest_version.stdout != virtualbox_version)"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "author_name": "Jack Ivanov",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "e601809@gmail.com",
        "message": "Fixed #147",
        "sha": "abafe1581c6c78d784cf215b214947675d49eff8",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/abafe1581c6c78d784cf215b214947675d49eff8",
        "parents": [
            "f16d960feb476f28b8e219a7c9aee6f89f1a77ef"
        ],
        "files": [
            {
                "sha": "eb7a695b05f3b6997f7f863c7b32ce2561c6b910",
                "filename": "playbooks/common.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/trailofbits/algo/blob/abafe1581c6c78d784cf215b214947675d49eff8/playbooks/common.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/abafe1581c6c78d784cf215b214947675d49eff8/playbooks/common.yml",
                "status": "modified",
                "patch": "@@ -3,3 +3,5 @@\n \n - name: Configure defaults\n   raw: sudo update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1\n+  tags:\n+    - update-alternatives"
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "gtayzlor@gmail.com",
        "message": "Fix #175 - add tags for roles, and some slight refactoring / style fixes",
        "sha": "60cfb509e3db6d2c3f90b63cc543508f163383fe",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/60cfb509e3db6d2c3f90b63cc543508f163383fe",
        "parents": [
            "9966c6de1ed4ef5071a9bea83b4bb69a11dd32ba"
        ],
        "files": [
            {
                "sha": "08cbb1bd26906f4c3378277851ea10de194c4d89",
                "filename": "roles/docker/tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/docker/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/docker/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -2,6 +2,10 @@\n # tasks file for docker\n - name: remove docker override\n   file: path=/etc/init/docker.override state=absent\n+  tags:\n+    - docker\n \n - name: ensure docker is running (and enable it at boot)\n   service: name=docker state=started enabled=yes\n+  tags:\n+    - docker"
            },
            {
                "sha": "440abd93fdbbc41aa311cc636ca6c99cc44c0a5e",
                "filename": "roles/registrator/tasks/main.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 1,
                "changes": 8,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/registrator/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/registrator/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,11 @@\n ---\n \n # Install (docker-py) python package as is a docker module dependency.\n-- pip: name=docker-py version=1.1.0\n+- pip:\n+    name: docker-py\n+    version: 1.1.0\n+  tags:\n+    - registrator\n \n # tasks file for docker registrator\n - name: run registrator container\n@@ -15,3 +19,5 @@\n     hostname: \"{{ hostname }}\"\n     volumes:\n     - \"/var/run/docker.sock:/tmp/docker.sock\"\n+  tags:\n+    - registrator"
            },
            {
                "sha": "5725195d5a7843718f63a5675404078e40a10c97",
                "filename": "roles/zookeeper/tasks/main.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 1,
                "changes": 10,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/zookeeper/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/zookeeper/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -2,10 +2,14 @@\n   service: name=zookeeper state=started enabled=yes\n \n - name: Create zookeeper config file\n-  template: src=zoo.cfg.j2 dest=/etc/zookeeper/conf/zoo.cfg\n+  template:\n+    src: zoo.cfg.j2\n+    dest: /etc/zookeeper/conf/zoo.cfg\n   sudo: yes\n   notify:\n     - Restart zookeeper\n+  tags:\n+    - zookeeper\n \n - name: Create zookeeper myid file\n   copy:\n@@ -15,6 +19,8 @@\n   sudo: yes\n   notify:\n     - Restart zookeeper\n+  tags:\n+    - zookeeper\n \n - name: Set Zookeeper consul service definition\n   sudo: yes\n@@ -23,3 +29,5 @@\n     dest: \"{{ consul_dir }}/zookeeper.json\"\n   notify:\n     - Restart consul\n+  tags:\n+    - zookeeper"
            },
            {
                "sha": "dc1a95a34120575072494e88b77326d9fe4b594e",
                "filename": "roles/marathon/tasks/main.yml",
                "previous_filename": null,
                "additions": 24,
                "deletions": 7,
                "changes": 31,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/marathon/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/marathon/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,17 +1,15 @@\n ---\n # tasks file for marathon\n - name: Set Marathon hostname\n+  sudo: yes\n   copy:\n     content: \"{{marathon_local_address}}\"\n     dest: /etc/marathon/conf/hostname\n     mode: 0644\n-  sudo: yes\n-\n-- name: remove marathon override\n-  file: path=/etc/init/marathon.override state=absent\n-\n-- name: ensure marathon is running (and enable it at boot)\n-  service: name=marathon state=started enabled=yes\n+  notify:\n+    - Restart marathon\n+  tags:\n+    - marathon\n \n - name: Set Marathon consul service definition\n   sudo: yes\n@@ -20,3 +18,22 @@\n     dest: \"{{ consul_dir }}/marathon.json\"\n   notify:\n     - Restart consul\n+  tags:\n+    - marathon\n+\n+- name: remove marathon override\n+  sudo: yes\n+  file:\n+    path: /etc/init/marathon.override\n+    state: absent\n+  tags:\n+    - marathon\n+\n+- name: ensure marathon is running (and enable it at boot)\n+  sudo: yes\n+  service:\n+    name: marathon\n+    state: started\n+    enabled: yes\n+  tags:\n+    - marathon"
            },
            {
                "sha": "fa5682f6f31e74dda30d68d4654d1ba9b333de92",
                "filename": "roles/marathon/handlers/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/marathon/handlers/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/marathon/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -2,5 +2,5 @@\n # handlers file for marathon\n # Restart service marathon, in all cases\n - name: Restart marathon\n-  service: name=marathon state=restarted\n   sudo: yes\n+  shell: /sbin/restart marathon"
            },
            {
                "sha": "16ed5a586b55c9fe4fdd47f38823afef7e183dcc",
                "filename": "roles/dnsmasq/tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/dnsmasq/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/dnsmasq/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -2,9 +2,13 @@\n # tasks file for dnsmasq\n - name: remove dnsmasq override\n   file: path=/etc/init/dnsmasq.override state=absent\n+  tags:\n+    - dnsmasq\n \n - name: ensure dnsmasq is running (and enable it at boot)\n   service: name=dnsmasq state=started enabled=yes\n+  tags:\n+    - dnsmasq\n \n - name: configure dnsmasq\n   sudo: yes"
            },
            {
                "sha": "21638613d81c6652628a5c8136502e976c4ff578",
                "filename": "roles/consul/tasks/main.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 0,
                "changes": 10,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/consul/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/consul/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -38,19 +38,25 @@\n     name: consul\n     enabled: yes\n     state: started\n+  tags:\n+    - consul\n \n # Give some time for leader election to occur\n - name: wait for leader\n   wait_for:\n     host: \"{{ consul_bind_addr }}\"\n     port: 8301\n     delay: 10\n+  tags:\n+    - consul\n \n - name: remove consul-join override\n   file:\n     path: /etc/init/consul-join.override\n     state: absent\n   when: consul_join is defined\n+  tags:\n+    - consul\n \n - name: configure consul-join\n   sudo: yes\n@@ -72,9 +78,13 @@\n - name: force reload consul\n   sudo: yes\n   command: /sbin/restart consul\n+  tags:\n+    - consul\n \n - name: force wait for leader\n   wait_for:\n     host: \"{{ consul_bind_addr }}\"\n     port: 8301\n     delay: 10\n+  tags:\n+    - consul"
            },
            {
                "sha": "85100564a74e907d868f6a89452c18d9bbac9ff4",
                "filename": "roles/weave/tasks/main.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 2,
                "changes": 11,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/weave/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/weave/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -9,13 +9,20 @@\n     - weave\n \n - name: Start up docker\n-  service: name=docker state=started\n+  service:\n+    name: docker\n+    state: started\n   tags:\n     - weave\n \n - name: configure weave\n   sudo: yes\n-  template: src=interfaces.j2 dest=/etc/network/interfaces.d/weave.cfg owner=root group=root mode=0644\n+  template:\n+    src: interfaces.j2\n+    dest: /etc/network/interfaces.d/weave.cfg\n+    owner: root\n+    group: root\n+    mode: 0644\n   tags:\n     - weave\n "
            },
            {
                "sha": "70bcee16de04a4e151434138160d7a05ca816b12",
                "filename": "roles/haproxy/tasks/main.yml",
                "previous_filename": null,
                "additions": 20,
                "deletions": 4,
                "changes": 24,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/haproxy/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/60cfb509e3db6d2c3f90b63cc543508f163383fe/roles/haproxy/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,21 +1,35 @@\n ---\n # tasks file for haproxy\n-- name: assures {{ consul_template_dir }} dirs exists\n-  file: path={{ consul_template_dir }}/{{ item.path }} state=directory\n+- name: \"assures {{ consul_template_dir }} dirs exists\"\n+  file:\n+    path: \"{{ consul_template_dir }}/{{ item.path }}\"\n+    state: directory\n   with_items:\n     - { path: 'config' }\n     - { path: 'templates' }\n+  tags:\n+    - haproxy\n \n - name: upload template config files\n-  template: src=consul.cfg.j2 dest=\"{{ consul_template_dir }}/config/consul.cfg\" mode=0644\n+  template:\n+    src: consul.cfg.j2\n+    dest: \"{{ consul_template_dir }}/config/consul.cfg\"\n+    mode: 0644\n   sudo: yes\n+  tags:\n+    - haproxy\n \n - name: upload static config files\n-  copy: src={{ item.src }} dest=\"{{ consul_template_dir }}/{{ item.dst }}\" mode=0644\n+  copy:\n+    src: \"{{ item.src }}\"\n+    dest: \"{{ consul_template_dir }}/{{ item.dst }}\"\n+    mode: 0644\n   sudo: yes\n   with_items:\n     - { src: haproxy.cfg, dst: 'config/haproxy.cfg' }\n     - { src: haproxy.tmpl, dst: 'templates/haproxy.tmpl' }\n+  tags:\n+    - haproxy\n \n - name: run haproxy container\n   docker:\n@@ -36,3 +50,5 @@\n     volumes:\n     - \"{{ consul_template_dir }}/config:/config\"\n     - \"{{ consul_template_dir }}/templates:/templates\"\n+  tags:\n+    - haproxy"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #10: Solr 5.x support.",
        "sha": "f32eb359341e98c23f09e76bc130c6366163c893",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/f32eb359341e98c23f09e76bc130c6366163c893",
        "parents": [
            "23a0c3241ae8c7ed5593671e8f89c05857296e50"
        ],
        "files": [
            {
                "sha": "39a5d81df5d4c81aad875734bffae1e9849514b6",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/f32eb359341e98c23f09e76bc130c6366163c893/tasks/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/f32eb359341e98c23f09e76bc130c6366163c893/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -2,10 +2,10 @@\n - include: user.yml\n   when: solr_create_user\n \n-- name: Set solr_filename for Solr 4.x.\n+- name: Set solr_filename for Solr 4+.\n   set_fact:\n-    \"solr_filename=solr-{{ solr_version }}\"\n-  when: \"solr_version.split('.')[0] == '4'\"\n+    solr_filename: \"solr-{{ solr_version }}\"\n+  when: \"solr_version.split('.')[0] > 3\"\n \n - name: Set solr_filename for Solr 3.x.\n   set_fact:\n@@ -22,7 +22,7 @@\n   unarchive:\n     src: \"{{ solr_workspace }}/{{ solr_filename }}.tgz\"\n     dest: \"{{ solr_workspace }}\"\n-    creates: \"{{ solr_workspace }}/{{ solr_filename }}/dist/{{ solr_filename }}.war\"\n+    creates: \"{{ solr_workspace }}/{{ solr_filename }}/CHANGES.txt\"\n     copy: no\n \n - name: Check if Solr is already installed."
            },
            {
                "sha": "390ec35c63528cdd45f8885d4f69c192571c1e9b",
                "filename": "tasks/init-script.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 2,
                "changes": 12,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/f32eb359341e98c23f09e76bc130c6366163c893/tasks/init-script.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/f32eb359341e98c23f09e76bc130c6366163c893/tasks/init-script.yml",
                "status": "modified",
                "patch": "@@ -8,15 +8,23 @@\n     mode: 0664\n   changed_when: false\n \n-- name: Copy solr init script into place.\n+- name: Copy solr init script into place (Solr < 5).\n+  template:\n+    src: \"solr-init-{{ ansible_os_family }}-pre5.j2\"\n+    dest: \"/etc/init.d/{{ solr_service_name }}\"\n+    mode: 0755\n+  when: \"solr_version.split('.')[0] < 5\"\n+\n+- name: Copy solr init script into place (Solr 5+).\n   template:\n     src: \"solr-init-{{ ansible_os_family }}.j2\"\n     dest: \"/etc/init.d/{{ solr_service_name }}\"\n     mode: 0755\n+  when: \"solr_version.split('.')[0] >= 5\"\n \n - name: Ensure daemon is installed (Debian).\n   apt: name=daemon state=installed\n-  when: ansible_os_family == \"Debian\"\n+  when: ansible_os_family == \"Debian\" and solr_version.split('.')[0] < 5\n \n - name: Ensure solr is started and enabled on boot.\n   service:"
            },
            {
                "sha": "c5ccc7eea3beffeaa6753889a73b0551a2890dfe",
                "filename": "tasks/solr-home.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/f32eb359341e98c23f09e76bc130c6366163c893/tasks/solr-home.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/f32eb359341e98c23f09e76bc130c6366163c893/tasks/solr-home.yml",
                "status": "modified",
                "patch": "@@ -10,11 +10,11 @@\n     owner: \"{{ solr_user }}\"\n     group: \"{{ solr_user }}\"\n     mode: 0755\n-  when: not solr_example.stat.exists\n+  when: not solr_example.stat.exists and solr_version.split('.')[0] < 5\n \n - name: Copy Solr example into solr_home.\n   shell: \"cp -r {{ solr_install_path }}/example/solr/* {{ solr_home }}\"\n-  when: not solr_example.stat.exists\n+  when: not solr_example.stat.exists and solr_version.split('.')[0] < 5\n \n - name: Fix the example solrconfig.xml file.\n   replace:"
            }
        ]
    },
    {
        "repo": "aalaesar/install_nextcloud",
        "author_id": "MDQ6VXNlcjE4NjQ5MjQ5",
        "author_name": "Aalaesar",
        "committer_id": "MDQ6VXNlcjE4NjQ5MjQ5",
        "committer_name": "Aalaesar",
        "committer_email": "aalaesar@gmail.com",
        "message": "Improved Mysql first installation and password definition -fixed #1",
        "sha": "b10887f8627d4e45191cb3d0e0174646ff8d22f9",
        "url": "https://api.github.com/repos/aalaesar/install_nextcloud/commits/b10887f8627d4e45191cb3d0e0174646ff8d22f9",
        "parents": [
            "198ade720d1ef1e99d3fbf6f6fde2d3e32cf8a40"
        ],
        "files": [
            {
                "sha": "c6985680715d7ee22f0eb38d4fa81aa2d5bd8e98",
                "filename": "tasks/mysql_config.yml",
                "previous_filename": null,
                "additions": 18,
                "deletions": 17,
                "changes": 35,
                "blob_url": "https://github.com/aalaesar/install_nextcloud/blob/b10887f8627d4e45191cb3d0e0174646ff8d22f9/tasks/mysql_config.yml",
                "raw_url": "https://github.com/aalaesar/install_nextcloud/raw/b10887f8627d4e45191cb3d0e0174646ff8d22f9/tasks/mysql_config.yml",
                "status": "modified",
                "patch": "@@ -1,8 +1,7 @@\n ---\n-#TOTO : need improvments on managing the mysql root password.\n-\n - name: \"[{{ nextcloud_db_backend }}] - Service is installed.\"\n   package: \"name={{ nextcloud_db_backend }}-server state=present\"\n+  register: db_install\n \n - name: \"[{{ nextcloud_db_backend }}] - PHP module is installed.\"\n   package: \"name=php{{ php_ver }}-mysql state=present\"\n@@ -11,10 +10,6 @@\n   # needed by mysql_* ansible modules\n   package: name=python-mysqldb state=present\n \n-- name: \"[DB] - Check credentials\"\n-  stat: \"path=/root/.my.cnf\"\n-  register: mycred\n-\n - block:\n   - name: \"[{{ nextcloud_db_backend }}] - generate {{ nextcloud_db_backend }} root Password:\"\n     set_fact: mysql_root_pwd=\"{{ lookup( 'password', 'nextcloud_instances/'+ nextcloud_trusted_domain +'/mysql_root.pwd' ) }}\"\n@@ -32,8 +27,23 @@\n     with_items:\n       - 127.0.0.1\n       - ::1\n+      - localhost\n+    ignore_errors: yes\n+  \n+  - name: \"[{{ nextcloud_db_backend }}] - Delete the anonymous user.\"\n+    mysql_user: user=\"\" state=\"absent\"\n+    ignore_errors: yes\n+  \n+  - name: \"[{{ nextcloud_db_backend }}] - Removes the MySQL test database\"\n+    mysql_db: name=test state=absent\n     ignore_errors: yes\n-    \n+  when: db_install.changed\n+  \n+- name: \"[{{ nextcloud_db_backend }}] - Check credentials\"\n+  stat: \"path=/root/.my.cnf\"\n+  register: mycred\n+\n+- block:\n   - name: \"[{{ nextcloud_db_backend }}] - Make the file .my.cnf\"\n     file: path=/root/.my.cnf state=touch mode=\"0640\"\n   \n@@ -44,22 +54,13 @@\n         [client]\n         user=root\n         password=\"{{ mysql_root_pwd }}\"\n-  when: mysql_root_pwd is not defined and (mycred.stat.exists is defined and not mycred.stat.exists)\n-\n-- name: \"[DB] - Delete the anonymous user.\"\n-  mysql_user: user=\"\" state=\"absent\"\n-  ignore_errors: yes\n-\n-- name: \"[DB] - Removes the MySQL test database\"\n-  mysql_db: name=test state=absent\n-  ignore_errors: yes\n+  when: mycred.stat.exists is defined and not mycred.stat.exists\n \n - name: \"[{{ nextcloud_db_backend }}] - Fix mysql binary logging for nextcloud\"\n   copy:\n     dest: /etc/mysql/conf.d/binlog_format_mixed.cnf\n     src: files/binlog_format_mixed.cnf\n   notify: restart mysql\n-  when: nextcloud_db_backend == \"mysql\"\n \n - name: \"[{{ nextcloud_db_backend }}] - Generate database user Password.\"\n   set_fact: nextcloud_db_pwd=\"{{ lookup( 'password', 'nextcloud_instances/'+ nextcloud_trusted_domain +'/db_admin.pwd' ) }}\""
            }
        ]
    },
    {
        "repo": "ansiblebit/oracle-java",
        "author_id": "MDQ6VXNlcjE2NDM5NjI=",
        "author_name": "Roman Belyakovsky",
        "committer_id": "MDQ6VXNlcjE2NDM5NjI=",
        "committer_name": "Roman Belyakovsky",
        "committer_email": "ihryamzik@gmail.com",
        "message": "Implemented rpm search on oracle site, fixes #34",
        "sha": "617c8f2de47d53b11ebed60c6cdfe7d020a120a7",
        "url": "https://api.github.com/repos/ansiblebit/oracle-java/commits/617c8f2de47d53b11ebed60c6cdfe7d020a120a7",
        "parents": [
            "15d2da095f9bd54a50954dee18597710e1951943"
        ],
        "files": [
            {
                "sha": "a5b12183139d611caa6869538a88433d5a3f7658",
                "filename": "tasks/redhat/main.yml",
                "previous_filename": null,
                "additions": 43,
                "deletions": 0,
                "changes": 43,
                "blob_url": "https://github.com/ansiblebit/oracle-java/blob/617c8f2de47d53b11ebed60c6cdfe7d020a120a7/tasks/redhat/main.yml",
                "raw_url": "https://github.com/ansiblebit/oracle-java/raw/617c8f2de47d53b11ebed60c6cdfe7d020a120a7/tasks/redhat/main.yml",
                "status": "modified",
                "patch": "@@ -4,6 +4,49 @@\n # Task file to install Oracle Java Development Kit in a system with a Redhat based Linux distribution.\n #\n \n+- name: get latest JDK download page\n+  uri:\n+    url: http://www.oracle.com/technetwork/java/javase/downloads/index.html\n+    return_content: yes\n+  register: result\n+\n+- name: determine latest java download page and version\n+  set_fact: latest_java_page_and_version=\"{{ (result.content.replace('\\n','')|regex_replace('.*(/technetwork/java/javase/downloads/jdk(\\d+)-downloads.*?.html).*', 'http://www.oracle.com/\\1\\n\\2')).split('\\n') }}\"\n+\n+- name: define download page URL based on latest version\n+  set_fact: download_page_url=\"{{ latest_java_page_and_version[0] }}\"\n+  when: \"{{ latest_java_page_and_version[1]|version_compare(oracle_java_version,'=') }}\"\n+  \n+- block:\n+  \n+  - name: get lastest JDK rpm url\n+    uri: url=\"{{ result.content.replace('\\n','')|regex_replace('.*(/technetwork/java/javase/archive-.*?.html).*','http://www.oracle.com/\\1') }}\"\n+         return_content=yes\n+    register: result\n+    \n+  - name: define download page URL for \"{{ oracle_java_version }}\"\n+    set_fact: download_page_url=\"{{ result.content|regex_search('href=\\\"[^\\\"]+\\\">Java SE\\s+' + (oracle_java_version|string) + '\\s?<')|regex_replace('.*href=\\\"([^\\\"]+)\\\".*','http://www.oracle.com/\\1') }}\"\n+  \n+  when: \"{{ latest_java_page_and_version[1]|version_compare(oracle_java_version,'!=') and oracle_java_version }}\"\n+\n+- name: show download page URL\n+  debug: msg=\"{{ download_page_url }}\"\n+\n+- name: get lastest JDK rpm url\n+  uri: url=\"{{ download_page_url }}\"\n+       return_content=yes\n+  register: result\n+\n+- name: set oracle_java_rpm_url\n+  set_fact: oracle_java_rpm_url=\"{{ result.content|regex_search('https?://download.oracle.com/.*?/jdk-\\w+-linux-' + oracle_java_ansible_arch_mappings[ansible_architecture] + '.rpm') }}\"\n+\n+- name: set some variables\n+  set_fact: oracle_java_rpm_filename=\"{{ oracle_java_rpm_url | basename }}\"\n+            oracle_java_version=\"{{ oracle_java_rpm_url | basename|regex_replace('jdk-(\\d+)u(\\d+)-linux.*','\\1') }}\"\n+            oracle_java_version_update=\"{{ oracle_java_rpm_url | basename|regex_replace('jdk-(\\d+)u(\\d+)-linux.*','\\2') }}\"\n+\n+- debug: msg=\"Downloading java {{ oracle_java_version }}u{{ oracle_java_version_update }} to {{ oracle_java_rpm_filename }} from {{ oracle_java_rpm_url }}\"\n+\n - name: download Java RPM\n   get_url:\n     headers='Cookie:gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie'    dest=\"{{ oracle_java_dir_source }}/{{ oracle_java_rpm_filename }}\""
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #68",
        "sha": "613c3eff6ea2eed2ea9300362f8cbf2314040cf2",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/613c3eff6ea2eed2ea9300362f8cbf2314040cf2",
        "parents": [
            "c3465ba3178bd0acfd8c0e06e9f7529be506008b"
        ],
        "files": [
            {
                "sha": "9d3889542142d4468c9f7b3cc8e70c8c84ee7d83",
                "filename": "tasks/postinstall.yml",
                "previous_filename": null,
                "additions": 56,
                "deletions": 8,
                "changes": 64,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/613c3eff6ea2eed2ea9300362f8cbf2314040cf2/tasks/postinstall.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/613c3eff6ea2eed2ea9300362f8cbf2314040cf2/tasks/postinstall.yml",
                "status": "modified",
                "patch": "@@ -79,18 +79,66 @@\n     url: https://api.github.com/repos/docker/compose/releases/latest\n     body_format: json\n   register: _github_docker_compose\n-  when:\n-    - docker_compose_no_pip\n+  until: _github_docker_compose.status == 200\n+  retries: 10\n+  when: \n+    - docker_compose\n+\n+- name: Set common facts related to docker-compose\n+  set_fact:\n+    _docker_compose_shasum_url: \"https://github.com/docker/compose/releases/download/{{ _github_docker_compose.json.tag_name }}/\\\n+      docker-compose-{{ ansible_system }}-{{ ansible_architecture }}.sha256\"\n+    _docker_compose_url: \"https://github.com/docker/compose/releases/download/{{ _github_docker_compose.json.tag_name }}/\\\n+      docker-compose-{{ ansible_system }}-{{ ansible_architecture }}\"\n+  when: \n+    - docker_compose\n+\n+- name: Fetch docker-compose SHA265 sum file\n+  get_url: \n+    url: \"{{ _docker_compose_shasum_url }}\"\n+    dest: \"/tmp/ansible.docker-compose-sha256\"\n+  register: _github_docker_compose_shasum_file\n+  changed_when: false\n+  until: _github_docker_compose_shasum_file.status_code == 200\n+  retries: 10\n+  when: \n+    - docker_compose\n+\n+- name: Dump SHA256 file contents to variable\n+  command: cat /tmp/ansible.docker-compose-sha256\n+  register: _github_docker_compose_shasum\n+  changed_when: false\n+  when: \n+    - docker_compose\n+\n+- name: Remove temporary file for SHA256 sum\n+  file:\n+    path: \"/tmp/ansible.docker-compose-sha256\"\n+    state: absent\n+  changed_when: false\n+  when: \n+    - docker_compose\n+\n+- name: Set SHA256 facts related to docker-compose\n+  set_fact:\n+    _docker_compose_checksum: \"sha256:{{ _github_docker_compose_shasum.stdout | regex_replace('^([0-9a-zA-Z]*)[\\\\s\\\\t]+.+', '\\\\1') }}\"\n+  when: \n+    - docker_compose\n+\n+# Use when moving to Ansible 2.7 as minimum version\n+# - name: Set SHA256 facts related to docker-compose (Ansible >= 2.7)\n+#   set_fact:\n+#     _docker_compose_checksum: \"sha256:https://github.com/docker/compose/releases/download/{{ _github_docker_compose.json.tag_name }}/\\\n+#       docker-compose-{{ ansible_system }}-{{ ansible_architecture }}.sha256\"\n+#   when: ansible_version.full is version_compare('2.7', '>=')\n \n # Official installation of docker-compose (Linux): https://docs.docker.com/compose/install/#install-compose\n - name: Install docker-compose (Linux)\n   become: true\n   get_url:\n-    url: \"https://github.com/docker/compose/releases/download/{{ _github_docker_compose.json.tag_name }}/\\\n-      docker-compose-{{ ansible_system }}-{{ ansible_architecture }}\"\n-    checksum: \"sha256:https://github.com/docker/compose/releases/download/{{ _github_docker_compose.json.tag_name }}/\\\n-      docker-compose-{{ ansible_system }}-{{ ansible_architecture }}.sha256\"\n+    url: \"{{ _docker_compose_url }}\"\n+    checksum: \"{{ _docker_compose_checksum }}\"\n     dest: /usr/local/bin/docker-compose\n     mode: 0755\n-  when:\n-    - docker_compose_no_pip\n+  when: \n+    - docker_compose"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-security",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #10: CentOS 7 autoupdate doesn't install updates.",
        "sha": "96ff62a5bfa4e74c1ffb1566d2a1070f5e292a15",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-security/commits/96ff62a5bfa4e74c1ffb1566d2a1070f5e292a15",
        "parents": [
            "01c4359d8ad17ba10149ac898663e598069b9055"
        ],
        "files": [
            {
                "sha": "3e7a0a2dec910933b68b9619f49ecab64c88dade",
                "filename": "tasks/autoupdate-RedHat.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 0,
                "changes": 7,
                "blob_url": "https://github.com/geerlingguy/ansible-role-security/blob/96ff62a5bfa4e74c1ffb1566d2a1070f5e292a15/tasks/autoupdate-RedHat.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-security/raw/96ff62a5bfa4e74c1ffb1566d2a1070f5e292a15/tasks/autoupdate-RedHat.yml",
                "status": "modified",
                "patch": "@@ -4,3 +4,10 @@\n \n - name: Ensure yum-cron is running and enabled on boot.\n   service: name=yum-cron state=started enabled=yes\n+\n+- name: Configure autoupdates (RHEL 7).\n+  lineinfile:\n+    dest: \"/etc/yum/yum-cron.conf\"\n+    regexp: '^apply_updates = .+'\n+    line: 'apply_updates = yes'\n+  when: security_autoupdate_enabled and ansible_distribution_major_version | int == 7"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-nodejs",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fixes #34",
        "sha": "5f98b610a549c854889cb9f03d0327b057cc1e79",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-nodejs/commits/5f98b610a549c854889cb9f03d0327b057cc1e79",
        "parents": [
            "a5a5c4d74b7b0fd14f534dda1f41f903d1a58abf"
        ],
        "files": [
            {
                "sha": "3661751ce262940d84aba6706c6d078870891112",
                "filename": "tasks/nvm.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 3,
                "changes": 4,
                "blob_url": "https://github.com/fubarhouse/ansible-role-nodejs/blob/5f98b610a549c854889cb9f03d0327b057cc1e79/tasks/nvm.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-nodejs/raw/5f98b610a549c854889cb9f03d0327b057cc1e79/tasks/nvm.yml",
                "status": "modified",
                "patch": "@@ -70,11 +70,9 @@\n     repo: \"{{ nvm_repo }}\"\n     dest: \"{{ fubarhouse_npm.nvm_install_dir }}\"\n     clone: yes\n-    update: yes\n-    force: yes\n+    update: no\n     version: master\n     recursive: false\n-  changed_when: false\n \n - name: \"NVM | Install\"\n   shell: \"{{ fubarhouse_npm.nvm_install_dir }}/install.sh\""
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-php-xdebug",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #17: Ansible 2.x notices.",
        "sha": "78b2c75d6f8ceb59e492a321484abfacadc5e7c9",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-php-xdebug/commits/78b2c75d6f8ceb59e492a321484abfacadc5e7c9",
        "parents": [
            "bac7acd0dd843aca7d65a5e4290673a620b98e93"
        ],
        "files": [
            {
                "sha": "1cbea6d1f0c5b96a320b7e175219dd2072418fa3",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 3,
                "changes": 8,
                "blob_url": "https://github.com/geerlingguy/ansible-role-php-xdebug/blob/78b2c75d6f8ceb59e492a321484abfacadc5e7c9/tasks/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-php-xdebug/raw/78b2c75d6f8ceb59e492a321484abfacadc5e7c9/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -7,10 +7,12 @@\n     url: \"http://xdebug.org/files/xdebug-{{ php_xdebug_version }}.tgz\"\n     dest: \"{{ workspace }}/xdebug-{{ php_xdebug_version }}.tgz\"\n \n+# TODO: In 2.0, we can set the 'src' to the URL from the get_url task above and\n+# cut out one extra task :)\n - name: Untar Xdebug.\n-  command: >\n-    tar -C {{ workspace }} -xvzf {{ workspace }}/xdebug-{{ php_xdebug_version }}.tgz\n-    creates={{ workspace }}/xdebug-{{ php_xdebug_version }}/README\n+  unarchive:\n+    src: \"{{ workspace }}/xdebug-{{ php_xdebug_version }}.tgz\"\n+    dest: \"{{ workspace }}/xdebug-{{ php_xdebug_version }}\"\n \n - name: Build Xdebug.\n   shell: >"
            }
        ]
    },
    {
        "repo": "kubevirt/kubevirt-ansible",
        "author_id": "MDQ6VXNlcjY3OTUyMTM=",
        "author_name": "Ryan Hallisey",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix deprovision for glusterfs after recent changes (#200)",
        "sha": "857bf53094db020c885933d3f72ac2fa4b1be095",
        "url": "https://api.github.com/repos/kubevirt/kubevirt-ansible/commits/857bf53094db020c885933d3f72ac2fa4b1be095",
        "parents": [
            "50058e3475e6781c225f7530234ccf4eccabe80b"
        ],
        "files": [
            {
                "sha": "67e65105fc0b9fe18988478784d559160505fdfc",
                "filename": "roles/storage-glusterfs/tasks/deprovision.yml",
                "previous_filename": null,
                "additions": 16,
                "deletions": 10,
                "changes": 26,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/857bf53094db020c885933d3f72ac2fa4b1be095/roles/storage-glusterfs/tasks/deprovision.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/857bf53094db020c885933d3f72ac2fa4b1be095/roles/storage-glusterfs/tasks/deprovision.yml",
                "status": "modified",
                "patch": "@@ -5,23 +5,29 @@\n         and admin_user is defined\n         and admin_password is defined\n \n-- block:\n-  - name: Copy glusterfile provisioner YAML\n-    copy:\n-      src: glusterfile-provisioner.yml\n-      dest: /tmp/glusterfile-provisioner.yml\n+- set_fact:\n+    glusterfs_name_label: \"{{ glusterfs_name }}{% if glusterfs_name %}-{% endif %}\"\n+\n+- name: Determine the heketi route\n+  command: \"oc get route -n {{ glusterfs_namespace }} -l heketi={{ glusterfs_name_label }}route -o jsonpath='{.items[0].spec.host}'\"\n+  register: route_cmd\n+  when:\n+    - cluster == 'openshift'\n+    - heketi_url is not defined\n \n-  - name: Delete glusterfile provisioner pod\n-    command: \"kubectl delete -n {{ namespace }} -f /tmp/glusterfile-provisioner.yml --ignore-not-found\"\n-  when: external_provisioner\n+- set_fact:\n+    heketi_url: \"{{ route_cmd.stdout }}\"\n+  when: route_cmd is defined\n \n - name: Get heketi admin key\n-  command: \"oc get secret {{ heketi_secret_name }} -n {{ namespace }} -o jsonpath='{.data.key}'\"\n+  shell: \"kubectl get pod -n {{ glusterfs_namespace }} -l heketi={{ glusterfs_name_label }}pod -o jsonpath='{.items[0].spec.containers[0].env[?(@.name==\\\"HEKETI_ADMIN_KEY\\\")].value}' | base64 -\"\n   register: key_cmd\n+  when: heketi_admin_key is not defined\n \n - set_fact:\n     heketi_admin_key: \"{{ key_cmd.stdout }}\"\n-    \n+  when: heketi_admin_key is not defined\n+\n - name: Render storage-glusterfs deployment yaml\n   template:\n     src: storage-glusterfs.yml.j2"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #23: Idempotence for Solr 5/6 installation.",
        "sha": "4eeee9eb934aff6fd8af0b32e75128c884379f1d",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/4eeee9eb934aff6fd8af0b32e75128c884379f1d",
        "parents": [
            "691072e55614ca50cb35b7bd0a2772dddea7fc24"
        ],
        "files": [
            {
                "sha": "a042017296dec7408a87eea601b185e985557656",
                "filename": "tasks/install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/4eeee9eb934aff6fd8af0b32e75128c884379f1d/tasks/install.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/4eeee9eb934aff6fd8af0b32e75128c884379f1d/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -12,3 +12,4 @@\n     -u {{ solr_user }}\n     -s {{ solr_service_name }}\n     -p {{ solr_port }}\n+    creates={{ solr_install_dir }}/solr/bin/solr"
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "remove task 'Check for local requirements' (fixes #96)\n\nit does not work on macOS (the only platform it was written for)",
        "sha": "196c5c74623fe97d88ea1e2527b96d7ccef784a5",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/196c5c74623fe97d88ea1e2527b96d7ccef784a5",
        "parents": [
            "8af8d9f258ac145b451e2f0db433e5e9ad335ea2"
        ],
        "files": [
            {
                "sha": "d98ea2a48d9f37fc6707bb9161c2400c1679169c",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 7,
                "changes": 7,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/196c5c74623fe97d88ea1e2527b96d7ccef784a5/tasks/main.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/196c5c74623fe97d88ea1e2527b96d7ccef784a5/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -10,13 +10,6 @@\n   tags:\n     - always\n \n-- name: Check for local requirements\n-  shell: tor --version && sha1sum --version && sort --version && uniq --version && wc --version && cut --version\n-  run_once: true\n-  delegate_to: 127.0.0.1\n-  tags:\n-    - always\n-\n - name: Set OS specific variables\n   include_vars: \"{{ ansible_os_family }}.yml\"\n   tags:"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes related to #82",
        "sha": "c0180d4afa36d233a6d3235cd38d7bbc6574d5d4",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/c0180d4afa36d233a6d3235cd38d7bbc6574d5d4",
        "parents": [
            "bd5f2bd7a5d4f8c53cef80a1c2acd56be758bea0"
        ],
        "files": [
            {
                "sha": "8599f426b7eee38f44c54346cace058c6c28f1c2",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/c0180d4afa36d233a6d3235cd38d7bbc6574d5d4/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/c0180d4afa36d233a6d3235cd38d7bbc6574d5d4/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -75,5 +75,5 @@\n   when: not docker_remove | bool\n \n - name: Remove Docker CE and related configuration\n-  include_tasks: uninstall-docker.yml\n+  include_tasks: remove-docker.yml\n   when: docker_remove | bool"
            },
            {
                "sha": "1221fb50b46231b5ddfd5524377442629d4be9a4",
                "filename": "tasks/remove-docker.yml",
                "previous_filename": "tasks/uninstall-docker.yml",
                "additions": 23,
                "deletions": 12,
                "changes": 35,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/c0180d4afa36d233a6d3235cd38d7bbc6574d5d4/tasks/remove-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/c0180d4afa36d233a6d3235cd38d7bbc6574d5d4/tasks/remove-docker.yml",
                "status": "renamed",
                "patch": "@@ -32,10 +32,13 @@\n \n - name: Remove network interface docker0\n   become: yes\n-  net_interface:\n-    name: docker0\n-    state: absent\n+  command: ip link del docker0\n+  args:\n+    warn: no\n   ignore_errors: yes\n+  changed_when: no\n+  tags:\n+    - skip_ansible_lint\n \n - name: Remove dockerd from alternatives configuration\n   become: yes\n@@ -46,6 +49,7 @@\n     - skip_ansible_lint\n \n - name: Clean yum cache (CentOS/RedHat)\n+  become: yes\n   command: yum clean all --enablerepo=\\*\n   args:\n     warn: no\n@@ -71,37 +75,44 @@\n     - skip_ansible_lint\n \n - name: Remove repository docker specific repo file\n+  become: yes\n   yum_repository:\n     name: docker-ce\n     file: docker-ce\n     state: absent\n   when: _docker_os_dist != \"Ubuntu\" and\n         _docker_os_dist != \"Debian\"\n \n-- name: Ensure additional files and directories managed by this roles are removed\n+- name: Ensure Docker CE and configuration files are removed\n   become: yes\n   file:\n     path: \"{{ item }}\"\n     state: absent\n   with_items:\n-    # centos\n+    # all distributions\n     - \"{{ docker_envs_dir[_docker_os_dist] }}/docker\"\n     - \"{{ docker_envs_dir[_docker_os_dist] }}/docker-envs\"\n-    - /etc/yum.repos.d/docker-ce.repo\n     - /etc/audit/rules.d/docker.rules\n+    # centos\n+    - /etc/yum.repos.d/docker-ce.repo\n     - /etc/systemd/system/docker.service.d\n     - /etc/docker\n     - /usr/bin/dockerd\n-    - /var/lib/docker\n-    - /var/lib/docker-engine\n     - /run/docker\n-    - /var/lib/yum/repos/x86_64/7/docker-ce-test\n-    - /var/lib/yum/repos/x86_64/7/docker-ce-edge\n-    - /var/lib/yum/repos/x86_64/7/docker-ce-nightly\n-    - /var/lib/yum/repos/x86_64/7/docker-ce-stable\n     # ubuntu/debian\n     - /etc/apt/sources.list.d/docker-ce.list\n \n+- name: Ensure additional files and data directories are removed\n+  become: yes\n+  file:\n+    path: \"{{ item }}\"\n+    state: absent\n+  with_items:\n+    - /var/lib/docker\n+    - /var/lib/docker-engine\n+    - \"{{ docker_remove_additional }}\"\n+  when: docker_remove_all | bool\n+\n - name: Find Docker related diretories in package cache\n   become: yes\n   find:"
            }
        ]
    },
    {
        "repo": "rocknsm/rock",
        "author_id": "MDQ6VXNlcjEzMTI0ODA=",
        "author_name": "Jeff Geiger",
        "committer_id": "MDQ6VXNlcjEzMTI0ODA=",
        "committer_name": "Jeff Geiger",
        "committer_email": "jeff.geiger@gmail.com",
        "message": "Added explicit import of CentOS GPG key:\n\n *  Only when doing online install.\n *  Probably due to no gpgurl being specified for CentOS repos.\n *  Went with this because its a tested fix from @kwilson7770.\nFixes #142\nFixes #151",
        "sha": "05d17546dd4b4d1530151795cb0171dbc989945f",
        "url": "https://api.github.com/repos/rocknsm/rock/commits/05d17546dd4b4d1530151795cb0171dbc989945f",
        "parents": [
            "526b8a4e7bc81c6ee7da4150a0757c626a4f6578"
        ],
        "files": [
            {
                "sha": "fb0da0d11692ab5ebcd87e61f493fe01ba5d36af",
                "filename": "playbooks/deploy-rock.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/rocknsm/rock/blob/05d17546dd4b4d1530151795cb0171dbc989945f/playbooks/deploy-rock.yml",
                "raw_url": "https://github.com/rocknsm/rock/raw/05d17546dd4b4d1530151795cb0171dbc989945f/playbooks/deploy-rock.yml",
                "status": "modified",
                "patch": "@@ -117,6 +117,11 @@\n       gpgcheck: yes\n     when: rock_online_install\n \n+  - name: Manually trust CentOS GPG key\n+    shell: >\n+      rpm --import http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-7\n+    when: rock_online_install\n+\n   - name: Setup ELrepo Kernel repo\n     yum_repository:\n       name: elrepo-kernel"
            }
        ]
    },
    {
        "repo": "openshift/openshift-ansible-contrib",
        "author_id": "MDQ6VXNlcjM4MTI1MDA=",
        "author_name": "Ryan Cook",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix of missing var and prep for containerized install (#16)\n\n* fix of missing user data and prep work for upcoming containerized install\r\n\r\n* Update user_data_node.yml\r\n\r\n* tranisition to file lookup instead of template\r\n\r\n* shorter path",
        "sha": "6c7d241b1f2007377dd07509321fd70d60b7c619",
        "url": "https://api.github.com/repos/openshift/openshift-ansible-contrib/commits/6c7d241b1f2007377dd07509321fd70d60b7c619",
        "parents": [
            "0dfcf12314965f53d9abe658992b9ca7c83fcf06"
        ],
        "files": [
            {
                "sha": "8490c60bd06528552ca09545d088126163f73198",
                "filename": "reference-architecture/aws-ansible/playbooks/roles/cloudformation-infra/files/user_data_master.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 0,
                "changes": 7,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/6c7d241b1f2007377dd07509321fd70d60b7c619/reference-architecture/aws-ansible/playbooks/roles/cloudformation-infra/files/user_data_master.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/6c7d241b1f2007377dd07509321fd70d60b7c619/reference-architecture/aws-ansible/playbooks/roles/cloudformation-infra/files/user_data_master.yml",
                "status": "modified",
                "patch": "@@ -23,3 +23,10 @@ write_files:\n     EXTRA_DOCKER_STORAGE_OPTIONS=\"--storage-opt dm.basesize=3G\"\n   path: /etc/sysconfig/docker-storage-setup\n   owner: root:root\n+\n+users:\n+- default\n+\n+system_info:\n+  default_user:\n+    name: ec2-user"
            },
            {
                "sha": "2711d037be8f53d569c34eee828ff1c165aacb16",
                "filename": "reference-architecture/aws-ansible/playbooks/roles/cloudformation-infra/files/user_data_node.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 0,
                "changes": 8,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/6c7d241b1f2007377dd07509321fd70d60b7c619/reference-architecture/aws-ansible/playbooks/roles/cloudformation-infra/files/user_data_node.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/6c7d241b1f2007377dd07509321fd70d60b7c619/reference-architecture/aws-ansible/playbooks/roles/cloudformation-infra/files/user_data_node.yml",
                "status": "modified",
                "patch": "@@ -23,3 +23,11 @@ write_files:\n     EXTRA_DOCKER_STORAGE_OPTIONS=\"--storage-opt dm.basesize=3G\"\n   path: /etc/sysconfig/docker-storage-setup\n   owner: root:root\n+\n+users:\n+- default\n+\n+system_info:\n+  default_user:\n+    name: ec2-user\n+"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bjorn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bjorn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #108,#107,#104,#105",
        "sha": "721d2acc746050ded773ec8c8d410ec967aa422c",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/721d2acc746050ded773ec8c8d410ec967aa422c",
        "parents": [
            "8d4956fcd97d78caa57ee3e5a36e9c44a23ab2a6"
        ],
        "files": [
            {
                "sha": "8f8d2bd2a67e035155c917b8ffa7ae2d8414213d",
                "filename": "tasks/setup-repository-Ubuntu.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 5,
                "changes": 14,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/721d2acc746050ded773ec8c8d410ec967aa422c/tasks/setup-repository-Ubuntu.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/721d2acc746050ded773ec8c8d410ec967aa422c/tasks/setup-repository-Ubuntu.yml",
                "status": "modified",
                "patch": "@@ -68,8 +68,12 @@\n \n - name: Add Docker CE repository with correct channels (Ubuntu/Debian)\n   become: true\n-  apt_repository:\n-    repo: \"deb [arch={{ _docker_os_arch|lower }}] https://download.docker.com/linux/{{ _docker_os_dist|lower }} \\\n-      {{ ansible_lsb.codename }} {{ _docker_enable_channels | join(' ') }}\"\n-    state: present\n-    filename: 'docker-ce'\n+  copy:\n+    content: >\n+      deb [arch={{ _docker_os_arch|lower }}] https://download.docker.com/linux/{{ _docker_os_dist|lower }}\n+      {{ ansible_lsb.codename }} {{ _docker_enable_channels | join(' ') }}\n+    dest: /etc/apt/sources.list.d/docker-ce.list\n+    owner: root\n+    group: root\n+    mode: '0644'      \n+"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-security",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #54: Make automatic updates work on CentOS 8.",
        "sha": "f3dd45a61b08de1b3351140cc442a705cb2fad82",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-security/commits/f3dd45a61b08de1b3351140cc442a705cb2fad82",
        "parents": [
            "4915fb1ec791a6437d3bba28b882f4201be97102"
        ],
        "files": [
            {
                "sha": "83130f043dad73d9163bea1f7326e0ca4bd3c0ce",
                "filename": "tasks/autoupdate-RedHat.yml",
                "previous_filename": null,
                "additions": 26,
                "deletions": 7,
                "changes": 33,
                "blob_url": "https://github.com/geerlingguy/ansible-role-security/blob/f3dd45a61b08de1b3351140cc442a705cb2fad82/tasks/autoupdate-RedHat.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-security/raw/f3dd45a61b08de1b3351140cc442a705cb2fad82/tasks/autoupdate-RedHat.yml",
                "status": "modified",
                "patch": "@@ -1,13 +1,32 @@\n ---\n-- name: Install yum-cron.\n-  package: name=yum-cron state=present\n+- name: Set correct automatic update utility vars (RHEL 8).\n+  set_fact:\n+    update_utility: dnf-automatic\n+    update_conf_path: /etc/dnf/automatic.conf\n+  when: ansible_distribution_major_version | int == 8\n \n-- name: Ensure yum-cron is running and enabled on boot.\n-  service: name=yum-cron state=started enabled=yes\n+- name: Set correct automatic update utility vars (RHEL <= 7).\n+  set_fact:\n+    update_utility: yum-cron\n+    update_conf_path: /etc/yum/yum-cron.conf\n+  when: ansible_distribution_major_version | int <= 7\n \n-- name: Configure autoupdates (RHEL 7).\n+- name: Install automatic update utility.\n+  package:\n+    name: '{{ update_utility }}'\n+    state: present\n+\n+- name: Ensure automatic update utility is running and enabled on boot.\n+  service:\n+    name: '{{ update_utility }}'\n+    state: started\n+    enabled: true\n+\n+- name: Configure autoupdates.\n   lineinfile:\n-    dest: \"/etc/yum/yum-cron.conf\"\n+    dest: '{{ update_conf_path }}'\n     regexp: '^apply_updates = .+'\n     line: 'apply_updates = yes'\n-  when: security_autoupdate_enabled and ansible_distribution_major_version | int == 7\n+  when:\n+    - security_autoupdate_enabled\n+    - ansible_distribution_major_version | int in [7, 8]"
            }
        ]
    },
    {
        "repo": "florianutz/Ubuntu1604-CIS",
        "author_id": "MDQ6VXNlcjEzNjMyNDU0",
        "author_name": "Isaac Bentley",
        "committer_id": "MDQ6VXNlcjEzNjgzNzQz",
        "committer_name": "Florian Utz",
        "committer_email": "florianutz@users.noreply.github.com",
        "message": "fixed 1.4.1 missing condition to skip (#24)",
        "sha": "836dc4dd0dacc490044a14c0e39469d162b9449b",
        "url": "https://api.github.com/repos/florianutz/Ubuntu1604-CIS/commits/836dc4dd0dacc490044a14c0e39469d162b9449b",
        "parents": [
            "b4e1f0b868b5b344029a2a379812bd7112534a26"
        ],
        "files": [
            {
                "sha": "377da8f4a0e8a1455ff9eb42ced862040df4b618",
                "filename": "tasks/section1.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/836dc4dd0dacc490044a14c0e39469d162b9449b/tasks/section1.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/836dc4dd0dacc490044a14c0e39469d162b9449b/tasks/section1.yml",
                "status": "modified",
                "patch": "@@ -586,7 +586,9 @@\n       owner: root\n       group: root\n       mode: 0600\n-  when: ansible_os_family == \"Debian\"\n+  when: \n+      - ansible_os_family == \"Debian\"\n+      - ubuntu1604cis_rule_1_4_1\n   tags:\n       - level1\n       - scored"
            }
        ]
    },
    {
        "repo": "sensu/sensu-ansible",
        "author_id": "MDQ6VXNlcjI0NDY2MjUw",
        "author_name": "awhite-telstra",
        "committer_id": "MDQ6VXNlcjExOTAyNDc2",
        "committer_name": "Stephen Muth",
        "committer_email": "smuth4@users.noreply.github.com",
        "message": "Fixes for ansible (#77)\n\n* static: false for SmartOS include\r\n\r\n* add static=false to all conditional template include",
        "sha": "a43c23c44c9aae1a13343ccea4b99acac997c4e1",
        "url": "https://api.github.com/repos/sensu/sensu-ansible/commits/a43c23c44c9aae1a13343ccea4b99acac997c4e1",
        "parents": [
            "f565940c5163524c7834123625c804e5f69c2b10"
        ],
        "files": [
            {
                "sha": "a11efb83b90d0e86b372a0320e1bdd50b3f06808",
                "filename": "tasks/ssl.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/sensu/sensu-ansible/blob/a43c23c44c9aae1a13343ccea4b99acac997c4e1/tasks/ssl.yml",
                "raw_url": "https://github.com/sensu/sensu-ansible/raw/a43c23c44c9aae1a13343ccea4b99acac997c4e1/tasks/ssl.yml",
                "status": "modified",
                "patch": "@@ -12,6 +12,7 @@\n \n   - include: ssl_generate.yml\n     when: sensu_ssl_gen_certs\n+    static: false\n \n   - name: Deploy the Sensu client SSL cert/key\n     copy:"
            },
            {
                "sha": "eeddca97d5c70fe44719d383d17367b9242d0c85",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/sensu/sensu-ansible/blob/a43c23c44c9aae1a13343ccea4b99acac997c4e1/tasks/main.yml",
                "raw_url": "https://github.com/sensu/sensu-ansible/raw/a43c23c44c9aae1a13343ccea4b99acac997c4e1/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -10,6 +10,7 @@\n     tags: redis\n     when: redis_server\n           and sensu_deploy_redis\n+    static: false\n \n   - include: ssl.yml\n     tags: ssl\n@@ -18,21 +19,25 @@\n     tags: rabbitmq\n     when: rabbitmq_server\n           and sensu_deploy_rabbitmq\n+    static: false\n \n   - include: common.yml\n     tags: common\n \n   - include: server.yml\n     tags: server\n     when: sensu_master\n+    static: false\n \n   - include: dashboard.yml\n     tags: dashboard\n     when: sensu_include_dashboard\n+    static: false\n \n   - include: client.yml\n     tags: client\n \n   - include: plugins.yml\n     tags: plugins\n     when: sensu_include_plugins\n+    static: false"
            },
            {
                "sha": "f88f161d38ffc9ddb5e764ec5439576f8391e12b",
                "filename": "tasks/server.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/sensu/sensu-ansible/blob/a43c23c44c9aae1a13343ccea4b99acac997c4e1/tasks/server.yml",
                "raw_url": "https://github.com/sensu/sensu-ansible/raw/a43c23c44c9aae1a13343ccea4b99acac997c4e1/tasks/server.yml",
                "status": "modified",
                "patch": "@@ -13,6 +13,7 @@\n \n   - include: SmartOS/server.yml\n     when: ansible_distribution == \"SmartOS\"\n+    static: false\n \n   - name: Ensure Sensu server service is running\n     service: name=sensu-server state=started enabled=yes"
            },
            {
                "sha": "5395ac8e7deb21b292b0bf2b570519fcd184af35",
                "filename": "tasks/client.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/sensu/sensu-ansible/blob/a43c23c44c9aae1a13343ccea4b99acac997c4e1/tasks/client.yml",
                "raw_url": "https://github.com/sensu/sensu-ansible/raw/a43c23c44c9aae1a13343ccea4b99acac997c4e1/tasks/client.yml",
                "status": "modified",
                "patch": "@@ -13,6 +13,7 @@\n \n   - include: SmartOS/client.yml\n     when: ansible_distribution == \"SmartOS\"\n+    static: false\n \n   - name: Ensure Sensu client service is running\n     service: name=sensu-client state=started enabled=yes"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjI0MTc4NQ==",
        "author_name": "Federico G. Schwindt",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "17044561+jackivanov@users.noreply.github.com",
        "message": "Fix ipv4 address missing on reboot (#1245)",
        "sha": "a4f2c97fd2f48c70e006e16e18e0609c1b16eeb4",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/a4f2c97fd2f48c70e006e16e18e0609c1b16eeb4",
        "parents": [
            "e478d31e50786acdba83bfa5ffa99c63b5d1410b"
        ],
        "files": [
            {
                "sha": "9f200189a44d5be25a075de15420d47c077469d5",
                "filename": "roles/common/tasks/freebsd.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/trailofbits/algo/blob/a4f2c97fd2f48c70e006e16e18e0609c1b16eeb4/roles/common/tasks/freebsd.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/a4f2c97fd2f48c70e006e16e18e0609c1b16eeb4/roles/common/tasks/freebsd.yml",
                "status": "modified",
                "patch": "@@ -42,7 +42,7 @@\n     block: |\n       cloned_interfaces=\"lo100\"\n       ifconfig_lo100=\"inet {{ local_service_ip }} netmask 255.255.255.255\"\n-      ifconfig_lo100=\"inet6 FCAA::1/64\"\n+      ifconfig_lo100_ipv6=\"inet6 FCAA::1/64\"\n   notify:\n     - restart loopback bsd\n   tags:"
            }
        ]
    },
    {
        "repo": "ansible-ThoTeam/nexus3-oss",
        "author_id": "MDQ6VXNlcjE3Njc3Ng==",
        "author_name": "Olivier Clavel",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #104 from zeitounator/fix/restartOnPreextractedUpgrade\n\nMake sure nexus is restarted on several config/upgrade changes\r\nFixes #98",
        "sha": "e14b5a521cae632ac6866ce9200d703b8e700e9d",
        "url": "https://api.github.com/repos/ansible-ThoTeam/nexus3-oss/commits/e14b5a521cae632ac6866ce9200d703b8e700e9d",
        "parents": [
            "5404962535c1adcfe95bff1536d60dc05fa32e0c",
            "fb558b94ed9a8daeacd2b314a99610d3feefb124"
        ],
        "files": [
            {
                "sha": "cc88f95da826ef0c94fad4097d41511be3143510",
                "filename": "tasks/nexus_install.yml",
                "previous_filename": null,
                "additions": 22,
                "deletions": 2,
                "changes": 24,
                "blob_url": "https://github.com/ansible-ThoTeam/nexus3-oss/blob/e14b5a521cae632ac6866ce9200d703b8e700e9d/tasks/nexus_install.yml",
                "raw_url": "https://github.com/ansible-ThoTeam/nexus3-oss/raw/e14b5a521cae632ac6866ce9200d703b8e700e9d/tasks/nexus_install.yml",
                "status": "modified",
                "patch": "@@ -66,8 +66,6 @@\n   notify:\n     - nexus-service-stop\n \n-- meta: flush_handlers\n-\n - name: Update symlink nexus-latest\n   file:\n     path: \"{{ nexus_installation_dir }}/nexus-latest\"\n@@ -77,6 +75,10 @@\n     state: link\n     follow: false\n   register: nexus_latest_version\n+  notify:\n+    - nexus-service-stop\n+\n+- meta: flush_handlers\n \n - name: Delete unpacked data directory\n   file:\n@@ -157,18 +159,24 @@\n     dest: \"{{ nexus_installation_dir }}/nexus-latest/bin/nexus.vmoptions\"\n     regexp: \"^-Dkaraf.data=.*\"\n     line: \"-Dkaraf.data={{ nexus_data_dir }}\"\n+  notify:\n+    - nexus-service-stop\n \n - name: Setup JVM logfile directory\n   lineinfile:\n     dest: \"{{ nexus_installation_dir }}/nexus-latest/bin/nexus.vmoptions\"\n     regexp: \"^-XX:LogFile=.*\"\n     line: \"-XX:LogFile={{ nexus_data_dir }}/log/jvm.log\"\n+  notify:\n+    - nexus-service-stop\n \n - name: Setup Nexus default timezone\n   lineinfile:\n     dest: \"{{ nexus_installation_dir }}/nexus-latest/bin/nexus.vmoptions\"\n     regexp: \"^-Duser.timezone=.*\"\n     line: \"-Duser.timezone={{ nexus_timezone }}\"\n+  notify:\n+    - nexus-service-stop\n \n - name: Setup Nexus JVM min heap size\n   lineinfile:\n@@ -206,37 +214,49 @@\n     dest: \"{{ nexus_installation_dir }}/nexus-latest/bin/nexus.vmoptions\"\n     regexp: \"^-Djava.io.tmpdir=.*\"\n     line: \"-Djava.io.tmpdir={{ nexus_tmp_dir }}\"\n+  notify:\n+    - nexus-service-stop\n \n - name: Set NEXUS_HOME for the service user\n   lineinfile:\n     dest: \"/home/{{ nexus_os_user }}/.bashrc\"\n     regexp: \"^export NEXUS_HOME=.*\"\n     line: \"export NEXUS_HOME={{ nexus_installation_dir }}/nexus-latest\"\n+  notify:\n+    - nexus-service-stop\n \n - name: Set nexus user\n   lineinfile:\n     dest: \"{{ nexus_installation_dir }}/nexus-latest/bin/nexus.rc\"\n     regexp: \".*run_as_user=.*\"\n     line: \"run_as_user=\\\"{{ nexus_os_user }}\\\"\"\n+  notify:\n+    - nexus-service-stop\n \n - name: Set nexus port\n   lineinfile:\n     dest: \"{{ nexus_default_settings_file }}\"\n     regexp: \"^application-port=.*\"\n     line: \"application-port={{ nexus_default_port }}\"\n+  notify:\n+    - nexus-service-stop\n \n - name: Set nexus context path\n   lineinfile:\n     dest: \"{{ nexus_default_settings_file }}\"\n     regexp: \"^nexus-context-path=.*\"\n     line: \"nexus-context-path={{ nexus_default_context_path }}\"\n+  notify:\n+    - nexus-service-stop\n \n - name: Bind nexus service to 127.0.0.1 only\n   lineinfile:\n     dest: \"{{ nexus_default_settings_file }}\"\n     regexp: \"^application-host=.*\"\n     line: \"application-host=127.0.0.1\"\n   when: httpd_setup_enable\n+  notify:\n+    - nexus-service-stop\n \n - name: Create systemd service configuration\n   template:"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bjorn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bjorn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #99",
        "sha": "24943321a3ac3eedade34045a2e7874ced52c390",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/24943321a3ac3eedade34045a2e7874ced52c390",
        "parents": [
            "03dddcd78fb6d8b2d17def65876489107c3a067a"
        ],
        "files": [
            {
                "sha": "a0f5f9eb3fbd1d4f3459cbf1c74c99d53a4128ce",
                "filename": "tasks/configure-docker/configure-docker-plugins.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 6,
                "changes": 12,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/24943321a3ac3eedade34045a2e7874ced52c390/tasks/configure-docker/configure-docker-plugins.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/24943321a3ac3eedade34045a2e7874ced52c390/tasks/configure-docker/configure-docker-plugins.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,5 @@\n - name: Fetch Docker daemon status\n-  become: true\n+  become: yes\n   service:\n     name: docker\n   register: _docker_status\n@@ -15,7 +15,7 @@\n     - _docker_status.status.SubState != \"running\"\n \n - name: Wait for Docker daemon to started\n-  become: true\n+  become: yes\n   shell: docker info\n   register: _docker_info\n   until: _docker_info.rc == 0\n@@ -25,7 +25,7 @@\n     - skip_ansible_lint\n \n - name: Install Docker plugins\n-  become: true\n+  become: yes\n   shell: \"(docker plugin install --grant-all-permissions --alias {{ item.alias | default(item.name) }} {{ item.name }} \\\n     && echo 'installed') || echo 'nop'\"\n   with_items: \"{{ docker_plugins }}\"\n@@ -47,14 +47,14 @@\n \n - name: Update Docker daemon configuration with authorization plugins\n   set_fact:\n-    docker_daemon_config: \"{{ docker_daemon_config | combine(_updated_item, recursive=true) }}\"\n+    _docker_daemon_config: \"{{ docker_daemon_config | combine(_updated_item, recursive=true) }}\"\n   vars:\n     _updated_item: \"{ 'authorization-plugins': {{ _authz_plugins | list }} }\"\n \n - name: Update Docker daemon (variables)\n-  become: true\n+  become: yes\n   copy:\n-    content: \"{{ docker_daemon_config | to_nice_json }}\"\n+    content: \"{{ _docker_daemon_config | to_nice_json }}\"\n     dest: /etc/docker/daemon.json\n   notify: restart docker\n   when:"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjYyNjIyNg==",
        "author_name": "Emlyn Stokes",
        "committer_id": "MDQ6VXNlcjE3NjQyMTA=",
        "committer_name": "Paul Chaignon",
        "committer_email": "paul.chaignon@gmail.com",
        "message": "Fix rsyslog section numbering to match CIS doc (#123)",
        "sha": "2cfa28fd756194b32e320ab9c0df1e455f27dc38",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/2cfa28fd756194b32e320ab9c0df1e455f27dc38",
        "parents": [
            "a58e5e6a7e5184c80cf44ff600e8eea60d32cba5"
        ],
        "files": [
            {
                "sha": "c5ba59dd7c2365d764ae1a32c4b97f555f8439bb",
                "filename": "tasks/section_08_level1.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/2cfa28fd756194b32e320ab9c0df1e455f27dc38/tasks/section_08_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/2cfa28fd756194b32e320ab9c0df1e455f27dc38/tasks/section_08_level1.yml",
                "status": "modified",
                "patch": "@@ -17,7 +17,7 @@\n       - section8.2\n       - section8.2.1\n \n-  - name: 8.2.2 Ensure the rsyslog Service is activated (Scored)\n+  - name: 8.2.2.1 Ensure the rsyslog Service is activated (check) (Scored)\n     command: grep 'start on filesystem' /etc/rsyslog.conf\n     register: startonfilesystem\n     changed_when: False\n@@ -26,9 +26,9 @@\n     tags:\n       - section8\n       - section8.2\n-      - section8.2.5\n+      - section8.2.2\n \n-  - name: 8.2.5.2 Configure rsyslog to Send Logs to a Remote Log Host (start rsyslog) (Scored)\n+  - name: 8.2.2.2 Ensure the rsyslog Service is activated (Scored)\n     lineinfile:\n        dest=/etc/rsyslog.conf\n        line='start on filesystem'\n@@ -38,7 +38,7 @@\n     tags:\n       - section8\n       - section8.2\n-      - section8.2.5\n+      - section8.2.2\n \n   - name: 8.2.3 Configure /etc/rsyslog.conf (Not Scored)\n     lineinfile:"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #41",
        "sha": "71cda5f377e4e4de8b037d066df6a45835637e3c",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/71cda5f377e4e4de8b037d066df6a45835637e3c",
        "parents": [
            "4a9c5644e154cd8e89c612b96e269eb080a58844"
        ],
        "files": [
            {
                "sha": "632c334ca0429b8b4f250c590c594b8d0bb19b3e",
                "filename": "tasks/setup-repository.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/71cda5f377e4e4de8b037d066df6a45835637e3c/tasks/setup-repository.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/71cda5f377e4e4de8b037d066df6a45835637e3c/tasks/setup-repository.yml",
                "status": "modified",
                "patch": "@@ -8,6 +8,7 @@\n - name: Update APT cache\n   apt:\n     update_cache: yes\n+  changed_when: false\n   become: true\n   when: _docker_os_dist == \"Ubuntu\" or\n         _docker_os_dist == \"Debian\""
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjEzODcwNDA=",
        "author_name": "Demian",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "17044561+jackivanov@users.noreply.github.com",
        "message": "fix OS is undefined error (#1335)",
        "sha": "5e5424df6922c1c7505eb08a132faedfb3fc5ff7",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/5e5424df6922c1c7505eb08a132faedfb3fc5ff7",
        "parents": [
            "ec56203b8797d4af54c2ac2ed4ce5a7fa8c23415"
        ],
        "files": [
            {
                "sha": "fcb5af117ca75e2a9e35e14263ea76f62f053844",
                "filename": "roles/common/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/trailofbits/algo/blob/5e5424df6922c1c7505eb08a132faedfb3fc5ff7/roles/common/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/5e5424df6922c1c7505eb08a132faedfb3fc5ff7/roles/common/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -3,6 +3,8 @@\n   - name: Check the system\n     raw: uname -a\n     register: OS\n+    tags:\n+      - update-users\n \n   - include_tasks: ubuntu.yml\n     when: '\"Ubuntu\" in OS.stdout or \"Linux\" in OS.stdout'"
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "gtayzlor@gmail.com",
        "message": "Fix #473 - Add rebuild container to mesos/zookeeper/cadvisor/dnsmasq",
        "sha": "35e3fa9ab5349a9909da5d6f3897d265175c6f97",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/35e3fa9ab5349a9909da5d6f3897d265175c6f97",
        "parents": [
            "f85435227eb23c6e474103286c17d7406baeff47"
        ],
        "files": [
            {
                "sha": "3ffa6ba92d0ccfbdb2e0582e0d34a88430a197e7",
                "filename": "roles/zookeeper/tasks/main.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 0,
                "changes": 9,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/zookeeper/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/zookeeper/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -72,6 +72,15 @@\n   tags:\n     - zookeeper\n \n+- name: destroy old zookeeper container\n+  when: zookeeper_rebuild_container\n+  docker:\n+    name: zookeeper\n+    image: \"{{ zookeeper_image }}\"\n+    state: absent\n+  tags:\n+    - zookeeper\n+\n - name: run zookeeper container\n   docker:\n     name: zookeeper"
            },
            {
                "sha": "d8a225e51a9ca17f54084a7e551c373847fef863",
                "filename": "roles/mesos/tasks/slave.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 0,
                "changes": 9,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/mesos/tasks/slave.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/mesos/tasks/slave.yml",
                "status": "modified",
                "patch": "@@ -11,6 +11,15 @@\n   tags:\n     - mesos-slave\n \n+- name: destroy old mesos-slave container\n+  when: mesos_slave_rebuild_container\n+  docker:\n+    name: mesos-slave\n+    image: \"{{ mesos_slave_image }}\"\n+    state: absent\n+  tags:\n+    - mesos-slave\n+\n - name: run mesos-slave container\n   when: mesos_install_mode == \"slave\"\n   docker:"
            },
            {
                "sha": "66a9cbcc21c0532b2bc4bc91c8316b1a50cb61ba",
                "filename": "roles/dnsmasq/tasks/main.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 1,
                "changes": 11,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/dnsmasq/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/dnsmasq/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -22,12 +22,21 @@\n   tags:\n     - dnsmasq\n \n+- name: destroy old dnsmasq container\n+  when: dnsmasq_rebuild_container\n+  docker:\n+    name: dnsmasq\n+    image: \"{{ dnsmasq_image }}\"\n+    state: absent\n+  tags:\n+    - dnsmasq\n+\n # This should be using -cap-add=NET_ADMIN rather than privileged: true.\n # This will be supported in Ansible 2.0\n - name: run dnsmasq container\n   docker:\n     name: dnsmasq\n-    image: \"andyshinn/dnsmasq\"\n+    image: \"{{ dnsmasq_image }}\"\n     state: started\n     net: \"host\"\n     privileged: true"
            },
            {
                "sha": "3f26c78190cf10a8d222501b8e640544f4cb1d06",
                "filename": "roles/zookeeper/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/zookeeper/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/zookeeper/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -22,3 +22,4 @@ zookeeper_id: \"\n     {%- endif -%}\n \"\n consul_dir: /etc/consul.d\n+zookeeper_rebuild_container: false"
            },
            {
                "sha": "92e1eb4cdb4a749ac4b36dd16b0230db621cba10",
                "filename": "roles/mesos/defaults/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/mesos/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/mesos/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -14,12 +14,14 @@ mesos_containerizers: \"docker,mesos\"\n mesos_resources: \"ports(*):[31000-32000]\"\n mesos_slave_work_dir: \"/tmp/mesos\"\n mesos_slave_image: \"mesosphere/mesos-slave:{{ mesos_version }}\"\n+mesos_slave_rebuild_container: false\n \n # Defaults file for mesos-master\n mesos_zookeeper_group: zookeeper_servers\n mesos_master_port: 5050\n mesos_master_work_dir: \"/var/lib/mesos\"\n mesos_master_image: \"mesosphere/mesos-master:{{ mesos_version }}\"\n+mesos_master_rebuild_container: false\n \n prometheus_mesos_exporter_image: \"prom/mesos-exporter:latest\"\n prometheus_mesos_exporter_port: 9105"
            },
            {
                "sha": "ca9f04f1f431bf43ccab863e91b865c3cf7b2a82",
                "filename": "roles/dnsmasq/defaults/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/dnsmasq/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/dnsmasq/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -2,3 +2,5 @@\n # defaults file for dnsmasq\n dnsmasq_config_folder: \"/etc/dnsmasq.d\"\n dnsmasq_resolvconf_file: \"{{ dnsmasq_config_folder }}/resolv.conf~\"\n+dnsmasq_rebuild_container: false\n+dnsmasq_image: \"andyshinn/dnsmasq\""
            },
            {
                "sha": "038c8692755b64fd16a2d364fb4fb5f8e862d164",
                "filename": "roles/cadvisor/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/cadvisor/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/cadvisor/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -8,3 +8,4 @@ cadvisor_hostname: \"{{ ansible_ssh_host }}\"\n cadvisor_image: \"google/cadvisor:{{ cadvisor_version }}\"\n cadvisor_consul_dir: /etc/consul.d\n cadvisor_consul_service_id: \"{{ ansible_hostname }}:cadvisor:8080\"\n+cadvisor_rebuild_container: false"
            },
            {
                "sha": "918a982b10ded59e0f0251db45e741bf68a42a08",
                "filename": "roles/mesos/tasks/master.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 0,
                "changes": 9,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/mesos/tasks/master.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/mesos/tasks/master.yml",
                "status": "modified",
                "patch": "@@ -22,6 +22,15 @@\n   tags:\n     - mesos-master\n \n+- name: destroy old mesos-master container\n+  when: mesos_master_rebuild_container\n+  docker:\n+    name: mesos-master\n+    image: \"{{ mesos_master_image }}\"\n+    state: absent\n+  tags:\n+    - mesos-master\n+\n - name: run mesos-master container\n   when: mesos_install_mode == \"master\"\n   docker:"
            },
            {
                "sha": "14516053d5fc0d15e09f4434b5b070dcbe88077b",
                "filename": "roles/cadvisor/tasks/main.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 0,
                "changes": 9,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/cadvisor/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/35e3fa9ab5349a9909da5d6f3897d265175c6f97/roles/cadvisor/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,13 @@\n # tasks for running cadvisor\n+- name: destroy old cadvisor container\n+  when: cadvisor_rebuild_container\n+  docker:\n+    name: cadvisor\n+    image: \"{{ cadvisor_image }}\"\n+    state: absent\n+  tags:\n+    - cadvisor\n+\n - name: run cadvisor container\n   when: cadvisor_enabled\n   docker:"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #110: Adds support and tests for Solr 8.x, and defaults to 8.2.0.",
        "sha": "c5a37bf5da48e5223309db7b4d0546f87629d17f",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/c5a37bf5da48e5223309db7b4d0546f87629d17f",
        "parents": [
            "4a9aaf0951e383c57077cf651b93e78eeea1b5ac"
        ],
        "files": [
            {
                "sha": "b66209d8fa891d6ab054a9bc7e3e1ff2fe1ad17d",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/c5a37bf5da48e5223309db7b4d0546f87629d17f/meta/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/c5a37bf5da48e5223309db7b4d0546f87629d17f/meta/main.yml",
                "status": "modified",
                "patch": "@@ -12,6 +12,7 @@ galaxy_info:\n       versions:\n         - 6\n         - 7\n+        - 8\n     - name: Debian\n       versions:\n         - all"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixed #45",
        "sha": "79974323f51920d3ab8bc76b23558ba15eb7e4c2",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/79974323f51920d3ab8bc76b23558ba15eb7e4c2",
        "parents": [
            "45971be8249cc4627ef8ddfacf55a661b7fc13ca"
        ],
        "files": [
            {
                "sha": "645d83c9bbfccc0c2f7917f8136ec343ca2d4ca5",
                "filename": "tasks/configure-systemd.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/79974323f51920d3ab8bc76b23558ba15eb7e4c2/tasks/configure-systemd.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/79974323f51920d3ab8bc76b23558ba15eb7e4c2/tasks/configure-systemd.yml",
                "status": "modified",
                "patch": "@@ -37,7 +37,7 @@\n     docker_envs: \"{{ docker_service_envs }}\"\n \n - name: Force daemon reload of systemd\n-  systemd: \n+  systemd:\n     daemon_reload: yes\n   become: yes\n   notify: restart docker"
            },
            {
                "sha": "c8d08f35f8c1e8bd91473e0b78c5325dbde65b82",
                "filename": "tasks/configure-docker.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 1,
                "changes": 1,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/79974323f51920d3ab8bc76b23558ba15eb7e4c2/tasks/configure-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/79974323f51920d3ab8bc76b23558ba15eb7e4c2/tasks/configure-docker.yml",
                "status": "modified",
                "patch": "@@ -61,4 +61,3 @@\n   notify: restart docker\n   changed_when: docker_service.status.SubState != \"running\"\n   when: docker_service.status is defined\n-"
            },
            {
                "sha": "856efa5272a2b6e42d7f889b59f268a79c0b1513",
                "filename": "tasks/setup-repository.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/79974323f51920d3ab8bc76b23558ba15eb7e4c2/tasks/setup-repository.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/79974323f51920d3ab8bc76b23558ba15eb7e4c2/tasks/setup-repository.yml",
                "status": "modified",
                "patch": "@@ -85,7 +85,7 @@\n   become: true\n   when: (_docker_os_dist == \"CentOS\" or _docker_os_dist == \"Fedora\" or _docker_os_dist == \"RedHat\") and\n         _fact_docker_ce_edge_enabled != docker_enable_ce_edge\n-        \n+\n # disable rt-beta so we don't get a 403 error retrieving repomd.xml\n - name: Check if rhel-7-server-rt-beta-rpms Repository is enabled (RedHat)\n   shell: \"subscription-manager repos --list-enabled | grep rhel-7-server-rt-beta-rpms\""
            },
            {
                "sha": "a8b7be4fc0f1c1e5ad4159e3dd45657efe2d8fd4",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/79974323f51920d3ab8bc76b23558ba15eb7e4c2/handlers/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/79974323f51920d3ab8bc76b23558ba15eb7e4c2/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -10,7 +10,7 @@\n \n # Workaround because systemd cannot be used: https://github.com/ansible/ansible/issues/22171\n - name: restart auditd\n-  shell: service auditd restart\n+  command: service auditd restart\n   args:\n     warn: no\n   become: yes"
            },
            {
                "sha": "bd6e3ef84f074c04cfe4be5befd4859e63151a45",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/79974323f51920d3ab8bc76b23558ba15eb7e4c2/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/79974323f51920d3ab8bc76b23558ba15eb7e4c2/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -22,7 +22,7 @@\n - name: Determine usage of systemd\n   shell: \"ps -p1 | grep systemd 1>/dev/null && echo systemd || echo upstart\"\n   become: true\n-  changed_when: no  \n+  changed_when: no\n   register: _determine_systemd_usage\n \n - name: Set fact to indicate systemd is not used\n@@ -56,12 +56,12 @@\n \n - name: Configure systemd service\n   include_tasks: configure-systemd.yml\n-  when: _docker_systemd_used | bool  \n+  when: _docker_systemd_used | bool\n   tags: [\"configure\"]\n \n - name: Configure non-systemd service\n   include_tasks: configure-non-systemd.yml\n-  when: _docker_systemd_used | bool == false \n+  when: _docker_systemd_used | bool == false\n   tags: [\"configure\"]\n \n - name: Configure Docker"
            },
            {
                "sha": "1cd33a375e479ddd832bb7effbfdf000c29907d0",
                "filename": "tasks/bug-tweaks.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 3,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/79974323f51920d3ab8bc76b23558ba15eb7e4c2/tasks/bug-tweaks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/79974323f51920d3ab8bc76b23558ba15eb7e4c2/tasks/bug-tweaks.yml",
                "status": "modified",
                "patch": "@@ -13,7 +13,7 @@\n       reload: yes\n     become: yes\n     when: may_detach_mounts.stat.exists\n-  \n+\n   # Keep for compatibility reasons of this role. Now everything is in the same file.\n   - name: Remove systemd drop-in for Docker Mount Flags slave configuration (CentOS/RedHat)\n     file:\n@@ -32,5 +32,3 @@\n     - _docker_os_dist == \"CentOS\" or _docker_os_dist == \"RedHat\"\n     - docker_enable_mount_flag_fix | bool\n     - ansible_kernel | version_compare('4', '<')\n-\n-"
            },
            {
                "sha": "b63cf087883540084d0ad8a1775b8e36a457d439",
                "filename": "tasks/checks.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 2,
                "changes": 3,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/79974323f51920d3ab8bc76b23558ba15eb7e4c2/tasks/checks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/79974323f51920d3ab8bc76b23558ba15eb7e4c2/tasks/checks.yml",
                "status": "modified",
                "patch": "@@ -2,6 +2,5 @@\n - include_tasks: distribution-checks.yml\n   when:\n     _docker_os_dist_check | bool\n-    \n-- include_tasks: compatibility-checks.yml\n \n+- include_tasks: compatibility-checks.yml"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #20",
        "sha": "b0e86eb9314db3419c3ff30ef230518bad3fbae5",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/b0e86eb9314db3419c3ff30ef230518bad3fbae5",
        "parents": [
            "8e163ea5311fe60375fd7dc20c9ca22ca926bce4"
        ],
        "files": [
            {
                "sha": "3ba6da956319ac47a0b432ae70f8d86ed9a4869a",
                "filename": "tasks/kernel-3-mount-fixes.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/b0e86eb9314db3419c3ff30ef230518bad3fbae5/tasks/kernel-3-mount-fixes.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/b0e86eb9314db3419c3ff30ef230518bad3fbae5/tasks/kernel-3-mount-fixes.yml",
                "status": "modified",
                "patch": "@@ -13,7 +13,7 @@\n   when: may_detach_mounts.stat.exists\n \n - name: Ensure /etc/systemd/system/docker.service.d directory exists\n-  file: \n+  file:\n     path: /etc/systemd/system/docker.service.d\n     state: directory\n     mode: 0755"
            },
            {
                "sha": "da48e816cf3e8fabfc11496bc2d738189272f530",
                "filename": "tasks/setup-audit.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 0,
                "changes": 8,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/b0e86eb9314db3419c3ff30ef230518bad3fbae5/tasks/setup-audit.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/b0e86eb9314db3419c3ff30ef230518bad3fbae5/tasks/setup-audit.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,12 @@\n ---\n+- name: Ensure auditd is installed\n+  package:\n+    name: auditd\n+    state: present\n+  become: true\n+  when: ansible_distribution == \"Ubuntu\" or \n+        ansible_distribution == \"Debian\"\n+\n - name: Copy Docker audit rules\n   copy:\n     src: files/etc/audit/rules.d/docker.rules"
            },
            {
                "sha": "8b22eb105dbedc16fd7c46d5ddffe435b461a60b",
                "filename": "tasks/setup-repository.yml",
                "previous_filename": null,
                "additions": 53,
                "deletions": 10,
                "changes": 63,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/b0e86eb9314db3419c3ff30ef230518bad3fbae5/tasks/setup-repository.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/b0e86eb9314db3419c3ff30ef230518bad3fbae5/tasks/setup-repository.yml",
                "status": "modified",
                "patch": "@@ -5,41 +5,84 @@\n   changed_when: false\n   when: ansible_distribution == \"Fedora\"\n \n-- name: Ensure yum-utils is installed\n+- name: Update APT cache\n+  apt:\n+    update_cache: yes\n+  become: true\n+  when: ansible_distribution == \"Ubuntu\" or\n+        ansible_distribution == \"Debian\"\n+\n+- name: Ensure packages are installed for repository setup\n   package:\n-    name: yum-utils\n+    name: \"{{ item }}\"\n+    state: present\n+  with_items: \n+    - \"{{ docker_repository_related_packages[ansible_distribution] }}\"\n+  become: true\n+  when: ansible_distribution == \"Ubuntu\" or\n+        ansible_distribution == \"Debian\" or\n+        ansible_distribution == \"CentOS\"\n+\n+- name: Add Docker\u2019s official GPG key\n+  apt_key:\n+    url: https://download.docker.com/linux/{{ ansible_distribution|lower }}/gpg\n+    state: present\n+  become: true\n+  when: (ansible_distribution == \"Ubuntu\" and ansible_distribution_major_version > '14')\n+        or ansible_distribution == \"Debian\"\n+\n+- name: Add Docker APT key (alternative for older Ubuntu systems without SNI).\n+  shell: \"curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\"\n+  args:\n+    warn: false\n+  become: true\n+  when: ansible_distribution == \"Ubuntu\" and\n+        ansible_distribution_major_version == '14'\n+\n+- name: Add Docker CE repository (Ubuntu/Debian)\n+  apt_repository:\n+    repo: deb [arch=amd64] https://download.docker.com/linux/{{ ansible_distribution|lower }} {{ ansible_distribution_release }} stable {{ (docker_enable_ce_edge == true) | ternary('edge','') }}\n     state: present\n+    filename: 'docker-ce'\n   become: true\n-  when: ansible_distribution == \"CentOS\"\n+  when: ansible_distribution == \"Ubuntu\" or\n+        ansible_distribution == \"Debian\"\n \n-- name: Add Docker CE repository\n+- name: Add Docker CE repository (Fedora/CentOS)\n   get_url:\n     url: \"{{ docker_repository_url[ansible_distribution] }}\"\n     dest: /etc/yum.repos.d/docker-ce.repo\n     mode: 0644\n   become: true\n   register: docker_repo\n+  when: ansible_distribution == \"CentOS\" or\n+        ansible_distribution == \"Fedora\"\n \n-- name: Determine Docker CE Edge repo status\n+- name: Determine Docker CE Edge repo status (Fedora/CentOS)\n   shell: \"{{ docker_cmd_check_edge_repo_status[ansible_distribution] }}\"\n   args:\n-    warn: false  \n+    warn: false\n   ignore_errors: yes\n   changed_when: false\n   register: cmd_docker_ce_edge_enabled\n+  when: ansible_distribution == \"CentOS\" or\n+        ansible_distribution == \"Fedora\"\n \n-- name: Set current Docker CE Edge repo status fact\n+- name: Set current Docker CE Edge repo status fact (Fedora/CentOS)\n   set_fact:\n     fact_docker_ce_edge_enabled: \"{{ cmd_docker_ce_edge_enabled.stdout == 'enabled = True' }}\"\n+  when: ansible_distribution == \"CentOS\" or\n+        ansible_distribution == \"Fedora\"\n \n-- name: Enable/Disable Docker CE Edge Repository\n+- name: Enable/Disable Docker CE Edge Repository (Fedora/CentOS)\n   shell: \"{{ docker_cmd_enable_disable_edge_repo[ansible_distribution] }}\"\n   become: true\n-  when: fact_docker_ce_edge_enabled != docker_enable_ce_edge\n+  when: (ansible_distribution == \"CentOS\" or ansible_distribution == \"Fedora\") and\n+        fact_docker_ce_edge_enabled != docker_enable_ce_edge\n \n - name: Update repository cache\n   shell: \"{{ docker_cmd_update_repo_cache[ansible_distribution] }}\"\n   args:\n-    warn: false  \n+    warn: false\n   become: true\n   when: docker_repo.changed\n\\ No newline at end of file"
            },
            {
                "sha": "3b95f900b59348b8aaa0c53c13a82e1300713b93",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 14,
                "changes": 15,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/b0e86eb9314db3419c3ff30ef230518bad3fbae5/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/b0e86eb9314db3419c3ff30ef230518bad3fbae5/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,18 +1,5 @@\n ---\n-- name: Fail if unsupported CentOS version\n-  fail:\n-    msg: \"CentOS 7 or later is required!\"\n-  when: ansible_distribution == \"CentOS\" and ansible_distribution_major_version < '7'\n-\n-- name: Fail if unsupported Fedora version\n-  fail:\n-    msg: \"Fedora 24 or later is required!\"\n-  when: ansible_distribution == \"Fedora\" and ansible_distribution_major_version < '24'\n-\n-- name: Fail if this roles does not support the distribution\n-  fail:\n-    msg: \"Distribution you are running is not supported by this role!\"\n-  when: ansible_distribution != \"Fedora\" and ansible_distribution != \"CentOS\"\n+- include: distribution-check.yml\n \n - include: setup-repository.yml\n "
            },
            {
                "sha": "90f220163d70cad468f63d007a94995d7a551267",
                "filename": "tasks/remove-pre-docker-ce.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 6,
                "changes": 8,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/b0e86eb9314db3419c3ff30ef230518bad3fbae5/tasks/remove-pre-docker-ce.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/b0e86eb9314db3419c3ff30ef230518bad3fbae5/tasks/remove-pre-docker-ce.yml",
                "status": "modified",
                "patch": "@@ -30,9 +30,5 @@\n     state: absent\n   become: true\n   when: remove_old_docker|default(false) | bool == true\n-  with_items:\n-    - docker\n-    - docker-common\n-    - container-selinux\n-    - docker-selinux\n-    - docker-engine\n+  with_items: \n+    - \"{{ docker_old_packages[ansible_distribution] }}\""
            },
            {
                "sha": "05088b314e2700277d56bba6d4899332309122f2",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 12,
                "deletions": 0,
                "changes": 12,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/b0e86eb9314db3419c3ff30ef230518bad3fbae5/meta/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/b0e86eb9314db3419c3ff30ef230518bad3fbae5/meta/main.yml",
                "status": "modified",
                "patch": "@@ -8,10 +8,22 @@ galaxy_info:\n     versions:\n       - 24\n       - 25\n+      - 26\n+\n   - name: EL\n     versions:\n       - 7\n \n+  - name: Debian\n+    versions:\n+      - jessie\n+      - stretch\n+\n+  - name: Ubuntu\n+    versions:\n+      - trusty\n+      - xenial\n+\n   galaxy_tags:\n     - docker\n     - docker-ce"
            },
            {
                "sha": "16ffa8babde5e1d1d1dafdc9802515e25aca16bd",
                "filename": "tasks/configure-docker.yml",
                "previous_filename": null,
                "additions": 13,
                "deletions": 2,
                "changes": 15,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/b0e86eb9314db3419c3ff30ef230518bad3fbae5/tasks/configure-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/b0e86eb9314db3419c3ff30ef230518bad3fbae5/tasks/configure-docker.yml",
                "status": "modified",
                "patch": "@@ -20,7 +20,7 @@\n     dest: /etc/docker/daemon.json\n   become: true\n   notify: restart docker\n-  when: docker_daemon_config_file is not defined and \n+  when: docker_daemon_config_file is not defined and\n         docker_daemon_config is defined\n \n - name: Ensure Docker default user namespace is defined in subuid and subgid\n@@ -37,6 +37,16 @@\n         docker_daemon_config['userns-remap'] == 'default') or\n         docker_bug_usermod|bool == true\n \n+\n+- name: Ensure thin-provisioning-tools is installed when devicemapper is used (Ubuntu)\n+  package:\n+    name: thin-provisioning-tools\n+    state: present\n+  become: yes\n+  when: (ansible_distribution == \"Ubuntu\" or ansible_distribution == \"Debian\") and \n+        docker_daemon_config['storage-driver'] is defined and \n+        docker_daemon_config['storage-driver'] == 'devicemapper'\n+\n - name: Enable Docker service\n   service:\n     name: docker\n@@ -50,4 +60,5 @@\n     name: docker\n   notify: restart docker\n   changed_when: docker_service.status.SubState != \"running\"\n-  \n\\ No newline at end of file\n+  when: docker_service.status is defined\n+"
            }
        ]
    },
    {
        "repo": "CSCfi/ansible-role-cuda",
        "author_id": "MDQ6VXNlcjc4MzkwMTk=",
        "author_name": "Johan Guldmyr",
        "committer_id": "MDQ6VXNlcjc4MzkwMTk=",
        "committer_name": "Johan Guldmyr",
        "committer_email": "johan.guldmyr@csc.fi",
        "message": "fix #1 - sleep and reboot for reboot\n\n - also conditional was wrong in the wait_for handler",
        "sha": "a9f9815335a6b9c73bed7e3dcd75e14cd973fbb5",
        "url": "https://api.github.com/repos/CSCfi/ansible-role-cuda/commits/a9f9815335a6b9c73bed7e3dcd75e14cd973fbb5",
        "parents": [
            "9c696084249622f61f5196021d71e7e933594883"
        ],
        "files": [
            {
                "sha": "f7db55155bd5ced5fe0b5230c387ddea28656afa",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 8,
                "changes": 15,
                "blob_url": "https://github.com/CSCfi/ansible-role-cuda/blob/a9f9815335a6b9c73bed7e3dcd75e14cd973fbb5/handlers/main.yml",
                "raw_url": "https://github.com/CSCfi/ansible-role-cuda/raw/a9f9815335a6b9c73bed7e3dcd75e14cd973fbb5/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -1,17 +1,16 @@\n ---\n \n - name: ZZ CUDA Restart server\n-  command: shutdown -r now \"Reboot triggered by Ansible\"\n-  async: 0\n+  command: sleep 2 && /sbin/shutdown -r now \"Node software upgrade reboot\"\n+  async: 1\n   poll: 0\n   ignore_errors: true\n   when: cuda_packages_installation.changed and cuda_restart_node_on_install == True\n \n - name: ZZ CUDA Wait for server to restart\n-  wait_for:\n-     host={{ inventory_hostname }}\n-     port=22\n-     delay=5\n-     timeout=300\n+  local_action: wait_for host=\"{{ ansible_ssh_host | default(inventory_hostname) }}\" \n+                state=started \n+                delay=30 \n+                timeout=300\n   sudo: false\n-  when: cuda_restart.changed and cuda_restart_node_on_install == True\n+  when: cuda_restart_node_on_install == True"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #21",
        "sha": "2885718cbdaa7d152c51e76e5be437909d4f47f2",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/2885718cbdaa7d152c51e76e5be437909d4f47f2",
        "parents": [
            "b1fc2be47d577197bf49c806cec5deb83b13d6a6"
        ],
        "files": [
            {
                "sha": "3f09e68f137afe4fab5d79ea6166e3c17bce20c9",
                "filename": "tasks/install-docker.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2885718cbdaa7d152c51e76e5be437909d4f47f2/tasks/install-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2885718cbdaa7d152c51e76e5be437909d4f47f2/tasks/install-docker.yml",
                "status": "modified",
                "patch": "@@ -6,7 +6,7 @@\n \n - name: Ensure docker-ce is installed\n   package:\n-    name: docker-ce\n+    name: \"{{ docker_pkg_name }}\"\n     state: \"{{ docker_pkg_state|default('present') }}\"\n   become: true\n   notify: restart docker"
            },
            {
                "sha": "a75580fd9eba7ff4197faccb5d7f97e2cc0bc688",
                "filename": "tasks/configure-docker.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2885718cbdaa7d152c51e76e5be437909d4f47f2/tasks/configure-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2885718cbdaa7d152c51e76e5be437909d4f47f2/tasks/configure-docker.yml",
                "status": "modified",
                "patch": "@@ -32,10 +32,12 @@\n   with_items:\n     - /etc/subuid\n     - /etc/subgid\n-  when: (docker_daemon_config is defined and\n+  when: ansible_distribution == \"CentOS\" and\n+        ((docker_daemon_config is defined and\n         docker_daemon_config['userns-remap'] is defined and\n         docker_daemon_config['userns-remap'] == 'default') or\n-        docker_bug_usermod|bool == true\n+        docker_bug_usermod|bool == true)\n+\n \n \n - name: Ensure thin-provisioning-tools is installed when devicemapper is used (Ubuntu)"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-nodejs",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fixes #33",
        "sha": "e9fb46dc84b9c815a69f6de1347c9ece5db01cc8",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-nodejs/commits/e9fb46dc84b9c815a69f6de1347c9ece5db01cc8",
        "parents": [
            "3a9341eeb4b6e658223c6a29b16829de7d139435"
        ],
        "files": [
            {
                "sha": "d41bdc3c772d2fb6fa64821d717614bc361422b9",
                "filename": "tasks/nodejs.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 7,
                "changes": 10,
                "blob_url": "https://github.com/fubarhouse/ansible-role-nodejs/blob/e9fb46dc84b9c815a69f6de1347c9ece5db01cc8/tasks/nodejs.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-nodejs/raw/e9fb46dc84b9c815a69f6de1347c9ece5db01cc8/tasks/nodejs.yml",
                "status": "modified",
                "patch": "@@ -8,18 +8,14 @@\n   register: installed_nodejs_versions\n   changed_when: false\n \n-- name: \"NodeJS | Install default version\"\n-  become: yes\n-  become_user: \"{{ fubarhouse_user }}\"\n-  shell:  \"{{ fubarhouse_npm.nvm_symlink_exec }} install {{ node_version }}\"\n-  when: '\"{{ node_version }}\" in nodejs_available_versions.stdout and \"{{ node_version }}\" not in \"{{ node_versions }}\" and \"{{ node_version }}\" not in \"{{ installed_nodejs_versions.stdout }}\"'\n-\n - name: \"NodeJS | Install all requested versions\"\n   become: yes\n   become_user: \"{{ fubarhouse_user }}\"\n   shell:  \"{{ fubarhouse_npm.nvm_symlink_exec }} install {{ item }}\"\n   when: '\"{{ item }}\" in nodejs_available_versions.stdout and item not in installed_nodejs_versions.stdout'\n-  with_items: \"{{ node_versions }}\"\n+  with_items:\n+  - \"{{ node_version }}\"\n+  - \"{{ node_versions }}\"\n \n - name: \"NodeJS | Switching\"\n   become: yes"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "author_name": "Jack Ivanov",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "e601809@gmail.com",
        "message": "Fixes #207",
        "sha": "d7d976784cd888d216cf9c8ebe5695cd43e44b9b",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/d7d976784cd888d216cf9c8ebe5695cd43e44b9b",
        "parents": [
            "1cca3b1093a31e3b1391e8d9eccd4808623bbe5b"
        ],
        "files": [
            {
                "sha": "2c667ac08ffd26a3d0399f6bbc6f72a1efa14f6a",
                "filename": "roles/ssh_tunneling/tasks/main.yml",
                "previous_filename": null,
                "additions": 12,
                "deletions": 2,
                "changes": 14,
                "blob_url": "https://github.com/trailofbits/algo/blob/d7d976784cd888d216cf9c8ebe5695cd43e44b9b/roles/ssh_tunneling/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/d7d976784cd888d216cf9c8ebe5695cd43e44b9b/roles/ssh_tunneling/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -57,13 +57,23 @@\n   template: src=known_hosts.j2 dest=/root/.ssh/{{ IP_subject_alt_name }}_known_hosts\n \n - name: Fetch users SSH private keys\n-  fetch: src='/var/jail/{{ item }}/.ssh/id_ecdsa' dest=configs/{{ IP_subject_alt_name }}/{{ IP_subject_alt_name }}_{{ item }}.ssh.pem flat=yes\n+  fetch: src='/var/jail/{{ item }}/.ssh/id_ecdsa' dest=configs/{{ IP_subject_alt_name }}/{{ item }}.ssh.pem flat=yes\n   with_items: \"{{ users }}\"\n \n - name: Change mode for SSH private keys\n-  local_action: file path=configs/{{ IP_subject_alt_name }}/{{ IP_subject_alt_name }}_{{ item }}.ssh.pem mode=0600\n+  local_action: file path=configs/{{ IP_subject_alt_name }}/{{ item }}.ssh.pem mode=0600\n   with_items: \"{{ users }}\"\n   become: false\n \n - name: Fetch the known_hosts file\n   fetch: src='/root/.ssh/{{ IP_subject_alt_name }}_known_hosts' dest=configs/{{ IP_subject_alt_name }}/{{ IP_subject_alt_name }}_known_hosts flat=yes\n+\n+- name: Build the client ssh config\n+  local_action:\n+    module: template\n+    src: ssh_config.j2\n+    dest: configs/{{ IP_subject_alt_name }}/{{ item }}.ssh_config\n+    mode: 0600\n+  become: no\n+  with_items:\n+    - \"{{ users }}\""
            }
        ]
    },
    {
        "repo": "iiab/iiab",
        "author_id": "MDQ6VXNlcjI0NTg5MDc=",
        "author_name": "A Holt",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #584 from jvonau/upgrades\n\nguard against losing dns lookups when the machine has alreay been con\u2026\r\n\r\ncloses #581",
        "sha": "0b3a5eab5db4b7b99845b9847ee5ac211ca9c693",
        "url": "https://api.github.com/repos/iiab/iiab/commits/0b3a5eab5db4b7b99845b9847ee5ac211ca9c693",
        "parents": [
            "2c33b757a1a020b84413ae1f7935f9e272f21964",
            "4c18f746dca7c7eeb3eaeee40c7a8088814be2d6"
        ],
        "files": [
            {
                "sha": "bfeaa7c1675a3f45de5133f2de8e8af9fa697aa7",
                "filename": "roles/network/tasks/named.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/iiab/iiab/blob/0b3a5eab5db4b7b99845b9847ee5ac211ca9c693/roles/network/tasks/named.yml",
                "raw_url": "https://github.com/iiab/iiab/raw/0b3a5eab5db4b7b99845b9847ee5ac211ca9c693/roles/network/tasks/named.yml",
                "status": "modified",
                "patch": "@@ -90,3 +90,6 @@\n   file: path=/etc/{{ apache_config_dir }}/dns-jail.conf\n         state=absent\n   when: not is_debuntu and not dns_jail_enabled\n+\n+- name: Start named after copying files\n+  service: name={{ dns_service }} state=started"
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjEwOTY1OTk3",
        "author_name": "Jim Rigsbee",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "Fix IdM Groups not being added bug (#334)\n\n* added AWS provisioning to IdM config\r\n\r\n* Added ability to provision IdentityManager on AWS\r\n\r\n* Corrected variable name for groups in identities.groups so that downstream group creation conditional is satisfied and groups added. This resolves issue #333",
        "sha": "96f860c1328efe86c4b70eae50754c68ddf0df75",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/96f860c1328efe86c4b70eae50754c68ddf0df75",
        "parents": [
            "884e3e63ed95434612f31eef55d94e5f7830ce5b"
        ],
        "files": [
            {
                "sha": "534e250f890ab8b662b1e96d2fcaf19e43f29bcc",
                "filename": "roles/identity-management/populate-users/tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/96f860c1328efe86c4b70eae50754c68ddf0df75/roles/identity-management/populate-users/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/96f860c1328efe86c4b70eae50754c68ddf0df75/roles/identity-management/populate-users/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -4,14 +4,14 @@\n   set_fact:\n     identities:\n       users: \"{{ lookup('csvtojson', 'file=' + csv_doc_file_name + ' var=users') }}\"\n-      user_groups: \"{{ lookup('csvtojson', 'file=' + csv_doc_file_name + ' var=user_groups') }}\"\n+      groups: \"{{ lookup('csvtojson', 'file=' + csv_doc_file_name + ' var=user_groups') }}\"\n \n - name: \"Display imported users values\"\n   debug:\n     var: identities.users\n     verbosity: 2\n \n-- name: \"Display imported user_groups values\"\n+- name: \"Display imported groups values\"\n   debug:\n-    var: identities.user_groups\n+    var: identities.groups\n     verbosity: 2"
            }
        ]
    },
    {
        "repo": "kubevirt/kubevirt-ansible",
        "author_id": "MDQ6VXNlcjE3MTk0OTQz",
        "author_name": "Marek Libra",
        "committer_id": "MDQ6VXNlcjY3OTUyMTM=",
        "committer_name": "Ryan Hallisey",
        "committer_email": "rhallise@redhat.com",
        "message": "Fix kubevirt-web-ui for kubevirt-apb (#464)\n\n* Web ui fixes for containerized env\r\n\r\nThe playbook runs in a container already authenticated with\r\nthe cluster.  Remove root and remove copying around the config.\r\n\r\n* Make kubevirt-web-ui namespace configurable\r\n\r\nThe default is still kubevirt-web-ui.\r\n\r\n* Do not gather facts\r\n\r\nNot needed and causing issues in some environments.",
        "sha": "587bbca312d1e3841027c257dc62fba3559e3ccb",
        "url": "https://api.github.com/repos/kubevirt/kubevirt-ansible/commits/587bbca312d1e3841027c257dc62fba3559e3ccb",
        "parents": [
            "25d96207047cd4ba046f36738584681031817eec"
        ],
        "files": [
            {
                "sha": "ba5e8b25017d1ca84e94a2fcf28cd9e4b885e810",
                "filename": "playbooks/kubevirt-web-ui/private/config.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 2,
                "changes": 5,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/587bbca312d1e3841027c257dc62fba3559e3ccb/playbooks/kubevirt-web-ui/private/config.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/587bbca312d1e3841027c257dc62fba3559e3ccb/playbooks/kubevirt-web-ui/private/config.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,7 @@\n ---\n - name: Kubevirt Web UI Install Checkpoint Start\n   hosts: all\n-  gather_facts: false\n+  gather_facts: False\n   tasks:\n   - name: Set Console install 'In Progress'\n     run_once: true\n@@ -17,6 +17,7 @@\n - name: Kubevirt Web UI\n   # hosts: oo_first_master\n   hosts: masters[0]\n+  gather_facts: False\n   vars:\n     first_master: \"{{ masters[0] }}\"\n   tasks:\n@@ -26,7 +27,7 @@\n \n - name: Kubevirt Web UI Install Checkpoint End\n   hosts: all\n-  gather_facts: false\n+  gather_facts: False\n   tasks:\n   - name: Set Console install 'Complete'\n     run_once: true"
            },
            {
                "sha": "49c0840e9c3e87c95ed87c6edea8650baff4ec4c",
                "filename": "roles/kubevirt_web_ui/tasks/start.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 2,
                "changes": 3,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/587bbca312d1e3841027c257dc62fba3559e3ccb/roles/kubevirt_web_ui/tasks/start.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/587bbca312d1e3841027c257dc62fba3559e3ccb/roles/kubevirt_web_ui/tasks/start.yml",
                "status": "modified",
                "patch": "@@ -4,8 +4,7 @@\n   # A zero return code indicates the rollout succeeded.\n   # https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#complete-deployment\n   command: >\n-    {{ openshift_client_binary }} rollout status deployment/console --config={{ openshift.common.config_base }}/master/admin.kubeconfig -n kubevirt-web-ui\n+    {{ openshift_client_binary }} rollout status deployment/console -n {{ kubevirt_web_ui_namespace }}\n   changed_when: false\n-  become: true\n   # deviation from openshift-ansible: fail first and let the user gather troubleshooting info manually via `oc status`, `oc get pods`, `oc get events`, and `oc logs deployment/console`\n "
            },
            {
                "sha": "f83eb96aa7409dfe044bbe9f470c84fbc19ed97b",
                "filename": "roles/kubevirt_web_ui/tasks/provision.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 14,
                "changes": 21,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/587bbca312d1e3841027c257dc62fba3559e3ccb/roles/kubevirt_web_ui/tasks/provision.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/587bbca312d1e3841027c257dc62fba3559e3ccb/roles/kubevirt_web_ui/tasks/provision.yml",
                "status": "modified",
                "patch": "@@ -1,23 +1,17 @@\n ---\n-- name: Check if kubevirt-web-ui project exists\n-  shell: \"{{ openshift_client_binary }} projects -q | grep -w kubevirt-web-ui | awk '{ print $1 }'\"\n+- name: Check if project for kubevirt-web-ui exists\n+  shell: \"{{ openshift_client_binary }} projects -q | grep -w {{ kubevirt_web_ui_namespace }} | awk '{ print $1 }'\"\n   register: ns\n \n - name: Create kubevirt-web-ui project\n-  shell: \"{{ openshift_client_binary }} new-project kubevirt-web-ui\"\n-  when: ns.stdout != \"kubevirt-web-ui\"\n+  shell: \"{{ openshift_client_binary }} new-project {{ kubevirt_web_ui_namespace }}\"\n+  when: ns.stdout == \"\"\n \n - name: Make temp directory for console templates\n   command: mktemp -d /tmp/console-ansible-XXXXXX\n   register: mktemp\n   changed_when: False\n \n-- name: Copy admin client config\n-  command: >\n-    cp {{ openshift.common.config_base }}/master/admin.kubeconfig {{ mktemp.stdout }}/admin.kubeconfig\n-  become: true\n-  changed_when: false\n-\n - name: Copy console templates to temp directory\n   copy:\n     src: \"{{ item }}\"\n@@ -31,7 +25,7 @@\n # contents so we don't overwrite changes.\n \n - name: Read the existing console config map\n-  shell: \"{{ openshift_client_binary }} get configmap console-config -n kubevirt-web-ui -o jsonpath='{.data}' | true\"\n+  shell: \"{{ openshift_client_binary }} get configmap console-config -n {{ kubevirt_web_ui_namespace }} -o jsonpath='{.data}' | true\"\n   register: console_config_map\n \n - set_fact:\n@@ -68,19 +62,18 @@\n   register: updated_console_config\n \n - name: Apply the console template file\n-  become: true\n   shell: >\n     {{ openshift_client_binary }} process -f \"{{ mktemp.stdout }}/{{ __console_template_file }}\"\n     --param IMAGE=\"{{ kubevirt_web_ui_image_name }}\"\n+    --param NAMESPACE=\"{{ kubevirt_web_ui_namespace }}\"\n     --param NODE_SELECTOR={{ kubevirt_web_ui_nodeselector | to_json | quote }}\n     --param SERVER_CONFIG=\"{{ updated_console_config['content'] | b64decode }}\"\n     --param REPLICA_COUNT=\"{{ kubevirt_web_ui_replica_count }}\"\n     --param CONSOLE_HOSTNAME=\"{{ kubevirt_web_ui_hostname }}\"\n     --param TLS_CERT=\"{{ console_cert | default('') }}\"\n     --param TLS_KEY=\"{{ console_key | default('') }}\"\n     --param TLS_CA_CERT=\"{{ console_ca_cert | default('') }}\"\n-    --config={{ mktemp.stdout }}/admin.kubeconfig\n-    | {{ openshift_client_binary }} apply --config={{ mktemp.stdout }}/admin.kubeconfig -f -\n+    | {{ openshift_client_binary }} apply -f -\n \n - name: Remove temp directory\n   file:"
            },
            {
                "sha": "94ca5317d4f5a2e1e53ce66c3b83391b718642f3",
                "filename": "roles/kubevirt_web_ui/tasks/deprovision.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/587bbca312d1e3841027c257dc62fba3559e3ccb/roles/kubevirt_web_ui/tasks/deprovision.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/587bbca312d1e3841027c257dc62fba3559e3ccb/roles/kubevirt_web_ui/tasks/deprovision.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,6 @@\n ---\n - name: Remove kubevirt-web-ui project\n-  shell: \"{{ openshift_client_binary }} delete project kubevirt-web-ui\"\n+  shell: \"{{ openshift_client_binary }} delete project {{ kubevirt_web_ui_namespace }}\"\n \n - name: Remove Kubevirt Web UI OAuth client\n   shell: \"{{ openshift_client_binary }} delete oauthclient kubevirt-web-ui\""
            },
            {
                "sha": "9460e0541e59803aa4fe40f6cc7e66e92c8749a9",
                "filename": "roles/kubevirt_web_ui/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/587bbca312d1e3841027c257dc62fba3559e3ccb/roles/kubevirt_web_ui/defaults/main.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/587bbca312d1e3841027c257dc62fba3559e3ccb/roles/kubevirt_web_ui/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,7 @@\n ---\n openshift_client_binary: \"oc\"\n apb_action: \"provision\"\n+kubevirt_web_ui_namespace: \"kubevirt-web-ui\"\n \n # Deviation from openshift-console: the kubevirt/web-ui is installed to an _existing_ openshift cluster,\n # so \"defaultNodeSelector\" (see master config) takes effect causing scheduler to find no \"master and compute\" node."
            }
        ]
    },
    {
        "repo": "elastic/ansible-elasticsearch",
        "author_id": "MDQ6VXNlcjY0MzYxNDM=",
        "author_name": "Jakob Reiter",
        "committer_id": "MDQ6VXNlcjY0MzYxNDM=",
        "committer_name": "Jakob Reiter",
        "committer_email": "jakob@elastic.co",
        "message": "Changed /etc/default/ to /etc/sysconfig/ on EL. Fixes #14",
        "sha": "2f3f84b6f30d1fe2582c7b5cdbf8b7a35c9399f0",
        "url": "https://api.github.com/repos/elastic/ansible-elasticsearch/commits/2f3f84b6f30d1fe2582c7b5cdbf8b7a35c9399f0",
        "parents": [
            "444cab9cd234efc041454091725db9efa2ff85aa"
        ],
        "files": [
            {
                "sha": "68b972799e20396a52acdd37e5016405f34bcdcd",
                "filename": "tasks/elasticsearch-RedHat.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/elastic/ansible-elasticsearch/blob/2f3f84b6f30d1fe2582c7b5cdbf8b7a35c9399f0/tasks/elasticsearch-RedHat.yml",
                "raw_url": "https://github.com/elastic/ansible-elasticsearch/raw/2f3f84b6f30d1fe2582c7b5cdbf8b7a35c9399f0/tasks/elasticsearch-RedHat.yml",
                "status": "modified",
                "patch": "@@ -9,19 +9,19 @@\n   register: elasticsearch_install\n \n - name: RedHat - configure memory\n-  lineinfile: dest=/etc/default/elasticsearch regexp=\"^ES_HEAP_SIZE\" insertafter=\"^#ES_HEAP_SIZE\" line=\"ES_HEAP_SIZE={{ es_heap_size }}\"\n+  lineinfile: dest=/etc/sysconfig/elasticsearch regexp=\"^ES_HEAP_SIZE\" insertafter=\"^#ES_HEAP_SIZE\" line=\"ES_HEAP_SIZE={{ es_heap_size }}\"\n   when: es_heap_size is defined\n   register: elasticsearch_configure\n - name: RedHat - configure data store\n-  lineinfile: dest=/etc/default/elasticsearch regexp=\"^DATA_DIR\" insertafter=\"^#DATA_DIR\" line=\"DATA_DIR={{ es_data_dir }}\"\n+  lineinfile: dest=/etc/sysconfig/elasticsearch regexp=\"^DATA_DIR\" insertafter=\"^#DATA_DIR\" line=\"DATA_DIR={{ es_data_dir }}\"\n   when: es_data_dir is defined\n   register: elasticsearch_configure\n - name: RedHat - configure elasticsearch user\n-  lineinfile: dest=/etc/default/elasticsearch regexp=\"^ES_USER\" insertafter=\"^#ES_USER\" line=\"ES_USER={{ es_user }}\"\n+  lineinfile: dest=/etc/sysconfig/elasticsearch regexp=\"^ES_USER\" insertafter=\"^#ES_USER\" line=\"ES_USER={{ es_user }}\"\n   when: es_user is defined\n   register: elasticsearch_configure\n - name: RedHat - configure elasticsearch group\n-  lineinfile: dest=/etc/default/elasticsearch regexp=\"^ES_GROUP\" insertafter=\"^#ES_GROUP\" line=\"ES_GROUP={{ es_group }}\"\n+  lineinfile: dest=/etc/sysconfig/elasticsearch regexp=\"^ES_GROUP\" insertafter=\"^#ES_GROUP\" line=\"ES_GROUP={{ es_group }}\"\n   when: es_group is defined\n   register: elasticsearch_configure\n - name: RedHat - create data dir"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #10",
        "sha": "0315cffc003795f2a535005d2d2cb2f2d5ac4635",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/0315cffc003795f2a535005d2d2cb2f2d5ac4635",
        "parents": [
            "72713725929f57e25faeb46be51811d88c57f4b4"
        ],
        "files": [
            {
                "sha": "f9e383461e8e4b24b6e376f5f1220b148380792f",
                "filename": "tasks/main-Fedora.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 3,
                "changes": 3,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/0315cffc003795f2a535005d2d2cb2f2d5ac4635/tasks/main-Fedora.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/0315cffc003795f2a535005d2d2cb2f2d5ac4635/tasks/main-Fedora.yml",
                "status": "modified",
                "patch": "@@ -36,7 +36,4 @@\n   become: true\n   changed_when: false\n \n-- include: main-Storage.yml\n-  when: docker_setup_devicemapper == true\n-\n - include: main-Generic.yml\n\\ No newline at end of file"
            },
            {
                "sha": "0397f62e61187b3e4120b513bfadb81d3abf34f8",
                "filename": "tasks/main-CentOS.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 3,
                "changes": 3,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/0315cffc003795f2a535005d2d2cb2f2d5ac4635/tasks/main-CentOS.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/0315cffc003795f2a535005d2d2cb2f2d5ac4635/tasks/main-CentOS.yml",
                "status": "modified",
                "patch": "@@ -37,9 +37,6 @@\n   become: true\n   when: yum_repo.changed\n \n-- include: main-Storage.yml\n-  when: docker_setup_devicemapper == true\n-\n - include: main-Mountflags.yml\n   when: \"{{ ansible_kernel | version_compare('4', '<') }}\"\n "
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE2NDA1MDk=",
        "author_name": "Julien Bachmann",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "17044561+jackivanov@users.noreply.github.com",
        "message": "fixed code to work with python3.7 (#1608)\n\n* fixed code to work with python3.7\r\n\r\n* removed trailing whitespaces and re-run ansible-linter",
        "sha": "43aafdfce1e17a4469e505234b4728519d23a9b6",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/43aafdfce1e17a4469e505234b4728519d23a9b6",
        "parents": [
            "b65e6b135104ad6c6e1933cfd8eb5829673b4dc0"
        ],
        "files": [
            {
                "sha": "a881c83897f8520c5a2acef0151b806f201a0de9",
                "filename": "roles/cloud-cloudstack/tasks/main.yml",
                "previous_filename": null,
                "additions": 60,
                "deletions": 67,
                "changes": 127,
                "blob_url": "https://github.com/trailofbits/algo/blob/43aafdfce1e17a4469e505234b4728519d23a9b6/roles/cloud-cloudstack/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/43aafdfce1e17a4469e505234b4728519d23a9b6/roles/cloud-cloudstack/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,70 +1,63 @@\n ---\n-- block:\n-    - name: Build python virtual environment\n-      import_tasks: venv.yml\n-\n-    - name: Include prompts\n-      import_tasks: prompts.yml\n-\n-    - block:\n-      - set_fact:\n-          algo_region: >-\n-            {% if region is defined %}{{ region }}\n-            {%- elif _algo_region.user_input is defined and _algo_region.user_input | length > 0 %}{{ cs_zones[_algo_region.user_input | int -1 ]['name'] }}\n-            {%- else %}{{ cs_zones[default_zone | int - 1]['name'] }}{% endif %}\n-\n-      - name: Security group created\n-        cs_securitygroup:\n-          name: \"{{ algo_server_name }}-security_group\"\n-          description: AlgoVPN security group\n-        register: cs_security_group\n-\n-      - name: Security rules created\n-        cs_securitygroup_rule:\n-          security_group: \"{{ cs_security_group.name }}\"\n-          protocol: \"{{ item.proto }}\"\n-          start_port: \"{{ item.start_port }}\"\n-          end_port: \"{{ item.end_port }}\"\n-          cidr: \"{{ item.range }}\"\n-        with_items:\n-          - { proto: tcp, start_port: 22, end_port: 22, range: 0.0.0.0/0 }\n-          - { proto: udp, start_port: 4500, end_port: 4500, range: 0.0.0.0/0 }\n-          - { proto: udp, start_port: 500, end_port: 500, range: 0.0.0.0/0 }\n-          - { proto: udp, start_port: \"{{ wireguard_port }}\", end_port: \"{{ wireguard_port }}\", range: 0.0.0.0/0 }\n+- name: Build python virtual environment\n+  import_tasks: venv.yml\n \n-      - name: Keypair created\n-        cs_sshkeypair:\n-          name: \"{{ SSH_keys.comment|regex_replace('@', '_') }}\"\n-          public_key: \"{{ lookup('file', '{{ SSH_keys.public }}') }}\"\n-        register: cs_keypair\n+- name: Include prompts\n+  import_tasks: prompts.yml\n \n-      - name: Set facts\n-        set_fact:\n-          image_id: \"{{ cloud_providers.cloudstack.image }}\"\n-          size: \"{{ cloud_providers.cloudstack.size }}\"\n-          disk: \"{{ cloud_providers.cloudstack.disk }}\"\n-          keypair_name: \"{{ cs_keypair.name }}\"\n-\n-      - name: Server created\n-        cs_instance:\n-          name: \"{{ algo_server_name }}\"\n-          root_disk_size: \"{{ disk }}\"\n-          template: \"{{ image_id }}\"\n-          ssh_key: \"{{ keypair_name }}\"\n-          security_groups: \"{{ cs_security_group.name }}\"\n-          zone: \"{{ algo_region }}\"\n-          service_offering: \"{{ size }}\"\n-        register: cs_server\n-\n-      - set_fact:\n-          cloud_instance_ip: \"{{ cs_server.default_ip }}\"\n-          ansible_ssh_user: ubuntu\n-      environment:\n-        CLOUDSTACK_CONFIG: \"{{ algo_cs_config }}\"\n-        CLOUDSTACK_REGION: \"{{ algo_cs_region }}\"\n-\n-      rescue:\n-      - debug: var=fail_hint\n-        tags: always\n-      - fail:\n-        tags: always\n+- block:\n+    - set_fact:\n+        algo_region: >-\n+          {% if region is defined %}{{ region }}\n+          {%- elif _algo_region.user_input is defined and _algo_region.user_input | length > 0 %}{{ cs_zones[_algo_region.user_input | int -1 ]['name'] }}\n+          {%- else %}{{ cs_zones[default_zone | int - 1]['name'] }}{% endif %}\n+\n+    - name: Security group created\n+      cs_securitygroup:\n+        name: \"{{ algo_server_name }}-security_group\"\n+        description: AlgoVPN security group\n+      register: cs_security_group\n+\n+    - name: Security rules created\n+      cs_securitygroup_rule:\n+        security_group: \"{{ cs_security_group.name }}\"\n+        protocol: \"{{ item.proto }}\"\n+        start_port: \"{{ item.start_port }}\"\n+        end_port: \"{{ item.end_port }}\"\n+        cidr: \"{{ item.range }}\"\n+      with_items:\n+        - { proto: tcp, start_port: 22, end_port: 22, range: 0.0.0.0/0 }\n+        - { proto: udp, start_port: 4500, end_port: 4500, range: 0.0.0.0/0 }\n+        - { proto: udp, start_port: 500, end_port: 500, range: 0.0.0.0/0 }\n+        - { proto: udp, start_port: \"{{ wireguard_port }}\", end_port: \"{{ wireguard_port }}\", range: 0.0.0.0/0 }\n+\n+    - name: Keypair created\n+      cs_sshkeypair:\n+        name: \"{{ SSH_keys.comment|regex_replace('@', '_') }}\"\n+        public_key: \"{{ lookup('file', '{{ SSH_keys.public }}') }}\"\n+      register: cs_keypair\n+\n+    - name: Set facts\n+      set_fact:\n+        image_id: \"{{ cloud_providers.cloudstack.image }}\"\n+        size: \"{{ cloud_providers.cloudstack.size }}\"\n+        disk: \"{{ cloud_providers.cloudstack.disk }}\"\n+        keypair_name: \"{{ cs_keypair.name }}\"\n+\n+    - name: Server created\n+      cs_instance:\n+        name: \"{{ algo_server_name }}\"\n+        root_disk_size: \"{{ disk }}\"\n+        template: \"{{ image_id }}\"\n+        ssh_key: \"{{ keypair_name }}\"\n+        security_groups: \"{{ cs_security_group.name }}\"\n+        zone: \"{{ algo_region }}\"\n+        service_offering: \"{{ size }}\"\n+      register: cs_server\n+\n+    - set_fact:\n+        cloud_instance_ip: \"{{ cs_server.default_ip }}\"\n+        ansible_ssh_user: ubuntu\n+  environment:\n+    CLOUDSTACK_CONFIG: \"{{ algo_cs_config }}\"\n+    CLOUDSTACK_REGION: \"{{ algo_cs_region }}\""
            },
            {
                "sha": "dc80dcf4f9b35301a221dfafe54ae2fd2e01cd06",
                "filename": "roles/cloud-cloudstack/tasks/prompts.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 2,
                "changes": 3,
                "blob_url": "https://github.com/trailofbits/algo/blob/43aafdfce1e17a4469e505234b4728519d23a9b6/roles/cloud-cloudstack/tasks/prompts.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/43aafdfce1e17a4469e505234b4728519d23a9b6/roles/cloud-cloudstack/tasks/prompts.yml",
                "status": "modified",
                "patch": "@@ -51,5 +51,4 @@\n           [{{ default_zone }}]\n     register: _algo_region\n     when: region is undefined\n-  environment:\n-    PYTHONPATH: \"{{ cloudstack_venv }}/lib/python2.7/site-packages/\"\n+"
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "gtayzlor@gmail.com",
        "message": "Fix #575 - remove rebuild_container in favour of just using systemd files",
        "sha": "127772fc5ffc3183dcbbef24e56aa9ed6c93da2d",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/127772fc5ffc3183dcbbef24e56aa9ed6c93da2d",
        "parents": [
            "3e6af1f0f55cd8f3bfb91cac5560c476d8145a32"
        ],
        "files": [
            {
                "sha": "becb68096fd3cabb17b1b80aefa489048c544e28",
                "filename": "roles/marathon/defaults/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 1,
                "changes": 1,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/127772fc5ffc3183dcbbef24e56aa9ed6c93da2d/roles/marathon/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/127772fc5ffc3183dcbbef24e56aa9ed6c93da2d/roles/marathon/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -12,7 +12,6 @@ marathon_java_settings: '-Xmx512m -Xms512m -XX:+HeapDumpOnOutOfMemoryError'\n marathon_artifact_store: 'file:///store'\n marathon_artifact_store_dir: '/etc/marathon/store'\n marathon_server_zk_group: marathon_servers\n-marathon_rebuild_container: False\n marathon_image: \"mesosphere/marathon:v{{ marathon_version }}\"\n marathon_master_peers: \"zk://{{ zookeeper_peers_nodes }}/mesos\"\n marathon_zk_peers: \"zk://{{ zookeeper_peers_nodes }}/marathon\""
            },
            {
                "sha": "8c10c21748929a40bcb641e843fee3254248aea2",
                "filename": "roles/mesos/defaults/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 2,
                "changes": 2,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/127772fc5ffc3183dcbbef24e56aa9ed6c93da2d/roles/mesos/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/127772fc5ffc3183dcbbef24e56aa9ed6c93da2d/roles/mesos/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -14,14 +14,12 @@ mesos_containerizers: \"docker,mesos\"\n mesos_resources: \"ports(*):[31000-32000]\"\n mesos_slave_work_dir: \"/tmp/mesos\"\n mesos_slave_image: \"mesosphere/mesos-slave:{{ mesos_version }}\"\n-mesos_slave_rebuild_container: false\n \n # Defaults file for mesos-master\n mesos_zookeeper_group: zookeeper_servers\n mesos_master_port: 5050\n mesos_master_work_dir: \"/var/lib/mesos\"\n mesos_master_image: \"mesosphere/mesos-master:{{ mesos_version }}\"\n-mesos_master_rebuild_container: false\n \n prometheus_mesos_exporter_image: \"prom/mesos-exporter:latest\"\n prometheus_mesos_exporter_port: 9105"
            },
            {
                "sha": "28d7bbb49fb9907fcc24b415e0c4d312d7892020",
                "filename": "roles/zookeeper/defaults/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 1,
                "changes": 1,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/127772fc5ffc3183dcbbef24e56aa9ed6c93da2d/roles/zookeeper/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/127772fc5ffc3183dcbbef24e56aa9ed6c93da2d/roles/zookeeper/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,5 @@\n ---\n consul_dir: /etc/consul.d\n-zookeeper_rebuild_container: false\n zookeeper_config_dir: /etc/zookeeper/conf\n zookeeper_image: \"mesosphere/mesos:0.26.0-0.2.145.ubuntu1404\"\n zookeeper_client_port: 2181"
            },
            {
                "sha": "d64038473437f1ed08189396ec04e65845069ca7",
                "filename": "roles/cadvisor/defaults/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 1,
                "changes": 1,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/127772fc5ffc3183dcbbef24e56aa9ed6c93da2d/roles/cadvisor/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/127772fc5ffc3183dcbbef24e56aa9ed6c93da2d/roles/cadvisor/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -8,4 +8,3 @@ cadvisor_hostname: \"{{ ansible_ssh_host }}\"\n cadvisor_image: \"google/cadvisor:{{ cadvisor_version }}\"\n cadvisor_consul_dir: /etc/consul.d\n cadvisor_consul_service_id: \"{{ ansible_hostname }}:cadvisor:8080\"\n-cadvisor_rebuild_container: false"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix #40 - Check operating system family\n\n- Added first check in tasks/main.yml for ansible_os_family\n- Removed unused file",
        "sha": "3cfb55b2d088a2fc0e477e9b55318102256c733a",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/3cfb55b2d088a2fc0e477e9b55318102256c733a",
        "parents": [
            "c5ee48e16a5905db37ff878be57f5de16f769368"
        ],
        "files": [
            {
                "sha": "05d3d68aba16906138e8460efb0095ec47b77fb6",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/3cfb55b2d088a2fc0e477e9b55318102256c733a/tasks/main.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/3cfb55b2d088a2fc0e477e9b55318102256c733a/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,9 @@\n ---\n \n+  - name: Check if OS is Debian-based (we do not support others)\n+    debug: \"Check family\"\n+    failed_when: ansible_os_family != \"Debian\"\n+\n   - include: section_01.yml\n     tags: section01\n "
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bjorn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bjorn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #100 #93 and added support for Raspbian",
        "sha": "31db975782345f7d679e1d8ddea1c0769d6f9d36",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/31db975782345f7d679e1d8ddea1c0769d6f9d36",
        "parents": [
            "5e7ddacd43ed728193f9a96ae81f46a0cec5659f"
        ],
        "files": [
            {
                "sha": "a184869c89534f7f297df64416002d5926156a17",
                "filename": "tasks/checks/distribution-checks-CentOS.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/checks/distribution-checks-CentOS.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/checks/distribution-checks-CentOS.yml",
                "status": "modified",
                "patch": "@@ -2,4 +2,4 @@\n - name: Fail if unsupported CentOS version\n   fail:\n     msg: \"CentOS 7 or later is required!\"\n-  when: _docker_os_dist_major_version < '7'\n+  when: _docker_os_dist_major_version | int < 7"
            },
            {
                "sha": "bb8855f54f58067874511cd988816d0003761a5b",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 23,
                "deletions": 1,
                "changes": 24,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,10 +1,12 @@\n ---\n-- name: Set distribution facts\n+- name: Set distribution and python facts\n   set_fact:\n     _docker_os_dist: \"{{ ansible_distribution }}\"\n     _docker_os_dist_release: \"{{ ansible_distribution_release }}\"\n     _docker_os_dist_major_version: \"{{ ansible_distribution_major_version }}\"\n+    _docker_os_arch: \"amd64\"\n     _docker_os_dist_check: yes\n+    _docker_python3: \"{{ ansible_python_version is version('3', '>=') }}\"\n   tags: [\"always\"]\n \n - name: Reinterpret distribution facts for Linux Mint 18\n@@ -17,6 +19,20 @@\n     _docker_os_dist_major_version == \"18\"\n   tags: [\"always\"]\n \n+- name: OS release info\n+  raw: cat /etc/os-release\n+  check_mode: no\n+  changed_when: no\n+  register: _docker_os_release_info  \n+  tags: [\"always\"]\n+\n+- name: Reinterpret distribution facts for Raspbian\n+  set_fact:\n+    _docker_os_arch: \"armhf\"\n+  when:\n+    - _os_release_info.stdout is search('raspbian')\n+  tags: [\"always\"]\n+\n - name: Reset role variables\n   set_fact:\n     docker_systemd_service_config_tweaks: []\n@@ -37,6 +53,12 @@\n   when: docker_pkg_name is match('docker-ce' + docker_os_pkg_version_separator[_docker_os_dist])\n   tags: [\"always\"]\n \n+- name: Print interpreted distribution information\n+  debug:\n+    msg: \"distribution={{ _docker_os_dist }}, release={{ _docker_os_dist_release }}, major_version={{ _docker_os_dist_major_version }}\"\n+    verbosity: 1\n+  tags: [\"always\"]\n+\n - name: Compatibility and distribution checks\n   include_tasks: checks.yml\n   when: docker_do_checks | bool"
            },
            {
                "sha": "edeffb7772a4a662f6fd46afbb63f61ce6ec67ab",
                "filename": "tasks/configure-docker/configure-docker-plugins.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/configure-docker/configure-docker-plugins.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/configure-docker/configure-docker-plugins.yml",
                "status": "modified",
                "patch": "@@ -28,7 +28,7 @@\n   become: yes\n   shell: \"(docker plugin install --grant-all-permissions --alias {{ item.alias | default(item.name) }} {{ item.name }} \\\n     && echo 'installed') || echo 'nop'\"\n-  with_items: \"{{ docker_plugins }}\"\n+  loop: \"{{ docker_plugins }}\"\n   register: _docker_plugin_install\n   changed_when: _docker_plugin_install.stdout_lines | last == 'installed'\n   when:\n@@ -41,7 +41,7 @@\n - name: Create list of authorization plugins\n   set_fact:\n     _authz_plugins: \"{{ _authz_plugins + [item.alias | default(item.name)] }}\"\n-  with_items: \"{{ docker_plugins }}\"\n+  loop: \"{{ docker_plugins }}\"\n   when:\n     - item.type == 'authz'\n "
            },
            {
                "sha": "d7c09706c9e7082369b7184d1735767ef160976e",
                "filename": "tasks/postinstall.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 5,
                "changes": 7,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/postinstall.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/postinstall.yml",
                "status": "modified",
                "patch": "@@ -3,7 +3,6 @@\n   set_fact:\n     _docker_additional_packages_os: []\n     _docker_additional_packages_pip: []\n-    _docker_python3: \"{{ ansible_python_version is version_compare('3', '>=') }}\"\n \n - name: Set facts to install Docker SDK for Python\n   set_fact:\n@@ -109,8 +108,7 @@\n   package:\n     name: \"{{ item }}\"\n     state: present\n-  with_items:\n-    - \"{{ _docker_additional_packages_os }}\"\n+  loop: \"{{ _docker_additional_packages_os }}\"\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   when: _docker_additional_packages_os | length > 0\n@@ -130,8 +128,7 @@\n     name: \"{{ item }}\"\n     state: present\n     extra_args: \"{{ docker_pip_extra_args }}\"\n-  with_items:\n-    - \"{{ _docker_additional_packages_pip }}\"\n+  loop: \"{{ _docker_additional_packages_pip }}\"\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   when: _docker_additional_packages_pip | length > 0"
            },
            {
                "sha": "955c780d05df33492657dfb2e3d49978e501f37b",
                "filename": "tasks/checks/distribution-checks-Fedora.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/checks/distribution-checks-Fedora.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/checks/distribution-checks-Fedora.yml",
                "status": "modified",
                "patch": "@@ -3,4 +3,4 @@\n   fail:\n     msg: \"Fedora 24 or later is required!\"\n   when: _docker_os_dist == \"Fedora\" and\n-        _docker_os_dist_major_version < '24'\n+        _docker_os_dist_major_version | int < 24"
            },
            {
                "sha": "a47a3d5a4de165bcec2ef085b2455675d92964b4",
                "filename": "tasks/setup-repository-Ubuntu.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 7,
                "changes": 13,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/setup-repository-Ubuntu.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/setup-repository-Ubuntu.yml",
                "status": "modified",
                "patch": "@@ -14,8 +14,7 @@\n   package:\n     name: \"{{ item }}\"\n     state: present\n-  with_items:\n-    - \"{{ docker_repository_related_packages[_docker_os_dist] }}\"\n+  loop: \"{{ docker_repository_related_packages[_docker_os_dist] }}\"\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   when:\n@@ -30,8 +29,8 @@\n   until: _pkg_result is succeeded\n   when:\n     - docker_network_access | bool\n-    - (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version > '14') or\n-      (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version > '7')\n+    - (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version > 14) or\n+      (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version > 7)\n \n - name: Add Docker APT key (alternative for older Ubuntu systems without SNI).\n   become: true\n@@ -41,8 +40,8 @@\n   changed_when: false\n   when:\n     - docker_network_access | bool\n-    - (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version == '14') or\n-      (_docker_os_dist == \"Debian\" and  _docker_os_dist_major_version == '7')\n+    - (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version == 14) or\n+      (_docker_os_dist == \"Debian\" and  _docker_os_dist_major_version == 7)\n   tags:\n     - skip_ansible_lint\n \n@@ -57,7 +56,7 @@\n - name: Add Docker CE repository with correct channels (Ubuntu/Debian)\n   become: true\n   apt_repository:\n-    repo: \"deb [arch=amd64] https://download.docker.com/linux/{{ _docker_os_dist|lower }} \\\n+    repo: \"deb [arch={{ _docker_os_arch|lower }}] https://download.docker.com/linux/{{ _docker_os_dist|lower }} \\\n       {{ ansible_lsb.codename }} {{ _docker_enable_channels | join(' ') }}\"\n     state: present\n     filename: 'docker-ce'"
            },
            {
                "sha": "b3a445005238a4e20f25aea7358149d25857e068",
                "filename": "tasks/checks/distribution-checks-RedHat.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/checks/distribution-checks-RedHat.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/checks/distribution-checks-RedHat.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n - name: Fail if unsupported RedHat version\n   fail:\n     msg: \"RedHat 7 or later is required!\"\n-  when: _docker_os_dist_major_version < '7'\n+  when: _docker_os_dist_major_version | int < 7\n \n # https://github.com/haxorof/ansible-role-docker-ce/issues/97\n - name: Fail if Docker SDK/Stack/Compose shall be installed using PiP on RedHat"
            },
            {
                "sha": "f308af765c4259e6656a7658114aa5da8babcf1b",
                "filename": "tasks/install-docker.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/install-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/install-docker.yml",
                "status": "modified",
                "patch": "@@ -23,16 +23,16 @@\n       - docker-ce\n   when:\n     - _docker_packages is not defined\n-    - (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version < '9') or\n-      (_docker_os_dist == \"Fedora\" and _docker_os_dist_major_version < '27') or\n-      (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version < '16')\n+    - (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version | int < 9) or\n+      (_docker_os_dist == \"Fedora\" and _docker_os_dist_major_version | int < 27) or\n+      (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version | int < 16)\n \n - name: Ensure Docker CE is installed\n   become: true\n   package:\n     name: \"{{ (item is search('docker')) | ternary((item + _docker_version_string | default('')), item) }}\"\n     state: \"{{ _docker_pkg_state | default('present') }}\"\n-  with_items: \"{{ _docker_packages | default(docker_packages) }}\"\n+  loop: \"{{ _docker_packages | default(docker_packages) }}\"\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   notify: restart docker"
            },
            {
                "sha": "143612024688d8e798ddf4919f1249d26f43f905",
                "filename": "tasks/setup-repository-RedHat.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/setup-repository-RedHat.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/setup-repository-RedHat.yml",
                "status": "modified",
                "patch": "@@ -28,13 +28,13 @@\n         | grep {{ item.id }} && exit 0 \\\n         || {{ _rhel_cmd_enable_disable_repo[item.state][item.repo_manager] }}{{ item.id }} \\\n         && exit 2\"\n-      with_items: \"{{ _rhel_repos }}\"\n+      loop: \"{{ _rhel_repos }}\"\n       register: _cmd_rhel_repo_enabled_disabled\n       changed_when: _cmd_rhel_repo_enabled_disabled.rc == 2\n       failed_when: _cmd_rhel_repo_enabled_disabled.rc not in [ 0, 2 ]\n       tags:\n         - skip_ansible_lint\n \n-  when: \n+  when:\n     - docker_network_access | bool\n-    - _docker_os_dist_major_version == '7'\n\\ No newline at end of file\n+    - _docker_os_dist_major_version | int == 7\n\\ No newline at end of file"
            },
            {
                "sha": "96ac3b41ed9facabb7ec6586f0dea5e9d8a73a8d",
                "filename": "tasks/checks/distribution-checks-Ubuntu.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/checks/distribution-checks-Ubuntu.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/checks/distribution-checks-Ubuntu.yml",
                "status": "modified",
                "patch": "@@ -3,4 +3,4 @@\n   fail:\n     msg: \"Ubuntu 14 or later is required!\"\n   when: _docker_os_dist == \"Ubuntu\" and\n-        _docker_os_dist_major_version < '14'\n+        _docker_os_dist_major_version | int < 14"
            },
            {
                "sha": "bd0882e314f12ec0e4b0e68f5ea08c265c76ea42",
                "filename": "tasks/remove-pre-docker-ce.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 3,
                "changes": 5,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/remove-pre-docker-ce.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/remove-pre-docker-ce.yml",
                "status": "modified",
                "patch": "@@ -16,7 +16,7 @@\n   when:\n     - _cmd_docker_version.stdout_lines is defined\n     - _cmd_docker_version.stdout_lines[0] is defined\n-    - _cmd_docker_version.stdout_lines[0] is version('17', '<')\n+    - _cmd_docker_version.stdout_lines[0] | int is version(17, '<')\n \n - name: Check if Docker is running\n   become: true\n@@ -41,5 +41,4 @@\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   when: _remove_old_docker | bool\n-  with_items:\n-    - \"{{ docker_old_packages[_docker_os_dist] }}\"\n+  loop: \"{{ docker_old_packages[_docker_os_dist] }}\""
            },
            {
                "sha": "2376e6f6523429fc6c8ca8d89c40e70896f1ad86",
                "filename": "tasks/configure-docker.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/configure-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/configure-docker.yml",
                "status": "modified",
                "patch": "@@ -64,7 +64,7 @@\n     path: \"{{ item }}\"\n     regexp: '^dockremap'\n     line: 'dockremap:500000:65536'\n-  with_items:\n+  loop:\n     - /etc/subuid\n     - /etc/subgid\n   when: (_docker_os_dist == \"CentOS\" or _docker_os_dist == \"RedHat\") and\n@@ -79,7 +79,7 @@\n     name: \"{{ item }}\"\n     groups: docker\n     append: true\n-  with_items: \"{{ docker_users }}\"\n+  loop: \"{{ docker_users }}\"\n \n - name: Ensure devicemapper prerequisites are fulfilled\n   block:"
            },
            {
                "sha": "2e2099fd0bd60e26a10e26cc7f330675add860a5",
                "filename": "tasks/setup-repository-CentOS.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 4,
                "changes": 7,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/setup-repository-CentOS.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/setup-repository-CentOS.yml",
                "status": "modified",
                "patch": "@@ -4,8 +4,7 @@\n   package:\n     name: \"{{ item }}\"\n     state: present\n-  with_items:\n-    - \"{{ docker_repository_related_packages[_docker_os_dist] }}\"\n+  loop: \"{{ docker_repository_related_packages[_docker_os_dist] }}\"\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   when:\n@@ -39,7 +38,7 @@\n   shell: \"{{ docker_cmd_enable_disable_edge_repo[_docker_os_dist] }}\"\n   args:\n     warn: false\n-  with_items: \"{{ _docker_disable_channels }}\"\n+  loop: \"{{ _docker_disable_channels }}\"\n   changed_when: false\n   vars:\n     _item_enabled: false\n@@ -54,7 +53,7 @@\n   shell: \"{{ docker_cmd_enable_disable_edge_repo[_docker_os_dist] }}\"\n   args:\n     warn: false\n-  with_items: \"{{ _docker_enable_channels }}\"\n+  loop: \"{{ _docker_enable_channels }}\"\n   changed_when: false\n   vars:\n     _item_enabled: true"
            },
            {
                "sha": "42ffcbda3b2251e5838e949dc8a66a3ef63170ee",
                "filename": "tasks/remove-docker.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 5,
                "changes": 10,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/remove-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/remove-docker.yml",
                "status": "modified",
                "patch": "@@ -12,7 +12,7 @@\n   package:\n     name: \"{{ item }}\"\n     state: absent\n-  with_items: \"{{ docker_packages }}\"\n+  loop: \"{{ docker_packages }}\"\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   when: _docker_os_dist != \"Ubuntu\" and\n@@ -24,7 +24,7 @@\n     name: \"{{ item }}\"\n     state: absent\n     purge: yes\n-  with_items: \"{{ docker_packages }}\"\n+  loop: \"{{ docker_packages }}\"\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   when: _docker_os_dist == \"Ubuntu\" or\n@@ -88,7 +88,7 @@\n   file:\n     path: \"{{ item }}\"\n     state: absent\n-  with_items:\n+  loop:\n     # all distributions\n     - \"{{ docker_envs_dir[_docker_os_dist] }}/docker\"\n     - \"{{ docker_envs_dir[_docker_os_dist] }}/docker-envs\"\n@@ -107,7 +107,7 @@\n   file:\n     path: \"{{ item }}\"\n     state: absent\n-  with_items:\n+  loop:\n     - /var/lib/docker\n     - /var/lib/docker-engine\n     - \"{{ docker_remove_additional }}\"\n@@ -135,7 +135,7 @@\n   file:\n     path: \"{{ item.path }}\"\n     state: absent\n-  with_items: \"{{ _remove_cache_dirs.files }}\"\n+  loop: \"{{ _remove_cache_dirs.files }}\"\n   when: _docker_os_dist == \"Fedora\" or\n         _docker_os_dist == \"CentOS\" or\n         _docker_os_dist == \"RedHat\""
            },
            {
                "sha": "2a9d5fece8a73eea11992ca2a6191d4c1f5ca6f3",
                "filename": "tasks/setup-repository-Fedora.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/setup-repository-Fedora.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/setup-repository-Fedora.yml",
                "status": "modified",
                "patch": "@@ -5,7 +5,7 @@\n   changed_when: false\n   when:\n     - docker_network_access | bool\n-    - ansible_python_version is version_compare('3', '<')\n+    - not _docker_python3\n \n - name: Include tasks from setup of repositories for CentOS\n   include_tasks: setup-repository-CentOS.yml\n\\ No newline at end of file"
            },
            {
                "sha": "6249336235b4f6bca0946db3cee13bf63d2141d3",
                "filename": "tasks/checks/distribution-checks-Debian.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 2,
                "changes": 5,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/checks/distribution-checks-Debian.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/31db975782345f7d679e1d8ddea1c0769d6f9d36/tasks/checks/distribution-checks-Debian.yml",
                "status": "modified",
                "patch": "@@ -2,5 +2,6 @@\n - name: Fail if unsupported Debian version\n   fail:\n     msg: \"Debian 7 (wheezy) or later is required!\"\n-  when: _docker_os_dist == \"Debian\" and\n-        _docker_os_dist_major_version < '7'\n+  when:\n+    - _docker_os_dist == \"Debian\"\n+    - _docker_os_dist_major_version | int < 7"
            }
        ]
    },
    {
        "repo": "ansible-ThoTeam/nexus3-oss",
        "author_id": "MDQ6VXNlcjE3Njc3Ng==",
        "author_name": "Olivier Clavel",
        "committer_id": "MDQ6VXNlcjIxMzQwMzE1",
        "committer_name": "Samuel Herv\u00e9",
        "committer_email": "samuel.herve@savoirfairelinux.com",
        "message": "Fix symlinking of backup/restore scripts (#23)",
        "sha": "c91fa75a41d9ac08c30dc828986133cbd54144e7",
        "url": "https://api.github.com/repos/ansible-ThoTeam/nexus3-oss/commits/c91fa75a41d9ac08c30dc828986133cbd54144e7",
        "parents": [
            "9836737811cce6c1d780ad7c46934a2b73024c4d"
        ],
        "files": [
            {
                "sha": "db00865dc84566423fba551f3fda9f82e1838aad",
                "filename": "tasks/nexus_install.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 7,
                "changes": 17,
                "blob_url": "https://github.com/ansible-ThoTeam/nexus3-oss/blob/c91fa75a41d9ac08c30dc828986133cbd54144e7/tasks/nexus_install.yml",
                "raw_url": "https://github.com/ansible-ThoTeam/nexus3-oss/raw/c91fa75a41d9ac08c30dc828986133cbd54144e7/tasks/nexus_install.yml",
                "status": "modified",
                "patch": "@@ -171,22 +171,25 @@\n # - name: Enable nexus service\n #   systemd: name=nexus daemon_reload=yes enabled=yes state=started\n \n+- name: \"Register scripts to be deployed\"\n+  set_fact:\n+    nexus_deployed_scripts:\n+      - nexus-blob-backup.sh\n+      - nexus-blob-restore.sh\n+\n - name: \"Deploy scripts\"\n   template:\n     src: \"{{ item }}.j2\"\n     dest: \"{{ nexus_script_dir }}/{{ item }}\"\n     mode: 0755\n-  with_items:\n-    - nexus-blob-backup.sh\n-    - nexus-blob-restore.sh\n+  with_items: \"{{ nexus_deployed_scripts }}\"\n \n - name: \"Symlink scripts to /sbin\"\n   file:\n-    src: \"{{ item }}\"\n-    dest: \"/sbin/{{ item | basename }}\"\n+    src: \"{{ nexus_script_dir }}/{{ item }}\"\n+    dest: \"/sbin/{{ item }}\"\n     state: link\n-  with_fileglob:\n-    - \"{{ nexus_script_dir }}/*.sh\"\n+  with_items: \"{{ nexus_deployed_scripts }}\"\n \n - name: 'Check if data directory is empty (first-time install)'\n   command: \"ls {{ nexus_data_dir }}\""
            }
        ]
    },
    {
        "repo": "kubevirt/kubevirt-ansible",
        "author_id": "MDQ6VXNlcjE0MTg3MzQ=",
        "author_name": "Guohua Ouyang",
        "committer_id": "MDQ6VXNlcjYzMTkxOTg=",
        "committer_name": "Irina",
        "committer_email": "alexxa@users.noreply.github.com",
        "message": "Fix deploy kubernetes cluster issues (#161)\n\n* Move 'remove firewalld' task after 'stop and disable firewalld' task\r\n* Change flag --skip-preflight-checks to --ignore-preflight-errors=all\r\n* Change the command cp kubeconfig to scp, so it wouldn't fail\r\n* Remove update_cache from package manager as it's not working on Fedora\r\n* Disable epel repo for Fedora\r\n* Fix Kubeadm join, fix #89\r\n\r\nSigned-off-by: Guohua Ouyang <guohuaouyang@gmail.com>",
        "sha": "10e583062151370dde3007b1e7e5b057d1bea737",
        "url": "https://api.github.com/repos/kubevirt/kubevirt-ansible/commits/10e583062151370dde3007b1e7e5b057d1bea737",
        "parents": [
            "58949cbe8ec04e85ec451ecbc66f1c85f64a8eb7"
        ],
        "files": [
            {
                "sha": "ba3e5cc9fca297d8cf0a0a1da8aec085abf79cbb",
                "filename": "roles/kubernetes-prerequisites/tasks/main.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 6,
                "changes": 13,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/10e583062151370dde3007b1e7e5b057d1bea737/roles/kubernetes-prerequisites/tasks/main.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/10e583062151370dde3007b1e7e5b057d1bea737/roles/kubernetes-prerequisites/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -7,11 +7,6 @@\n     policy: targeted\n     state: permissive\n \n-- name: remove firewalld package\n-  package:\n-    name: firewalld\n-    state: absent\n-\n - name: stop and disable firewalld\n   register: result\n   service:\n@@ -20,6 +15,11 @@\n     name: firewalld\n   failed_when: \"result|failed and not 'Could not find the requested service' in result.msg\"\n \n+- name: remove firewalld package\n+  package:\n+    name: firewalld\n+    state: absent\n+\n - name: Remove current swaps from fstab\n   lineinfile:\n     dest: /etc/fstab\n@@ -34,6 +34,8 @@\n   package:\n     name: \"{{ epel_repo_rpm }}\"\n     state: present\n+  when:\n+    - ansible_distribution in [\"CentOS\",\"RedHat\"]\n \n - name: import kubernetes rpm keys\n   rpm_key:\n@@ -59,7 +61,6 @@\n   package: \n     name: \"{{ item }}\"\n     state: present\n-    update_cache: yes\n   with_items:\n     - \"{{ kubernetes_packages }}\"\n "
            },
            {
                "sha": "146a4a65f71bdd17b8977ec1e648efc99bb49f80",
                "filename": "roles/kubernetes-node/tasks/main.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 2,
                "changes": 7,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/10e583062151370dde3007b1e7e5b057d1bea737/roles/kubernetes-node/tasks/main.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/10e583062151370dde3007b1e7e5b057d1bea737/roles/kubernetes-node/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,7 @@\n ---\n-- name: deploy host as kubernetes node\n-  command: \"kubeadm join --token {{ kubernetes_token }} {{ groups['masters'][0] }}:6443 --skip-preflight-checks\"\n+- name: retrieve token ca cert hash\n+  shell: openssl x509 -pubkey -in /etc/kubernetes/pki/ca.crt | openssl rsa -pubin -outform der 2>/dev/null | openssl dgst -sha256 -hex | sed 's/^.* //'\n+  register: sha\n \n+- name: deploy host as kubernetes node\n+  command: \"kubeadm join --token {{ kubernetes_token }} {{ groups['masters'][0] }}:6443 --discovery-token-ca-cert-hash sha256:{{sha.stdout}} --ignore-preflight-errors=all\""
            },
            {
                "sha": "1ddb063a69569dd468ec6c3697a45b9d0f350ec8",
                "filename": "roles/kubernetes-master/tasks/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 1,
                "changes": 1,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/10e583062151370dde3007b1e7e5b057d1bea737/roles/kubernetes-master/tasks/main.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/10e583062151370dde3007b1e7e5b057d1bea737/roles/kubernetes-master/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -3,7 +3,6 @@\n   package:\n     name: \"{{ item }}\"\n     state: present\n-    update_cache: yes\n   with_items:\n     - cockpit\n     - cockpit-kubernetes"
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "gtayzlor@gmail.com",
        "message": "Fix #119 - consul not coming up correctly in AWS",
        "sha": "fdda70a652ab2d1b7332afb252489cd8bc4da715",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/fdda70a652ab2d1b7332afb252489cd8bc4da715",
        "parents": [
            "4e9fdb819a1d7565413b47dca677f7811946668d"
        ],
        "files": [
            {
                "sha": "a8566f14f8bc3d7dc24c5ef16a8efc83b4f8bc68",
                "filename": "roles/consul/tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/fdda70a652ab2d1b7332afb252489cd8bc4da715/roles/consul/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/fdda70a652ab2d1b7332afb252489cd8bc4da715/roles/consul/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -3,6 +3,9 @@\n - name: remove consul override\n   command: /bin/rm -f /etc/init/consul.override\n \n+- name: start consul\n+  service: name=consul state=started\n+\n - name: configure consul\n   sudo: yes\n   template: src=consul.json.j2 dest=/etc/consul.d/consul.json owner=root group=root mode=0644\n@@ -20,9 +23,6 @@\n   tags:\n     - consul\n \n-- name: start consul\n-  service: name=consul state=started\n-\n - name: remove consul-join override\n   command: /bin/rm -f /etc/init/consul-join.override\n   when: consul_join is defined"
            }
        ]
    },
    {
        "repo": "dev-sec/ansible-mysql-hardening",
        "author_id": "MDQ6VXNlcjEwMjQzODYx",
        "author_name": "Anton Lugovoi",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #21 from rndmh3ro/add_follow\n\nadd follow=yes to my.cnf protect task, incase its a symlink. fixes #20",
        "sha": "b6a9c11e2a3d4b51f7a7867dff92ea6fab312226",
        "url": "https://api.github.com/repos/dev-sec/ansible-mysql-hardening/commits/b6a9c11e2a3d4b51f7a7867dff92ea6fab312226",
        "parents": [
            "1510f92858b85f9f623690db747bdfff9b5b0515",
            "74a3b03fd984278f2f819b1070e5906824f3a401"
        ],
        "files": [
            {
                "sha": "699fbee641b3158f42d19feb6296efd824fa53e9",
                "filename": "tasks/configure.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/dev-sec/ansible-mysql-hardening/blob/b6a9c11e2a3d4b51f7a7867dff92ea6fab312226/tasks/configure.yml",
                "raw_url": "https://github.com/dev-sec/ansible-mysql-hardening/raw/b6a9c11e2a3d4b51f7a7867dff92ea6fab312226/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,7 @@\n ---\n \n - name: protect my.cnf\n-  file: path='{{mysql_hardening_mysql_conf}}' mode=0600 owner=root group=root\n+  file: path='{{mysql_hardening_mysql_conf}}' mode=0600 owner=root group=root follow=yes\n \n - name: ensure permissions on mysql-datadir are correct\n   file: path='{{mysql_datadir}}' state=directory owner='{{mysql_hardening_user}}' group='{{mysql_hardening_user}}'"
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "CentOS/Fedora: move DataDirs to /var/lib/tor-instances (fixes #58)\n\nmake sure SELinux type is set properly on /var/lib/tor-instances\n\nallow the systemd service to write to /var/lib/tor-instances (drop-in)\nThanks to Jamie Nguyen for suggesting that fix.\n\nlog via syslog on Linux systems",
        "sha": "51dcdf691a7801895b569a5a927e30030d8feb70",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/51dcdf691a7801895b569a5a927e30030d8feb70",
        "parents": [
            "95a0ffb87f5a5ecbf178ee4a5b4f890acaba6cbe"
        ],
        "files": [
            {
                "sha": "47d0b3c467647d4a309f7231d0a976906113bee3",
                "filename": "tasks/configure.yml",
                "previous_filename": null,
                "additions": 19,
                "deletions": 16,
                "changes": 35,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/51dcdf691a7801895b569a5a927e30030d8feb70/tasks/configure.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/51dcdf691a7801895b569a5a927e30030d8feb70/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -83,20 +83,6 @@\n   tags:\n    - createdir\n \n-- name: Ensure per-instance DataDir exists\n-  become: yes\n-  file: path={{ tor_DataDir }}/{{ item[0] }}_{{ item.1.orport }}\n-    state=directory\n-    owner=\"_tor-{{ item[0] }}_{{ item.1.orport }}\"\n-    group=\"_tor-{{ item[0] }}_{{ item.1.orport }}\"\n-    mode=0700\n-    recurse=yes\n-  with_nested:\n-   - \"{{ tor_ips }}\"\n-   - \"{{ tor_ports }}\"\n-  tags:\n-   - createdir\n-\n - name: Ensure \"keys\" subfolder exists\n   become: yes\n   file: path={{ tor_DataDir }}/{{ item[0] }}_{{ item.1.orport }}/keys\n@@ -162,13 +148,30 @@\n    dest={{ tor_DataDir }}/{{ item[0] }}_{{ item.1.orport }}/keys/{{ item[2] }}\n    owner=\"_tor-{{ item[0] }}_{{ item.1.orport }}\"\n    mode=700\n+   setype=tor_var_lib_t\n   with_nested:\n    - \"{{ tor_ips }}\"\n    - \"{{ tor_ports }}\"\n    - [ 'ed25519_master_id_public_key', 'ed25519_signing_cert', 'ed25519_signing_secret_key' ]\n   tags:\n    - renewkey\n \n+# This needs to be at the end to fix SELinux contexts recursively\n+- name: Ensure per-instance DataDir exists\n+  become: yes\n+  file: path={{ tor_DataDir }}/{{ item[0] }}_{{ item.1.orport }}\n+    state=directory\n+    owner=\"_tor-{{ item[0] }}_{{ item.1.orport }}\"\n+    group=\"_tor-{{ item[0] }}_{{ item.1.orport }}\"\n+    mode=0700\n+    recurse=yes\n+    setype=tor_var_lib_t\n+  with_nested:\n+   - \"{{ tor_ips }}\"\n+   - \"{{ tor_ports }}\"\n+  tags:\n+   - createdir\n+\n - name: Ensure Tor config directory exists\n   become: yes\n   file: path={{ tor_ConfDir }}\n@@ -183,7 +186,7 @@\n     state=directory\n     owner=root\n     mode=755\n-  when: ansible_pkg_mgr != 'apt'\n+  when: ansible_system != 'Linux'\n \n # we only use distinct logfiles on systems that have no SyslogIdentityTag support yet (all non-Debian plaforms)\n # otherwise we log to syslog with SyslogIdentityTag to avoid the filesystem permissions troubles with logrotate.\n@@ -202,7 +205,7 @@\n   with_nested:\n    - tor_ips\n    - tor_ports\n-  when: ansible_pkg_mgr != 'apt'\n+  when: ansible_system != 'Linux'\n \n - name: Generating torrc file(s)\n   become: yes"
            },
            {
                "sha": "8d16346f0b8e9948b65bf34e38a532d416e5ceb1",
                "filename": "tasks/rpm_install.yml",
                "previous_filename": null,
                "additions": 21,
                "deletions": 0,
                "changes": 21,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/51dcdf691a7801895b569a5a927e30030d8feb70/tasks/rpm_install.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/51dcdf691a7801895b569a5a927e30030d8feb70/tasks/rpm_install.yml",
                "status": "modified",
                "patch": "@@ -5,9 +5,11 @@\n     tor_user: toranon\n     tor_ConfDir: /etc/tor\n     tor_RunAsDaemon: 0\n+    tor_DataDir: /var/lib/tor-instances\n   tags:\n    - reconfigure\n    - renewkey\n+   - createdir\n \n - name: Ensure tor package is installed (dnf)\n   become: yes\n@@ -34,3 +36,22 @@\n   seboolean: name=tor_can_network_relay state=yes persistent=yes\n   when: ansible_selinux.status == 'enabled'\n \n+- name: Ensure systemd drop-in folder is present\n+  become: yes\n+  file: path=/etc/systemd/system/tor@.service.d\n+    state=directory\n+    owner=root\n+    mode=0755\n+\n+# this is needed for a small service file modification (allow it to write to /var/lib/tor-instances)\n+# without replacing the maintainer's file, for details see\n+# http://www.freedesktop.org/software/systemd/man/systemd.unit.html#id-1.11.3\n+- name: Ensure service file drop-in is present\n+  become: yes\n+  copy: src=local.conf\n+   dest=/etc/systemd/system/tor@.service.d/local.conf\n+   owner=root\n+   mode=640\n+  notify: systemctl daemon-reload\n+\n+- meta: flush_handlers"
            }
        ]
    },
    {
        "repo": "RocketChat/Rocket.Chat.Ansible",
        "author_id": "MDQ6VXNlcjEwMjczODc4",
        "author_name": "Mike Goodwin",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix bug where correct file is downloaded and upgrade is never notified (#32)\n\n- Addendum to 5e86223\r\n- Resolves #25",
        "sha": "79ddbb761b2ee3e144e3f16d3ae05346df1bda31",
        "url": "https://api.github.com/repos/RocketChat/Rocket.Chat.Ansible/commits/79ddbb761b2ee3e144e3f16d3ae05346df1bda31",
        "parents": [
            "8a463ca133b5a1a1cc410c003b566494a22b3f76"
        ],
        "files": [
            {
                "sha": "8a36671baa0c8a098169f00b32003409b2a165d5",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/RocketChat/Rocket.Chat.Ansible/blob/79ddbb761b2ee3e144e3f16d3ae05346df1bda31/tasks/main.yml",
                "raw_url": "https://github.com/RocketChat/Rocket.Chat.Ansible/raw/79ddbb761b2ee3e144e3f16d3ae05346df1bda31/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -94,6 +94,7 @@\n     get_url:\n       url: \"{{ rocket_chat_tarball_remote }}\"\n       checksum: \"{{ (rocket_chat_tarball_check_checksum == false) | ternary(omit, 'sha256: ' + rocket_chat_tarball_sha256sum) }}\"\n+      force: \"{{ (rocket_chat_tarball_check_checksum == false) | ternary('yes', omit) }}\"\n       dest: \"{{ rocket_chat_application_path }}/rocket.chat-{{ rocket_chat_version }}.tgz\"\n       timeout: \"{{ rocket_chat_tarball_fetch_timeout }}\"\n       validate_certs: \"{{ rocket_chat_tarball_validate_remote_cert }}\"\n@@ -104,6 +105,8 @@\n     become_user: \"{{ rocket_chat_service_user }}\"\n     register: result\n     retries: 3\n+    changed_when: (result|changed)\n+                  or (not rocket_chat_tarball_check_checksum)\n \n   - name: Upgrade Rocket.Chat\n     include: upgrade.yml"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-nodejs",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fixes #30",
        "sha": "a5a5c4d74b7b0fd14f534dda1f41f903d1a58abf",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-nodejs/commits/a5a5c4d74b7b0fd14f534dda1f41f903d1a58abf",
        "parents": [
            "e9fb46dc84b9c815a69f6de1347c9ece5db01cc8"
        ],
        "files": [
            {
                "sha": "810143b5731381c790826699d724960bb2252094",
                "filename": "tasks/npm.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 2,
                "changes": 5,
                "blob_url": "https://github.com/fubarhouse/ansible-role-nodejs/blob/a5a5c4d74b7b0fd14f534dda1f41f903d1a58abf/tasks/npm.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-nodejs/raw/a5a5c4d74b7b0fd14f534dda1f41f903d1a58abf/tasks/npm.yml",
                "status": "modified",
                "patch": "@@ -5,9 +5,9 @@\n   become: yes\n   become_user: \"{{ fubarhouse_user }}\"\n   shell: which npm | cat\n+  failed_when: false\n   changed_when: false\n   register: which_npm\n-  failed_when: 'which_npm.stdout.find(\"npm\") == -1'\n \n - name: \"NPM | Configure\"\n   become: yes\n@@ -16,6 +16,7 @@\n   when: '\"npm\" in \"{{ which_npm.stdout }}\"'\n   changed_when: false\n   failed_when: false\n+  when: '\"npm\" in which_npm.stdout'\n \n - name: \"NPM | Ensure installed and updated\"\n   become: yes\n@@ -26,4 +27,4 @@\n     global: yes\n   with_items:\n     - \"{{ node_packages }}\"\n-  when: '\"npm\" in \"{{ which_npm.stdout }}\"'\n+  when: '\"npm\" in which_npm.stdout'"
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "FreeBSD: change pidir from /var/run/tor to /var/run/tor-instances (fixes #62)",
        "sha": "44be91805d4a4c003d28a7c5fd3f7a6317863435",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/44be91805d4a4c003d28a7c5fd3f7a6317863435",
        "parents": [
            "694a4890fcf0daa375d6a173511f6ff7dd0f2335"
        ],
        "files": [
            {
                "sha": "ecd05ee5fa3c823f5d4ecd97f24f5af00a50fb06",
                "filename": "tasks/freebsd_install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/44be91805d4a4c003d28a7c5fd3f7a6317863435/tasks/freebsd_install.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/44be91805d4a4c003d28a7c5fd3f7a6317863435/tasks/freebsd_install.yml",
                "status": "modified",
                "patch": "@@ -4,6 +4,7 @@\n   set_fact:\n     tor_DataDir: /var/db/tor-instances\n     tor_ConfDir: /usr/local/etc/tor/enabled\n+    tor_PidDir: /var/run/tor-instances\n   tags:\n    - reconfigure\n    - renewkey"
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "gtayzlor@gmail.com",
        "message": "Fix #251 - mesos redirect",
        "sha": "765922d0016d0b82ce5e514b36d0ac0bab7c1fe9",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/765922d0016d0b82ce5e514b36d0ac0bab7c1fe9",
        "parents": [
            "35ca6852d9333ef6c3ed223239f45b840c487d60"
        ],
        "files": [
            {
                "sha": "d2548eb500ff0fb50a6f7ecb57ce132a706a1935",
                "filename": "roles/mesos/handlers/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/765922d0016d0b82ce5e514b36d0ac0bab7c1fe9/roles/mesos/handlers/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/765922d0016d0b82ce5e514b36d0ac0bab7c1fe9/roles/mesos/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -1,24 +1,24 @@\n ---\n # handlers file for mesos\n-- name: Start mesos master\n+- name: start mesos master\n   sudo: yes\n   service:\n     name: mesos-master\n     state: started\n \n-- name: Start mesos slave\n+- name: start mesos slave\n   sudo: yes\n   service:\n     name: mesos-slave\n     state: started\n \n-- name: Restart mesos master\n+- name: restart mesos master\n   sudo: yes\n   service:\n     name: mesos-master\n     state: restarted\n \n-- name: Restart mesos slave\n+- name: restart mesos slave\n   sudo: yes\n   service:\n     name: mesos-slave"
            },
            {
                "sha": "1da27989f0690e2b003596a83ca7852708ac9481",
                "filename": "roles/mesos/tasks/main.yml",
                "previous_filename": null,
                "additions": 21,
                "deletions": 24,
                "changes": 45,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/765922d0016d0b82ce5e514b36d0ac0bab7c1fe9/roles/mesos/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/765922d0016d0b82ce5e514b36d0ac0bab7c1fe9/roles/mesos/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -7,27 +7,14 @@\n   sudo: yes\n \n # Tasks for Master nodes\n-- name: remove mesos-master override\n-  file:\n-    path: /etc/init/mesos-master.override\n-    state: absent\n-  when: mesos_install_mode == \"master\"\n-\n-- name: start mesos-master (and enable it at boot)\n-  service:\n-    name: mesos-master\n-    state: started\n-    enabled: yes\n-  when: mesos_install_mode == \"master\"\n-\n - name: Set Mesos Master ip\n   copy:\n     content: \"{{mesos_local_address}}\"\n     dest: /etc/mesos-master/ip\n     mode: 0644\n   sudo: yes\n   notify:\n-    - Restart mesos master\n+    - restart mesos master\n   when: mesos_install_mode == \"master\"\n \n - name: Set Mesos Master hostname\n@@ -37,7 +24,7 @@\n     mode: 0644\n   sudo: yes\n   notify:\n-    - Restart mesos master\n+    - restart mesos master\n   when: mesos_install_mode == \"master\"\n \n   # The Mesos quorum value is based on the number of Mesos Masters. Take the\n@@ -51,7 +38,7 @@\n     mode: 0644\n   sudo: yes\n   notify:\n-    - Restart mesos master\n+    - restart mesos master\n   when: mesos_install_mode == \"master\"\n \n - name: Set Mesos Master Cluster name\n@@ -61,7 +48,7 @@\n     mode: 0644\n   sudo: yes\n   notify:\n-    - Restart mesos master\n+    - restart mesos master\n   when: mesos_install_mode == \"master\"\n \n - name: Set Mesos Master consul service definition\n@@ -73,6 +60,14 @@\n     - Restart consul\n   when: mesos_install_mode == \"master\"\n \n+- name: remove mesos-master override\n+  file:\n+    path: /etc/init/mesos-master.override\n+    state: absent\n+  notify:\n+    - restart mesos master\n+  when: mesos_install_mode == \"master\"\n+\n - name: start mesos-master (and enable it at boot)\n   service:\n     name: mesos-master\n@@ -85,6 +80,8 @@\n   file:\n     path: /etc/init/mesos-slave.override\n     state: absent\n+  notify:\n+    - restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: Set Mesos Slave hostname\n@@ -94,7 +91,7 @@\n     mode: 0644\n   sudo: yes\n   notify:\n-    - Restart mesos slave\n+    - restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: set executor registration timeout\n@@ -103,7 +100,7 @@\n     dest: /etc/mesos-slave/executor_registration_timeout\n     content: \"{{ mesos_executor_registration_timeout }}\"\n   notify:\n-    - Restart mesos slave\n+    - restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: set containerizers\n@@ -112,7 +109,7 @@\n     dest: /etc/mesos-slave/containerizers\n     content: \"{{ mesos_containerizers }}\"\n   notify:\n-    - Restart mesos slave\n+    - restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: set slave resources\n@@ -121,7 +118,7 @@\n     dest: /etc/mesos-slave/resources\n     content: \"{{ mesos_resources }}\"\n   notify:\n-    - Restart mesos slave\n+    - restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: Set Mesos Slave ip\n@@ -131,7 +128,7 @@\n     mode: 0644\n   sudo: yes\n   notify:\n-    - Restart mesos slave\n+    - restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: Create Mesos Slave work area\n@@ -141,7 +138,7 @@\n     state: directory\n   sudo: yes\n   notify:\n-    - Restart mesos slave\n+    - restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: Set Mesos Slave work area\n@@ -151,7 +148,7 @@\n     mode: 0644\n   sudo: yes\n   notify:\n-    - Restart mesos slave\n+    - restart mesos slave\n   when: mesos_install_mode == \"slave\"\n \n - name: start mesos-slave (and enable it at boot)"
            }
        ]
    },
    {
        "repo": "oVirt/ovirt-ansible-hosted-engine-setup",
        "author_id": "MDQ6VXNlcjkzNzg2MA==",
        "author_name": "Sandro Bonazzola",
        "committer_id": "MDQ6VXNlcjgxNTYwNTQ=",
        "committer_name": "Simone Tiraboschi",
        "committer_email": "stirabos@redhat.com",
        "message": "Fix rhbz1654697 (#108)\n\n* Fix rhbz1654697\r\n\r\nFix rhbz1654697 by not using dmidecode on ppc64le where /proc/device-tree/system-id provides the UUID.\r\nFor reference: https://github.com/oVirt/vdsm/blob/master/lib/vdsm/ppc64HardwareInfo.py\r\n\r\nBug-Url: https://bugzilla.redhat.com/show_bug.cgi?id=1654697\r\nSigned-off-by: Sandro Bonazzola <sbonazzo@redhat.com>",
        "sha": "9267118f456de46b9059e76b63bc85c18fcab5dd",
        "url": "https://api.github.com/repos/oVirt/ovirt-ansible-hosted-engine-setup/commits/9267118f456de46b9059e76b63bc85c18fcab5dd",
        "parents": [
            "5e928a1d9fef3c90a45df7c55ed5f0e7207218f3"
        ],
        "files": [
            {
                "sha": "d9ce212b5700f5a8e9542da0c15b33d317d8c700",
                "filename": "tasks/bootstrap_local_vm/02_create_local_vm.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 1,
                "changes": 8,
                "blob_url": "https://github.com/oVirt/ovirt-ansible-hosted-engine-setup/blob/9267118f456de46b9059e76b63bc85c18fcab5dd/tasks/bootstrap_local_vm/02_create_local_vm.yml",
                "raw_url": "https://github.com/oVirt/ovirt-ansible-hosted-engine-setup/raw/9267118f456de46b9059e76b63bc85c18fcab5dd/tasks/bootstrap_local_vm/02_create_local_vm.yml",
                "status": "modified",
                "patch": "@@ -15,7 +15,13 @@\n   - name: Initial tasks\n     block:\n       - name: Get host unique id\n-        shell: if [ -e /etc/vdsm/vdsm.id ]; then cat /etc/vdsm/vdsm.id; else dmidecode -s system-uuid; fi;\n+        shell: |\n+          if [ -e /etc/vdsm/vdsm.id ];\n+          then cat /etc/vdsm/vdsm.id;\n+          elif [ -e /proc/device-tree/system-id ];\n+          then cat /proc/device-tree/system-id; #ppc64le\n+          else dmidecode -s system-uuid;\n+          fi;\n         environment: \"{{ he_cmd_lang }}\"\n         changed_when: true\n         register: unique_id_out"
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjc1NDk3ODU=",
        "author_name": "\u00d8ystein Bedin",
        "committer_id": "MDQ6VXNlcjQ1MDA3NTg=",
        "committer_name": "Eric Sauer",
        "committer_email": "etsauer@gmail.com",
        "message": "Fixed 'openshift-applier' and galaxy dependencies (#210)\n\n* Fixing openshift-applier dependency for CASL provisioning\r\n\r\n* Fixing openshift-applier dependency for CASL provisioning\r\n\r\n* Fixing 'breakage' due to applier move - updating galaxy paths\r\n\r\n* Fixing 'breakage' due to applier move - updating galaxy paths",
        "sha": "cf72df3efff6896d33fb9e6ec6a8d50ab39341ce",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce",
        "parents": [
            "157ca3c14314ff91b6450c98dd50f073d1427cee"
        ],
        "files": [
            {
                "sha": "73636278dc17281ac2db627557f53702aaf2a8be",
                "filename": "playbooks/openshift/openstack/provision.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/openstack/provision.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/openstack/provision.yml",
                "status": "modified",
                "patch": "@@ -3,7 +3,7 @@\n   pre_tasks:\n   - import_tasks: ../prep-inventory.yml\n   roles:\n-  - role: openshift-ansible-contrib/roles/openstack-stack\n+  - role: ../../../galaxy/openshift-ansible-contrib/roles/openstack-stack\n     stack_name: \"{{ env_id }}.{{ dns_domain }}\"\n     subnet_prefix: \"{{ openstack_subnet_prefix }}\"\n     ssh_public_key: \"{{ openstack_ssh_public_key }}\""
            },
            {
                "sha": "ddb591eb6fdd2b2fcd82c7d597a7658338fb100c",
                "filename": "playbooks/openshift/post-install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/post-install.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/post-install.yml",
                "status": "modified",
                "patch": "@@ -8,6 +8,6 @@\n   roles:\n   - { role: create_users }\n \n-- import_playbook: ../openshift-cluster-seed.yml\n+- import_playbook: ../../galaxy/openshift-applier/playbooks/openshift-cluster-seed.yml\n   when:\n   - openshift_cluster_content is defined"
            },
            {
                "sha": "a7f5bb8be33196004dda0bba491ec5f3e9ec64e5",
                "filename": "playbooks/nagios/setup_nagios.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/nagios/setup_nagios.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/nagios/setup_nagios.yml",
                "status": "modified",
                "patch": "@@ -2,10 +2,10 @@\n - name: \"Set up the nagios targets\"\n   hosts: nagios-targets\n   roles:\n-  - role: infra-ansible/roles/nagios-target\n+  - role: ../../galaxy/infra-ansible/roles/nagios-target\n     \n - name: \"Set up nagios server\"\n   hosts: nagios-servers\n   roles:\n-  - role: infra-ansible/roles/nagios-server\n+  - role: ../../galaxy/infra-ansible/roles/nagios-server\n "
            },
            {
                "sha": "c947929d52041e210aa7c5f639e048520654d40f",
                "filename": "playbooks/openshift/openstack/cinder-registry.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/openstack/cinder-registry.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/openstack/cinder-registry.yml",
                "status": "modified",
                "patch": "@@ -9,7 +9,7 @@\n       size: \"{{ openshift_hosted_registry_storage_volume_size | default(20) }}\"\n       purpose: \"ose_registry\"\n   roles:\n-  - infra-ansible/roles/osp/admin-volume\n+  - ../../../galaxy/infra-ansible/roles/osp/admin-volume\n \n - hosts: OSEv3\n   tasks:"
            },
            {
                "sha": "8f1be0b904e3b2316bde47f02fe7ea59c52567fd",
                "filename": "playbooks/openshift/openstack/delete.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/openstack/delete.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/openstack/delete.yml",
                "status": "modified",
                "patch": "@@ -4,7 +4,7 @@\n   pre_tasks:\n   - import_tasks: ../prep-inventory.yml\n   roles:\n-  - role: openshift-ansible-contrib/roles/openstack-stack\n+  - role: ../../../galaxy/openshift-ansible-contrib/roles/openstack-stack\n     stack_name: \"{{ full_dns_domain }}\"\n     stack_state: 'absent'\n   post_tasks:"
            },
            {
                "sha": "67caf028977c383f52f4928f19060f81395c7eb9",
                "filename": "playbooks/openshift/install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/install.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/install.yml",
                "status": "modified",
                "patch": "@@ -1,3 +1,3 @@\n ---\n \n-- import_playbook: \"{{ openshift_ansible_path | default('../../roles/openshift-ansible') }}/playbooks/byo/config.yml\"\n+- import_playbook: \"{{ openshift_ansible_path | default('../../galaxy/openshift-ansible') }}/playbooks/byo/config.yml\""
            },
            {
                "sha": "6292d67a2221ac8a79bf2b1cebc77bbe9b1887f3",
                "filename": "playbooks/dns/config_dns_server.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/dns/config_dns_server.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/dns/config_dns_server.yml",
                "status": "modified",
                "patch": "@@ -7,4 +7,4 @@\n     include_vars: vars/views.yml\n     delegate_to: localhost\n   roles:\n-    - role: infra-ansible/roles/dns-server\n+    - role: ../../galaxy/infra-ansible/roles/dns-server"
            },
            {
                "sha": "10032a6d0ac5e4017ff21a19161135825099132e",
                "filename": "playbooks/openshift/delete-cluster.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/delete-cluster.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/delete-cluster.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n \n #- hosts: seed-hosts\n #  roles:\n-#  - openshift-ansible-contrib/roles/openshift-pv-cleanup\n+#  - ../../galaxy/openshift-ansible-contrib/roles/openshift-pv-cleanup\n \n - import_playbook: openstack/delete.yml\n   when:"
            },
            {
                "sha": "ac2a793fb07a890652c602286d03fc8c55d773f1",
                "filename": "playbooks/openshift/pre-install.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/pre-install.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/pre-install.yml",
                "status": "modified",
                "patch": "@@ -15,9 +15,9 @@\n #\n - hosts: OSEv3\n   roles:\n-    - { role: openshift-ansible-contrib/roles/subscription-manager, when: hostvars.localhost.rhsm_register, tags: 'subscription-manager', ansible_sudo: true }\n-    - { role: openshift-ansible-contrib/roles/docker, tags: 'docker' }\n-    - { role: openshift-ansible-contrib/roles/openshift-prep, tags: 'openshift-prep' }\n+    - { role: ../../galaxy/openshift-ansible-contrib/roles/subscription-manager, when: hostvars.localhost.rhsm_register, tags: 'subscription-manager', ansible_sudo: true }\n+    - { role: ../../galaxy/openshift-ansible-contrib/roles/docker, tags: 'docker' }\n+    - { role: ../../galaxy/openshift-ansible-contrib/roles/openshift-prep, tags: 'openshift-prep' }\n \n # Ensure the CNS / glusterFS facts are correctly populated for all CNS nodes\n - hosts: glusterfs"
            },
            {
                "sha": "98b942af28537b801abdb40103ee8c647df7c43c",
                "filename": "playbooks/openshift/openstack/post-provision.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/openstack/post-provision.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/cf72df3efff6896d33fb9e6ec6a8d50ab39341ce/playbooks/openshift/openstack/post-provision.yml",
                "status": "modified",
                "patch": "@@ -5,15 +5,15 @@\n   pre_tasks:\n     - import_tasks: ../prep-inventory.yml\n   roles:\n-    - role: openshift-ansible-contrib/roles/hostnames\n+    - role: ../../../galaxy/openshift-ansible-contrib/roles/hostnames\n \n # Build and process DNS Records\n - hosts: localhost\n   pre_tasks:\n     - import_tasks: ../prep-inventory.yml\n     - import_tasks: dns.yml\n   roles:\n-    - role: infra-ansible/roles/dns\n+    - role: ../../../galaxy/infra-ansible/roles/dns\n \n # provision cinder volume\n - import_playbook: cinder-registry.yml"
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "OpenBSD: tor was not started appropriately with \"-f config\" during initial install due to an ordering issue (closes #34)",
        "sha": "850b64e62ec69d7b4d32f0ad9258e608b0e50ca2",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/850b64e62ec69d7b4d32f0ad9258e608b0e50ca2",
        "parents": [
            "72a9fefcabb6edccd82abb23946bd305035db334"
        ],
        "files": [
            {
                "sha": "44617d6949d8b6bf3e0ad200b6f158d7436a298a",
                "filename": "tasks/configure.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 9,
                "changes": 18,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/850b64e62ec69d7b4d32f0ad9258e608b0e50ca2/tasks/configure.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/850b64e62ec69d7b4d32f0ad9258e608b0e50ca2/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -148,15 +148,6 @@\n   tags:\n    - openbsd\n \n-- name: Ensure Tor instances are reloaded if its torrc changed (OpenBSD)\n-  sudo: yes\n-  service: name=tor{{ item.item[0]|replace('.','_') }}_{{ item.item.1.orport }} state=reloaded\n-  with_items: instances.results\n-  when: ansible_system == 'OpenBSD' and item.changed == True\n-  tags:\n-   - openbsd\n-   - configure\n-\n - name: Ensure Tor instances are enabled and started (OpenBSD)\n   sudo: yes\n   service: name=tor{{ item[0]|replace('.','_') }}_{{ item.1.orport }}\n@@ -168,6 +159,15 @@\n   tags:\n    - openbsd\n \n+- name: Ensure Tor instances are reloaded if its torrc changed (OpenBSD)\n+  sudo: yes\n+  service: name=tor{{ item.item[0]|replace('.','_') }}_{{ item.item.1.orport }} state=reloaded\n+  with_items: instances.results\n+  when: ansible_system == 'OpenBSD' and item.changed == True\n+  tags:\n+   - openbsd\n+   - configure\n+\n \n # FreeBSD section\n # ================"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-security",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #8: Syntax error when adding accounts to passworded sudoers.",
        "sha": "3390a4e60b049970ffa25f1e3eb27312a1be9349",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-security/commits/3390a4e60b049970ffa25f1e3eb27312a1be9349",
        "parents": [
            "cbc033321e72fba149274586a87ed1e0d697defd"
        ],
        "files": [
            {
                "sha": "47be08cf1561963cbd52f10c1962726f8268f3e1",
                "filename": "tasks/ssh.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/geerlingguy/ansible-role-security/blob/3390a4e60b049970ffa25f1e3eb27312a1be9349/tasks/ssh.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-security/raw/3390a4e60b049970ffa25f1e3eb27312a1be9349/tasks/ssh.yml",
                "status": "modified",
                "patch": "@@ -28,7 +28,7 @@\n   lineinfile:\n     dest: /etc/sudoers\n     regexp: '^{{ item }}'\n-    line: '{{ item }} ALL=(ALL)'\n+    line: '{{ item }} ALL=(ALL) ALL'\n     state: present\n     validate: 'visudo -cf %s'\n   with_items: security_sudoers_passworded"
            }
        ]
    },
    {
        "repo": "nginxinc/ansible-role-nginx",
        "author_id": "MDQ6VXNlcjE1NjU0NTI1",
        "author_name": "Alessandro Fael Garcia",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix module install task (#89)\n\n* Fix module install task\r\n\r\n* Fix perl module",
        "sha": "6693791de25f89da90dd2227c5addba384b67d90",
        "url": "https://api.github.com/repos/nginxinc/ansible-role-nginx/commits/6693791de25f89da90dd2227c5addba384b67d90",
        "parents": [
            "1d3b03ea2b7165d6768c52e8c64627a641c6377c"
        ],
        "files": [
            {
                "sha": "dc47e267d35233c47e2cc570b9a295731cb9744d",
                "filename": "tasks/modules/install-perl.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/nginxinc/ansible-role-nginx/blob/6693791de25f89da90dd2227c5addba384b67d90/tasks/modules/install-perl.yml",
                "raw_url": "https://github.com/nginxinc/ansible-role-nginx/raw/6693791de25f89da90dd2227c5addba384b67d90/tasks/modules/install-perl.yml",
                "status": "modified",
                "patch": "@@ -15,5 +15,5 @@\n   lineinfile:\n     path: /etc/nginx/nginx.conf\n     insertbefore: BOF\n-    line: load_module modules/ngx_http_perl.so;\n+    line: load_module modules/ngx_http_perl_module.so;\n   notify: \"(Handler: All OSs) Reload NGINX\""
            },
            {
                "sha": "b55dc82a0c15cc35a98e5be67bdb9dd1e244080c",
                "filename": "tasks/modules/install-modules.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 7,
                "changes": 14,
                "blob_url": "https://github.com/nginxinc/ansible-role-nginx/blob/6693791de25f89da90dd2227c5addba384b67d90/tasks/modules/install-modules.yml",
                "raw_url": "https://github.com/nginxinc/ansible-role-nginx/raw/6693791de25f89da90dd2227c5addba384b67d90/tasks/modules/install-modules.yml",
                "status": "modified",
                "patch": "@@ -1,21 +1,21 @@\n ---\n - import_tasks: install-njs.yml\n-  when: modules.njs | default(false)\n+  when: nginx_modules.njs | default(false)\n \n - import_tasks: install-perl.yml\n-  when: modules.perl | default(false)\n+  when: nginx_modules.perl | default(false)\n \n - import_tasks: install-geoip.yml\n-  when: modules.geoip | default(false)\n+  when: nginx_modules.geoip | default(false)\n \n - import_tasks: install-image-filter.yml\n-  when: modules.image_filter | default(false)\n+  when: nginx_modules.image_filter | default(false)\n \n - import_tasks: install-rtmp.yml\n-  when: modules.rtmp | default(false)\n+  when: nginx_modules.rtmp | default(false)\n \n - import_tasks: install-xslt.yml\n-  when: modules.xslt | default(false)\n+  when: nginx_modules.xslt | default(false)\n \n - import_tasks: install-waf.yml\n-  when: modules.waf | default(false) and nginx_type == \"plus\"\n+  when: nginx_modules.waf | default(false) and nginx_type == \"plus\""
            }
        ]
    },
    {
        "repo": "angstwad/docker.ubuntu",
        "author_id": "MDQ6VXNlcjgzMDcxNA==",
        "author_name": "Felix B\u00f6rner",
        "committer_id": "MDQ6VXNlcjEyNDA3NDA=",
        "committer_name": "Paul Durivage",
        "committer_email": "pauldurivage@gmail.com",
        "message": "Fix proxy settings for Docker daemon (#196)\n\n* fix: is_systemd toggle\r\n\r\nthe wrong fact was used to get distribution name\r\n\r\n* fix: systemd proxy configuration\r\n\r\nIt is possible to use multiple Environment statements\r\nA single Environment statement with multiple variables does not work",
        "sha": "473befb0b909e7cc76b0343b052b505dca191341",
        "url": "https://api.github.com/repos/angstwad/docker.ubuntu/commits/473befb0b909e7cc76b0343b052b505dca191341",
        "parents": [
            "5fe2526a300cda6dae0aea4472e7287c12553ca6"
        ],
        "files": [
            {
                "sha": "ca0043799fd7c14e553e29ea088f1acb861aa7bb",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 3,
                "changes": 8,
                "blob_url": "https://github.com/angstwad/docker.ubuntu/blob/473befb0b909e7cc76b0343b052b505dca191341/tasks/main.yml",
                "raw_url": "https://github.com/angstwad/docker.ubuntu/raw/473befb0b909e7cc76b0343b052b505dca191341/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -59,7 +59,7 @@\n     state: present\n     update_cache: yes\n     cache_valid_time: \"{{ docker_apt_cache_valid_time }}\"\n-  \n+\n - name: Add Docker repository key\n   apt_key:\n     id: \"{{ apt_key_sig }}\"\n@@ -100,7 +100,7 @@\n - name: Set systemd playbook var\n   set_fact:\n     is_systemd: true\n-  when: ( ansible_distribution_release == \"Ubuntu\" and ansible_distribution_version|version_compare('15.04', '>=') or ansible_distribution == \"Debian\" )\n+  when: ( ansible_distribution == \"Ubuntu\" and ansible_distribution_version|version_compare('15.04', '>=') or ansible_distribution == \"Debian\" )\n   tags: always\n \n - name: Set docker_http_proxy_defined flag\n@@ -277,7 +277,9 @@\n   copy:\n     content: |\n       [Service]\n-      Environment=\"{% if docker_http_proxy_defined %}http_proxy={{ docker_http_proxy }}{% endif %} {% if docker_https_proxy_defined %}https_proxy={{ docker_https_proxy }}{% endif %} no_proxy={{ docker_no_proxy | default('') }}\"\n+      Environment=\"{% if docker_http_proxy_defined %}http_proxy={{ docker_http_proxy }}{% endif %}\"\n+      Environment=\"{% if docker_https_proxy_defined %}https_proxy={{ docker_https_proxy }}{% endif %}\"\n+      Environment=\"no_proxy={{ docker_no_proxy | default('') }}\"\n     dest: /etc/systemd/system/docker.service.d/proxy.conf\n     owner: root\n     group: root"
            }
        ]
    },
    {
        "repo": "infOpen/ansible-role-jenkins",
        "author_id": "MDQ6VXNlcjk3NTQ1Mw==",
        "author_name": "Alexandre Chaussier",
        "committer_id": "MDQ6VXNlcjk3NTQ1Mw==",
        "committer_name": "Alexandre Chaussier",
        "committer_email": "a.chaussier@infopen.pro",
        "message": "Hipchat plugin management improvements:\n\n* fix idempotency\n* manage last releases\n\nResolves #62",
        "sha": "a46bb09851345cacec6a16310edbc40cd34b1398",
        "url": "https://api.github.com/repos/infOpen/ansible-role-jenkins/commits/a46bb09851345cacec6a16310edbc40cd34b1398",
        "parents": [
            "809682f5cae07a6df28a5d1165a9a65b05cde87a"
        ],
        "files": [
            {
                "sha": "4a69c52319b125b5b985921a8a79353a71094ad0",
                "filename": "tasks/manage_plugins_config.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 5,
                "changes": 13,
                "blob_url": "https://github.com/infOpen/ansible-role-jenkins/blob/a46bb09851345cacec6a16310edbc40cd34b1398/tasks/manage_plugins_config.yml",
                "raw_url": "https://github.com/infOpen/ansible-role-jenkins/raw/a46bb09851345cacec6a16310edbc40cd34b1398/tasks/manage_plugins_config.yml",
                "status": "modified",
                "patch": "@@ -166,11 +166,12 @@\n   become: True\n   become_user: \"{{ jenkins_etc_user }}\"\n   manage_jenkins_plugin_hipchat:\n-    server: \"{{ jenkins_plugin_hipchat_server }}\"\n-    token: \"{{ jenkins_plugin_hipchat_token }}\"\n-    v2_enabled: \"{{ jenkins_plugin_hipchat_v2_enabled }}\"\n-    room: \"{{ jenkins_plugin_hipchat_room }}\"\n-    send_as: \"{{ jenkins_plugin_hipchat_send_as }}\"\n+    server: \"{{ jenkins_plugin_hipchat.server | default(omit) }}\"\n+    card_provider: \"{{ jenkins_plugin_hipchat.card_provider | default(omit) }}\"\n+    credential_id: \"{{ jenkins_plugin_hipchat.credential_id }}\"\n+    v2_enabled: \"{{ jenkins_plugin_hipchat.v2_enabled | default(omit) }}\"\n+    room: \"{{ jenkins_plugin_hipchat.room }}\"\n+    send_as: \"{{ jenkins_plugin_hipchat.send_as | default(omit) }}\"\n     cli_path: \"{{ jenkins_cli_path }}\"\n     deployment_ssh_key: \"{{ jenkins_deployment_ssh_key }}\"\n     groovy_scripts_path: \"{{ jenkins_groovy_scripts_path }}\"\n@@ -238,4 +239,6 @@\n       or jenkins_change_plugin_debian_package_builder_repo.changed\n       or jenkins_change_plugin_gitlab.changed\n       or jenkins_change_plugin_docker_clouds.changed\n+      or jenkins_change_plugin_hipchat.changed\n+      or jenkins_change_plugin_hipchat_notifications.changed\n   }}\""
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-security",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #48: Fix deprecation warning for security_fail2ban_enabled usage.",
        "sha": "656f46de9baec87a3baeb6d8165fb2131d9f05ce",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-security/commits/656f46de9baec87a3baeb6d8165fb2131d9f05ce",
        "parents": [
            "b46a333513787101700c943704573e3b673f3eec"
        ],
        "files": [
            {
                "sha": "402404e3f88ff086997de81a606372598401ad90",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 13,
                "deletions": 5,
                "changes": 18,
                "blob_url": "https://github.com/geerlingguy/ansible-role-security/blob/656f46de9baec87a3baeb6d8165fb2131d9f05ce/tasks/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-security/raw/656f46de9baec87a3baeb6d8165fb2131d9f05ce/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -4,21 +4,29 @@\n \n # Fail2Ban\n - include_tasks: fail2ban-RedHat.yml\n-  when: ansible_os_family == 'RedHat' and security_fail2ban_enabled\n+  when:\n+    - ansible_os_family == 'RedHat'\n+    - security_fail2ban_enabled | bool\n \n - include_tasks: fail2ban-Debian.yml\n-  when: ansible_os_family == 'Debian' and security_fail2ban_enabled\n+  when:\n+    - ansible_os_family == 'Debian'\n+    - security_fail2ban_enabled | bool\n \n - name: Ensure fail2ban is running and enabled on boot.\n   service: name=fail2ban state=started enabled=yes\n-  when: security_fail2ban_enabled\n+  when: security_fail2ban_enabled | bool\n \n # SSH\n - include_tasks: ssh.yml\n \n # Autoupdate\n - include_tasks: autoupdate-RedHat.yml\n-  when: ansible_os_family == 'RedHat' and security_autoupdate_enabled\n+  when:\n+    - ansible_os_family == 'RedHat'\n+    - security_autoupdate_enabled | bool\n \n - include_tasks: autoupdate-Debian.yml\n-  when: ansible_os_family == 'Debian' and security_autoupdate_enabled\n+  when:\n+    - ansible_os_family == 'Debian'\n+    - security_autoupdate_enabled | bool"
            }
        ]
    },
    {
        "repo": "ansiblebit/oracle-java",
        "author_id": "MDQ6VXNlcjU3MTU5MA==",
        "author_name": "Pedro Salgado",
        "committer_id": "MDQ6VXNlcjU3MTU5MA==",
        "committer_name": "Pedro Salgado",
        "committer_email": "steenzout@ymail.com",
        "message": "fixed errors and warnings for issue #8",
        "sha": "3c4d272a77f8aaeb300c8b841bb7e6d8dbd76c1f",
        "url": "https://api.github.com/repos/ansiblebit/oracle-java/commits/3c4d272a77f8aaeb300c8b841bb7e6d8dbd76c1f",
        "parents": [
            "5eb44163b7f6328c1f30168fa86326458d5dbaff"
        ],
        "files": [
            {
                "sha": "13e409839c091e4ab7d2a74172c985c349fec696",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 10,
                "changes": 12,
                "blob_url": "https://github.com/ansiblebit/oracle-java/blob/3c4d272a77f8aaeb300c8b841bb7e6d8dbd76c1f/meta/main.yml",
                "raw_url": "https://github.com/ansiblebit/oracle-java/raw/3c4d272a77f8aaeb300c8b841bb7e6d8dbd76c1f/meta/main.yml",
                "status": "modified",
                "patch": "@@ -20,15 +20,6 @@ galaxy_info:\n       versions:\n         - jessie\n         - wheezy\n-    - name: MacOSX\n-      versions:\n-        - 10.10.2\n-        - 10.10.1\n-        - 10.9.5\n-        - 10.9.4\n-        - 10.9.3\n-        - 10.9.2\n-        - 10.9.1\n     - name: RedHat\n       versions:\n         - all\n@@ -40,8 +31,9 @@ galaxy_info:\n         - vivid\n         - trusty\n         - precise\n-  categories:\n+  galaxy_tags:\n     - development\n+    - java\n     - system\n dependencies:\n   - role: ansiblebit.launchpad-ppa-webupd8"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bjorn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bjorn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #95 #94 #87",
        "sha": "f25f869adbb0c5fc2f4012afe6d06ea6f3c58361",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/f25f869adbb0c5fc2f4012afe6d06ea6f3c58361",
        "parents": [
            "678ab977f1395c4051c8c2eed112bcbf4e86ec92"
        ],
        "files": [
            {
                "sha": "3e4ac911d2f1bfa99db2a1a892209c171754ba3d",
                "filename": "tasks/postinstall.yml",
                "previous_filename": null,
                "additions": 131,
                "deletions": 94,
                "changes": 225,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/f25f869adbb0c5fc2f4012afe6d06ea6f3c58361/tasks/postinstall.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/f25f869adbb0c5fc2f4012afe6d06ea6f3c58361/tasks/postinstall.yml",
                "status": "modified",
                "patch": "@@ -3,57 +3,86 @@\n   set_fact:\n     _docker_additional_packages_os: []\n     _docker_additional_packages_pip: []\n-    _docker_python_system: false\n-\n-- name: Do best effort detection and set fact to indicate system Python environment is used\n-  set_fact:\n-    _docker_python_system: true\n-  when: ansible_python.executable | regex_search('^/bin') or ansible_python.executable | regex_search('^/usr/bin')\n+    _docker_python3: \"{{ ansible_python_version is version_compare('3', '>=') }}\"\n \n - name: Set facts to install Docker SDK for Python\n   set_fact:\n     _docker_additional_packages_pip: \"{{ _docker_additional_packages_pip + \\\n       docker_predefined_packages_pip[_docker_os_dist]['sdk'] }}\"\n   when:\n-    - docker_sdk\n+    - docker_sdk | bool\n \n - name: Set facts to install Docker Compose\n   set_fact:\n     _docker_additional_packages_pip: \"{{ _docker_additional_packages_pip + \\\n       docker_predefined_packages_pip[_docker_os_dist]['compose'] }}\"\n   when:\n-    - docker_compose and not docker_compose_no_pip\n+    - docker_compose | bool and not docker_compose_no_pip | bool\n \n - name: Set facts to install Docker Stack dependencies ('docker_stack')\n   set_fact:\n     _docker_additional_packages_pip: \"{{ _docker_additional_packages_pip + \\\n       docker_predefined_packages_pip[_docker_os_dist]['stack'] }}\"\n   when:\n-    - docker_stack\n+    - docker_stack | bool\n \n - name: Set facts with additional package to be installed\n   set_fact:\n     _docker_additional_packages_pip: \"{{ _docker_additional_packages_pip + docker_additional_packages_pip }}\"\n     _docker_additional_packages_os: \"{{ _docker_additional_packages_os + docker_additional_packages_os }}\"\n \n-- name: Determine if pip exists in path\n-  become: true\n-  shell: type pip\n-  register: _docker_pip_cmd\n-  changed_when: false\n-  failed_when: false\n-  check_mode: no\n-  tags:\n-    - skip_ansible_lint\n-  when:\n-    - _docker_additional_packages_pip | length > 0\n-\n-- name: Set fact to install Python PiP\n-  set_fact:\n-    _docker_additional_packages_os: \"{{ _docker_additional_packages_os + [docker_pip_package] }}\"\n+- name: Ensure required OS packages will be installed for PiP\n+  block:\n+    - name: Determine if pip/pip3 exists in path\n+      become: true\n+      shell: type {{ _docker_python3 | ternary('pip3', 'pip') }}\n+      register: _docker_pip_cmd\n+      changed_when: false\n+      failed_when: false\n+      check_mode: no\n+      tags:\n+        - skip_ansible_lint\n+\n+    - name: Set fact to install Python 2 PiP\n+      set_fact:\n+        _docker_additional_packages_os: \"{{ _docker_additional_packages_os + [docker_pip_package] }}\"\n+      when:\n+        - not _docker_python3 | bool\n+        - _docker_pip_cmd.rc != 0\n+\n+    - name: Set fact to install Python 3 PiP\n+      set_fact:\n+        _docker_additional_packages_os: \"{{ _docker_additional_packages_os + [docker_pip3_package] }}\"\n+      when:\n+        - _docker_python3 | bool\n+        - _docker_pip_cmd.rc != 0\n+\n+    - name: Set fact to install build libraries (CentOS/Fedora/RedHat)\n+      set_fact:\n+        _docker_additional_packages_os: \"{{ _docker_additional_packages_os + ['openssl-devel'] }}\"\n+      when:\n+        - (_docker_os_dist == \"CentOS\" or _docker_os_dist == \"Fedora\" or _docker_os_dist == \"RedHat\")\n+\n+    - name: Set fact to install build libraries [General] (Fedora)\n+      set_fact:\n+        _docker_additional_packages_os: \"{{ _docker_additional_packages_os + ['redhat-rpm-config','make','libffi-devel','gcc'] }}\"\n+      when:\n+        - _docker_os_dist == \"Fedora\"\n+\n+    - name: Set fact to install build libraries [Python 3] (Fedora)\n+      set_fact:\n+        _docker_additional_packages_os: \"{{ _docker_additional_packages_os + ['python3-devel'] }}\"\n+      when:\n+        - _docker_python3 | bool\n+        - _docker_os_dist == \"Fedora\"\n+\n+    - name: Set fact to install build libraries (Debian/Ubuntu)\n+      set_fact:\n+        _docker_additional_packages_os: \"{{ _docker_additional_packages_os + ['libffi-dev', 'libssl-dev'] }}\"\n+      when:\n+        - (_docker_os_dist == \"Debian\" or _docker_os_dist == \"Ubuntu\")\n   when:\n     - _docker_additional_packages_pip | length > 0\n-    - _docker_pip_cmd.rc != 0\n \n - name: Ensure python-pip-whl is present (Debian 8)\n   set_fact:\n@@ -93,7 +122,7 @@\n     state: forcereinstall\n   register: _pkg_result\n   until: _pkg_result is succeeded\n-  when: docker_pip_upgrade\n+  when: docker_pip_upgrade | bool\n \n - name: Install additional packages (PiP)\n   become: \"{{ docker_pip_sudo | bool }}\"\n@@ -109,70 +138,14 @@\n   environment:\n     PYTHONWARNINGS: ignore\n \n-# Not using github_release:  https://github.com/ansible/ansible/issues/45391\n-- name: Get latest release of docker-compose\n-  uri:\n-    url: https://api.github.com/repos/docker/compose/releases/latest\n-    body_format: json\n-  register: _github_docker_compose\n-  until: _github_docker_compose.status == 200\n-  retries: 10\n-  check_mode: no\n-  when:\n-    - docker_compose\n-\n-- name: Set common facts related to docker-compose\n-  set_fact:\n-    _docker_compose_shasum_url: \"https://github.com/docker/compose/releases/download/\\\n-      {{ _github_docker_compose.json.tag_name }}/docker-compose-{{ ansible_system }}-{{ ansible_architecture }}.sha256\"\n-    _docker_compose_url: \"https://github.com/docker/compose/releases/download/\\\n-      {{ _github_docker_compose.json.tag_name }}/docker-compose-{{ ansible_system }}-{{ ansible_architecture }}\"\n-  when:\n-    - docker_compose\n-\n-- name: Fetch docker-compose SHA265 sum file\n-  get_url:\n-    url: \"{{ _docker_compose_shasum_url }}\"\n-    dest: \"/tmp/ansible.docker-compose-sha256\"\n-  register: _github_docker_compose_shasum_file\n-  changed_when: false\n-  until: _github_docker_compose_shasum_file.status_code == 200\n-  retries: 10\n-  check_mode: no\n-  when:\n-    - docker_compose\n-\n-- name: Dump SHA256 file contents to variable\n-  command: cat /tmp/ansible.docker-compose-sha256\n-  register: _github_docker_compose_shasum\n-  changed_when: false\n-  check_mode: no\n-  when:\n-    - docker_compose\n-\n-- name: Remove temporary file for SHA256 sum\n-  file:\n-    path: \"/tmp/ansible.docker-compose-sha256\"\n-    state: absent\n-  changed_when: false\n-  check_mode: no\n-  when:\n-    - docker_compose\n-\n-- name: Set SHA256 facts related to docker-compose\n-  set_fact:\n-    _docker_compose_checksum: \"sha256:{{ _github_docker_compose_shasum.stdout | \\\n-      regex_replace('^([0-9a-zA-Z]*)[\\\\s\\\\t]+.+', '\\\\1') }}\"\n-  when:\n-    - docker_compose\n-\n-# Use when moving to Ansible 2.7 as minimum version\n-# - name: Set SHA256 facts related to docker-compose (Ansible >= 2.7)\n-#   set_fact:\n-#     _docker_compose_checksum: \"sha256:https://github.com/docker/compose/releases/download/\\\n-#       {{ _github_docker_compose.json.tag_name }}/\\\n-#       docker-compose-{{ ansible_system }}-{{ ansible_architecture }}.sha256\"\n-#   when: ansible_version.full is version_compare('2.7', '>=')\n+# https://github.com/docker/docker-py/issues/1502\n+- name: Workaround for issue - No module named ssl_match_hostname (Python 2.7)\n+  become: yes\n+  command: cp -r /usr/local/lib/python2.7/dist-packages/backports/ssl_match_hostname/ /usr/lib/python2.7/dist-packages/backports\n+  when: \n+    - docker_x_ssl_match_hostname | bool\n+    - _docker_additional_packages_pip | length > 0\n+    - not _docker_python3 | bool\n \n - name: Stat /usr/bin/docker-compose\n   stat:\n@@ -181,12 +154,75 @@\n   check_mode: no\n \n # Official installation of docker-compose (Linux): https://docs.docker.com/compose/install/#install-compose\n-- name: Install docker-compose\n+- name: Install docker-compose without PiP\n   block:\n-    - name: Install docker-compose (Linux)\n+    # Not using github_release:  https://github.com/ansible/ansible/issues/45391\n+    - name: Get latest release of docker-compose\n+      uri:\n+        url: https://api.github.com/repos/docker/compose/releases/latest\n+        body_format: json\n+      register: _github_docker_compose\n+      until: _github_docker_compose.status == 200\n+      retries: 10\n+      check_mode: no\n+      when:\n+        - docker_compose_no_pip_detect_version | bool\n+\n+    - name: Set detected docker-compose version\n+      set_fact:\n+        _docker_compose_version: \"{{ _github_docker_compose.json.tag_name }}\"\n+      when:\n+        - _github_docker_compose is defined\n+        - _github_docker_compose.json is defined\n+\n+    - name: Set fixed docker-compose version\n+      set_fact:\n+        _docker_compose_version: \"{{ docker_compose_no_pip_version }}\"\n+      when:\n+        - not docker_compose_no_pip_detect_version | bool\n+\n+    - name: Fetch docker-compose SHA265 sum file\n+      get_url:\n+        url: \"https://github.com/docker/compose/releases/download/\\\n+          {{ _docker_compose_version }}/docker-compose-{{ ansible_system }}-{{ ansible_architecture }}.sha256\"\n+        dest: \"/tmp/ansible.docker-compose-sha256\"\n+      register: _github_docker_compose_shasum_file\n+      changed_when: false\n+      until: _github_docker_compose_shasum_file.status_code == 200\n+      retries: 10\n+      check_mode: no\n+\n+    - name: Dump SHA256 file contents to variable\n+      command: cat /tmp/ansible.docker-compose-sha256\n+      register: _github_docker_compose_shasum\n+      changed_when: false\n+      check_mode: no\n+\n+    - name: Remove temporary file for SHA256 sum\n+      file:\n+        path: \"/tmp/ansible.docker-compose-sha256\"\n+        state: absent\n+      changed_when: false\n+      check_mode: no\n+\n+    - name: Set SHA256 facts related to docker-compose\n+      set_fact:\n+        _docker_compose_checksum: \"sha256:{{ _github_docker_compose_shasum.stdout | \\\n+          regex_replace('^([0-9a-zA-Z]*)[\\\\s\\\\t]+.+', '\\\\1') }}\"\n+\n+    # Use when moving to Ansible 2.7 as minimum version\n+    # - name: Set SHA256 facts related to docker-compose (Ansible >= 2.7)\n+    #   set_fact:\n+    #     _docker_compose_checksum: \"sha256:https://github.com/docker/compose/releases/download/\\\n+    #       {{ _github_docker_compose.json.tag_name }}/\\\n+    #       docker-compose-{{ ansible_system }}-{{ ansible_architecture }}.sha256\"\n+    #   when: ansible_version.full is version_compare('2.7', '>=')\n+    \n+    - name: Install docker-compose {{ _docker_compose_version }} (Linux)\n       become: true\n       get_url:\n-        url: \"{{ _docker_compose_url }}\"\n+        url: \"https://github.com/docker/compose/releases/download/\\\n+          {{ _docker_compose_version }}/docker-compose-{{ ansible_system }}-{{ ansible_architecture }}\"\n         checksum: \"{{ _docker_compose_checksum }}\"\n         dest: /usr/local/bin/docker-compose\n         mode: 0755\n@@ -198,5 +234,6 @@\n         dest: /usr/bin/docker-compose\n         state: link\n   when:\n-    - docker_compose\n+    - docker_compose | bool\n+    - docker_compose_no_pip | bool\n     - not _docker_compose_file.stat.exists"
            },
            {
                "sha": "124870f1801fb4025f9627b35d1d9be3460a5bd5",
                "filename": "tasks/setup-repository-Debian.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 9,
                "changes": 9,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/f25f869adbb0c5fc2f4012afe6d06ea6f3c58361/tasks/setup-repository-Debian.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/f25f869adbb0c5fc2f4012afe6d06ea6f3c58361/tasks/setup-repository-Debian.yml",
                "status": "modified",
                "patch": "@@ -1,12 +1,3 @@\n ---\n - name: Include tasks from setup of repositories for Ubuntu\n   include_tasks: setup-repository-Ubuntu.yml\n-\n-# Backport is required but not documented by Docker: https://github.com/moby/moby/issues/16878\n-- name: Add backport repository for Debian Wheezy\n-  become: true\n-  apt_repository:\n-    repo: deb [arch=amd64] http://ftp.debian.org/debian wheezy-backports main\n-    state: present\n-    filename: 'debian-backport'\n-  when: _docker_os_dist_major_version == '7'\n\\ No newline at end of file"
            },
            {
                "sha": "3c84f289e292dec7eaea3cc6236a69e6e72d974b",
                "filename": "tasks/setup-repository-Fedora.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/f25f869adbb0c5fc2f4012afe6d06ea6f3c58361/tasks/setup-repository-Fedora.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/f25f869adbb0c5fc2f4012afe6d06ea6f3c58361/tasks/setup-repository-Fedora.yml",
                "status": "modified",
                "patch": "@@ -4,7 +4,8 @@\n   raw: dnf install -y python2 python2-dnf libselinux-python\n   changed_when: false\n   when:\n-    - docker_network_access\n+    - docker_network_access | bool\n+    - ansible_python_version is version_compare('3', '<')\n \n - name: Include tasks from setup of repositories for CentOS\n   include_tasks: setup-repository-CentOS.yml\n\\ No newline at end of file"
            }
        ]
    },
    {
        "repo": "arknoll/ansible-role-selenium",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #27: Fix Chrome repo for older Ubuntu releases.",
        "sha": "f061a94253ebb4a9ec4ebb233b9484b62c01ef43",
        "url": "https://api.github.com/repos/arknoll/ansible-role-selenium/commits/f061a94253ebb4a9ec4ebb233b9484b62c01ef43",
        "parents": [
            "c207c8acbddb567e3ff48e4d899b94652626e4a4"
        ],
        "files": [
            {
                "sha": "a430a739f5940428476a43359231d472c35569a2",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/arknoll/ansible-role-selenium/blob/f061a94253ebb4a9ec4ebb233b9484b62c01ef43/tasks/main.yml",
                "raw_url": "https://github.com/arknoll/ansible-role-selenium/raw/f061a94253ebb4a9ec4ebb233b9484b62c01ef43/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -32,7 +32,7 @@\n \n - name: Add Chrome repo (if configured, Debian)\n   apt_repository:\n-    repo: \"deb http://dl.google.com/linux/chrome/deb/ stable main\"\n+    repo: \"deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main\"\n     state: present\n     update_cache: yes\n   when: ansible_os_family == 'Debian' and selenium_install_chrome"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #28",
        "sha": "e64dfdb8be76c4a33d0c346f7a9bfd7110e6696c",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/e64dfdb8be76c4a33d0c346f7a9bfd7110e6696c",
        "parents": [
            "f7841e3847e34fb8c2790fe304a1c954eeb1bfce"
        ],
        "files": [
            {
                "sha": "2c6626b499aba005c6c422365b9549fce3b07809",
                "filename": "tasks/setup-repository.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 7,
                "changes": 14,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/e64dfdb8be76c4a33d0c346f7a9bfd7110e6696c/tasks/setup-repository.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/e64dfdb8be76c4a33d0c346f7a9bfd7110e6696c/tasks/setup-repository.yml",
                "status": "modified",
                "patch": "@@ -84,33 +84,33 @@\n   when: (docker_os_dist == \"CentOS\" or docker_os_dist == \"Fedora\" or docker_os_dist == \"RedHat\") and\n         fact_docker_ce_edge_enabled != docker_enable_ce_edge\n         \n-# disable rt-beta so we don't get a 403 error retrieving repomd.xml\n-- name: Check if rt-beta Repository is disabled (RedHat) # \n+# disable rt-beta so we don't get a 403 error retrieving repond.xml\n+- name: Check if rhel-7-server-rt-beta-rpms Repository is disabled (RedHat)\n   shell: \"subscription-manager repos --list-disabled | grep rhel-7-server-rt-beta-rpms\"\n   become: true\n   register: cmd_rhel_rt_beta_repo_disabled\n   when: docker_os_dist == \"RedHat\"\n   changed_when: false\n   failed_when: cmd_rhel_rt_beta_repo_disabled.rc not in [ 0, 1 ]\n \n-- name: Disable rt-beta Repository (RedHat)\n+- name: Disable rhel-7-server-rt-beta-rpms Repository (RedHat)\n   shell: \"subscription-manager repos --disable=rhel-7-server-rt-beta-rpms\"\n   become: true\n-  when: cmd_rhel_rt_beta_repo_disabled.rc == 1 and docker_os_dist == \"RedHat\"\n+  when: docker_os_dist == \"RedHat\" and cmd_rhel_rt_beta_repo_disabled.rc == 1\n \n # container-selinux package wants this\n-- name: Check if extras Repository is enabled (RedHat)\n+- name: Check if rhel-7-server-extras-rpms Repository is enabled (RedHat)\n   shell: \"subscription-manager repos --list-enabled | grep rhel-7-server-extras-rpms\"\n   become: true\n   register: cmd_rhel_extras_repo_enabled\n   when: docker_os_dist == \"RedHat\"\n   changed_when: false\n   failed_when: cmd_rhel_extras_repo_enabled.rc not in [ 0, 1 ]\n \n-- name: Disable rt-beta Repository (RedHat)\n+- name: Disable rhel-7-server-extras-rpms Repository (RedHat)\n   shell: \"subscription-manager repos --enable=rhel-7-server-extras-rpms\"\n   become: true\n-  when: cmd_rhel_extras_repo_enabled.rc == 1 and docker_os_dist == \"RedHat\"\n+  when: docker_os_dist == \"RedHat\" and cmd_rhel_extras_repo_enabled.rc == 1\n \n - name: Update repository cache\n   shell: \"{{ docker_cmd_update_repo_cache[docker_os_dist] }}\""
            },
            {
                "sha": "83ed0a7a7d95ebeb9046e12d311f06d163d98e80",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 2,
                "changes": 3,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/e64dfdb8be76c4a33d0c346f7a9bfd7110e6696c/meta/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/e64dfdb8be76c4a33d0c346f7a9bfd7110e6696c/meta/main.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,7 @@\n galaxy_info:\n   author: Bjorn Oscarsson\n   description: \"Installs and configures Docker Community Edition (CE)\"\n-  min_ansible_version: 2.1\n+  min_ansible_version: 2.3\n   license: MIT\n   platforms:\n   - name: Fedora\n@@ -26,6 +26,5 @@ galaxy_info:\n \n   galaxy_tags:\n     - docker\n-    - docker-ce\n \n dependencies: []"
            }
        ]
    },
    {
        "repo": "openshift/openshift-ansible-contrib",
        "author_id": "MDQ6VXNlcjI3OTU4MjA=",
        "author_name": "Bogdan Dobrelya",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix Flannel SDN setup for openstack provider (#823)\n\n* Gather facts on app nodes to fix the expiration of cached facts\r\n* Use better names for custom iptables rules for Flannel\r\n* Remove OSEv3 specific pre-flight checks from the common checks\r\n\r\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>",
        "sha": "22aa303b4de8448951abf636f3eee3be399c6f68",
        "url": "https://api.github.com/repos/openshift/openshift-ansible-contrib/commits/22aa303b4de8448951abf636f3eee3be399c6f68",
        "parents": [
            "e1661b2220a06dd4598bd9ab8dba4ab7a0652f2e"
        ],
        "files": [
            {
                "sha": "6379395e39ec0fbc52848e42304f6f7ab85688b8",
                "filename": "playbooks/provisioning/openstack/post-install.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 5,
                "changes": 10,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/22aa303b4de8448951abf636f3eee3be399c6f68/playbooks/provisioning/openstack/post-install.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/22aa303b4de8448951abf636f3eee3be399c6f68/playbooks/provisioning/openstack/post-install.yml",
                "status": "modified",
                "patch": "@@ -10,7 +10,7 @@\n # Enable iptables service on app nodes to persist custom rules (flannel SDN)\n # FIXME(bogdando) w/a https://bugzilla.redhat.com/show_bug.cgi?id=1490820\n - hosts: app\n-  gather_facts: False\n+  gather_facts: True\n   become: True\n   vars:\n     os_firewall_allow:\n@@ -42,14 +42,14 @@\n       block:\n         - name: set allow/masquerade rules for for flannel/docker\n           shell: >-\n-            (iptables-save | grep -q custom-flannel-docker-1) ||\n+            (iptables-save | grep -q flannel-ocp-allow-docker-traffic) ||\n             iptables -A DOCKER -w\n             -p all -j ACCEPT\n-            -m comment --comment \"custom-flannel-docker-1\";\n-            (iptables-save | grep -q custom-flannel-docker-2) ||\n+            -m comment --comment \"flannel-ocp-allow-docker-traffic\";\n+            (iptables-save | grep -q flannel-ocp-masquerade) ||\n             iptables -t nat -A POSTROUTING -w\n             -o {{flannel_interface|default('eth1')}}\n-            -m comment --comment \"custom-flannel-docker-2\"\n+            -m comment --comment \"flannel-ocp-masquerade\"\n             -j MASQUERADE\n \n         # NOTE(bogdando) the rules will not be restored, when iptables service unit is disabled & masked"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #51",
        "sha": "d7fbb1f61d1191166152acc249d0e910859619ca",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/d7fbb1f61d1191166152acc249d0e910859619ca",
        "parents": [
            "d6e8fe0dad9afc88eb88e0e34a7607042552df74"
        ],
        "files": [
            {
                "sha": "e3c641e09c82d2eed0ed5605d56432f9ab603515",
                "filename": "tasks/compatibility-checks.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 3,
                "changes": 7,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/d7fbb1f61d1191166152acc249d0e910859619ca/tasks/compatibility-checks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/d7fbb1f61d1191166152acc249d0e910859619ca/tasks/compatibility-checks.yml",
                "status": "modified",
                "patch": "@@ -8,6 +8,7 @@\n       and `live-restore=true` (docker_daemon_config['live-restore']: true)\n       triggers a bug (https://github.com/moby/moby/issues/35873). For now,\n       don't use both.\n-  when: docker_enable_mount_flag_fix\n-        and (docker_daemon_config['live-restore'] is defined\n-        and docker_daemon_config['live-restore'])\n+  when:\n+    - docker_enable_mount_flag_fix\n+    - docker_daemon_config['live-restore'] is defined\n+    - docker_daemon_config['live-restore']"
            },
            {
                "sha": "c5d463dcd3632f0b0f9fe7cea264276b11435e81",
                "filename": "tasks/bug-tweaks.yml",
                "previous_filename": null,
                "additions": 35,
                "deletions": 2,
                "changes": 37,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/d7fbb1f61d1191166152acc249d0e910859619ca/tasks/bug-tweaks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/d7fbb1f61d1191166152acc249d0e910859619ca/tasks/bug-tweaks.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,5 @@\n-# Configuration to avoid 'Device or resource busy'\n-- block:\n+- name: Configuration to avoid 'Device or resource busy'\n+  block:\n   - name: Stat /proc/sys/fs/may_detach_mounts (CentOS/RedHat)\n     stat:\n       path: /proc/sys/fs/may_detach_mounts\n@@ -32,3 +32,36 @@\n     - _docker_os_dist == \"CentOS\" or _docker_os_dist == \"RedHat\"\n     - docker_enable_mount_flag_fix | bool\n     - ansible_kernel | version_compare('4', '<')\n+\n+- name: Best effort handling to directlvm for Debian 8 to get uniform behavior across distributions\n+  block:\n+  - name: Create LVM thinpool for Docker according to Docker documentation\n+    include_tasks: lvm-thinpool.yml\n+    vars:\n+      pool:\n+        name: thinpool\n+        volume_group: docker\n+        physical_volumes: \"{{ docker_daemon_config['storage-opts'] | select('match', '^dm.directlvm_device.+') | list | regex_replace('dm.directlvm_device=\\\\s*(.+)', '\\\\1') }}\"\n+        metadata_size: \"1%VG\"\n+        data_size: \"95%VG\"\n+\n+  - name: Modify storage-opts to handle problems with thinpool on Debian 8\n+    set_fact:\n+      _modified_storage_config: \"{{ (docker_daemon_config['storage-opts'] | difference(_exclusions)) + ['dm.thinpooldev=/dev/mapper/docker-thinpool-tpool'] }}\"\n+    vars:\n+      _exclusions: \"{{ docker_daemon_config['storage-opts'] | select('match', '^dm.directlvm_device.+') | list }}\"\n+\n+  - name: Update Docker daemon configuration to handle consistency between distributions\n+    set_fact:\n+      docker_daemon_config: \"{{ docker_daemon_config | combine(_updated_item, recursive=true) }}\"\n+    vars:\n+      _updated_item: \"{ 'storage-opts': {{ _modified_storage_config }} }\"\n+\n+  - name: Updated Docker daemon configuration\n+    debug:\n+      var: docker_daemon_config\n+  when:\n+    - _docker_os_dist == \"Debian\"\n+    - _docker_os_dist_major_version == '8'\n+    - docker_daemon_config['storage-opts'] is defined\n+    - docker_daemon_config['storage-opts'] | select('match', '^dm.directlvm_device.+')"
            }
        ]
    },
    {
        "repo": "CSCfi/fgci-ansible",
        "author_id": null,
        "author_name": "Lu\u00eds Alves",
        "committer_id": null,
        "committer_name": "Lu\u00eds Alves",
        "committer_email": "luis.alves@csc.fi",
        "message": "Closes #13",
        "sha": "2a05a5032ce341d6a1d918453164c59ea2922f58",
        "url": "https://api.github.com/repos/fgci-org/fgci-ansible/commits/2a05a5032ce341d6a1d918453164c59ea2922f58",
        "parents": [
            "cd0410a521d2abc0b0e57f40c951982403b5f6d9"
        ],
        "files": [
            {
                "sha": "d7f1291b46cc7268701de4e81cc65dc64fc8e6fe",
                "filename": "roles/network_interface/tasks/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 6,
                "changes": 6,
                "blob_url": "https://github.com/fgci-org/fgci-ansible/blob/2a05a5032ce341d6a1d918453164c59ea2922f58/roles/network_interface/tasks/main.yml",
                "raw_url": "https://github.com/fgci-org/fgci-ansible/raw/2a05a5032ce341d6a1d918453164c59ea2922f58/roles/network_interface/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -134,9 +134,3 @@\n   register: bridge_port_result\n   notify:\n      - restart network\n-\n-handlers:\n-  - name: restart network\n-    service: \n-      name: network\n-      state: restarted"
            }
        ]
    },
    {
        "repo": "openwisp/ansible-openwisp2",
        "author_id": "MDQ6VXNlcjM0NTU4MTM4",
        "author_name": "Daniel",
        "committer_id": "MDQ6VXNlcjM0NTU4MTM4",
        "committer_name": "Daniel",
        "committer_email": "hello@danielwang.me",
        "message": "[qa] Fix Travis CI build errors #93\n\nTravis CI builds for Debian 9, Debian 10, and\nFedora 28 have been fixed. Python3 is set as\nthe ansible_python_interpreter for Fedora 28\nbecause it drops support for python-firewall\nwhich is for Python2. Cron is also added to\nresolve errors in Debian 10. Additionally,\ncryptography from pip is installed to fix an\nodd SSL error when installing django-redis on\nDebian 9.\n\nFixes #93",
        "sha": "481f7ad18dc225973e1d676d33e58c49cbbfe986",
        "url": "https://api.github.com/repos/openwisp/ansible-openwisp2/commits/481f7ad18dc225973e1d676d33e58c49cbbfe986",
        "parents": [
            "5c1cde6cffcd979d0292e988da029c0ece96054c"
        ],
        "files": [
            {
                "sha": "0c50b67a8a33b9759f3c47a1eb2637176584f8ea",
                "filename": "tasks/pip.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 0,
                "changes": 8,
                "blob_url": "https://github.com/openwisp/ansible-openwisp2/blob/481f7ad18dc225973e1d676d33e58c49cbbfe986/tasks/pip.yml",
                "raw_url": "https://github.com/openwisp/ansible-openwisp2/raw/481f7ad18dc225973e1d676d33e58c49cbbfe986/tasks/pip.yml",
                "status": "modified",
                "patch": "@@ -32,6 +32,14 @@\n     virtualenv_python: \"{{ openwisp2_python }}\"\n     virtualenv_site_packages: yes\n \n+- name: Install cryptography from pip\n+  pip:\n+    name: cryptography\n+    state: latest\n+    virtualenv: \"{{ virtualenv_path }}\"\n+    virtualenv_python: \"{{ openwisp2_python }}\"\n+    virtualenv_site_packages: yes\n+\n - name: Install openwisp2 controller and its dependencies\n   pip:\n     name:"
            },
            {
                "sha": "45e5e79f2db5c5d1d4b7c1887d3093ab82c3967c",
                "filename": "tasks/yum.yml",
                "previous_filename": null,
                "additions": 32,
                "deletions": 4,
                "changes": 36,
                "blob_url": "https://github.com/openwisp/ansible-openwisp2/blob/481f7ad18dc225973e1d676d33e58c49cbbfe986/tasks/yum.yml",
                "raw_url": "https://github.com/openwisp/ansible-openwisp2/raw/481f7ad18dc225973e1d676d33e58c49cbbfe986/tasks/yum.yml",
                "status": "modified",
                "patch": "@@ -7,7 +7,7 @@\n \n - name: Install system packages\n   package: name={{ item }} state=latest\n-  notify: \n+  notify:\n     - reload systemd\n     - start redis\n   with_items:\n@@ -20,9 +20,26 @@\n     - libffi-devel\n     - python-devel\n     - redis\n+    - redhat-rpm-config\n+    - cronie\n+\n+- name: Install python2 system packages\n+  when: ansible_python_interpreter == \"/usr/bin/python\"\n+  package: name={{ item }} state=latest\n+  notify:\n+    - reload systemd\n+  with_items:\n     - libsemanage-python\n     - policycoreutils-python\n-    - redhat-rpm-config\n+\n+- name: Install python3 system packages\n+  when: ansible_python_interpreter == \"/usr/bin/python3\"\n+  package: name={{ item }} state=latest\n+  notify:\n+    - reload systemd\n+  with_items:\n+    - libsemanage-python3\n+    - policycoreutils-python3\n \n # On the newer versions of redis, by default redis\n # binds to localhost on ipv6 address which wouldn't\n@@ -36,13 +53,24 @@\n     line: 'bind 127.0.0.1'\n     backrefs: yes\n \n-- name: Install firewall packages\n+# Fedora 28 and above drops the package python-firewall\n+# and it gets replaced by python3-firewall\n+\n+- name: Install python2 firewall packages\n+  when: ansible_python_interpreter == \"/usr/bin/python\"\n   package: name={{ item }} state=present\n   notify: reload systemd\n   with_items:\n     - python-firewall\n     - firewalld\n-  when: ansible_distribution_major_version|int >= 7\n+\n+- name: Install python3 firewall packages\n+  when: ansible_python_interpreter == \"/usr/bin/python3\"\n+  package: name={{ item }} state=present\n+  notify: reload systemd\n+  with_items:\n+    - python3-firewall\n+    - firewalld\n \n - name: Install spatialite\n   when: openwisp2_database.engine == \"django.contrib.gis.db.backends.spatialite\""
            },
            {
                "sha": "5b31bb9f9f1e74b0cea57def46d7a5661996e421",
                "filename": "tasks/apt.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/openwisp/ansible-openwisp2/blob/481f7ad18dc225973e1d676d33e58c49cbbfe986/tasks/apt.yml",
                "raw_url": "https://github.com/openwisp/ansible-openwisp2/raw/481f7ad18dc225973e1d676d33e58c49cbbfe986/tasks/apt.yml",
                "status": "modified",
                "patch": "@@ -15,6 +15,7 @@\n       - libffi-dev\n       - python-dev\n       - redis-server\n+      - cron\n     state: latest\n   notify:\n     - reload systemd"
            },
            {
                "sha": "4dae88e8ed704b16bc1be9fab20de250e26789d7",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/openwisp/ansible-openwisp2/blob/481f7ad18dc225973e1d676d33e58c49cbbfe986/meta/main.yml",
                "raw_url": "https://github.com/openwisp/ansible-openwisp2/raw/481f7ad18dc225973e1d676d33e58c49cbbfe986/meta/main.yml",
                "status": "modified",
                "patch": "@@ -23,9 +23,12 @@ galaxy_info:\n     versions:\n     - trusty\n     - xenial\n+    - bionic\n   - name: Fedora\n     versions:\n     - 25\n+    - 27\n+    - 28\n   - name: EL\n     versions:\n     - 7"
            },
            {
                "sha": "7a84ec83692f04b3f334d8d35bd4d0f17ca7650b",
                "filename": "tasks/variables-spatialite.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 3,
                "changes": 10,
                "blob_url": "https://github.com/openwisp/ansible-openwisp2/blob/481f7ad18dc225973e1d676d33e58c49cbbfe986/tasks/variables-spatialite.yml",
                "raw_url": "https://github.com/openwisp/ansible-openwisp2/raw/481f7ad18dc225973e1d676d33e58c49cbbfe986/tasks/variables-spatialite.yml",
                "status": "modified",
                "patch": "@@ -1,16 +1,20 @@\n-- name: Set spatialite_path for Fedora\n+- name: Set spatialite_path for Fedora <= 27\n   set_fact:\n     openwisp2_spatialite_path: \"mod_spatialite\"\n-  when: ansible_distribution == 'Fedora'\n+  when: >\n+    (ansible_distribution == 'Fedora'\n+    and ansible_distribution_version is version_compare('27', 'le'))\n \n-- name: Set spatialite_path (Ubuntu >= 18.04 or Debian >= 10)\n+- name: Set spatialite_path (Ubuntu >= 18.04 or Debian >= 10 or Fedora >= 28)\n   set_fact:\n     openwisp2_spatialite_path: \"mod_spatialite.so\"\n   when: >\n     (ansible_distribution == 'Ubuntu' \n     and ansible_distribution_version is version_compare('18.04', 'ge')) \n     or (ansible_distribution == 'Debian' and \n     ansible_distribution_version is version_compare('10', 'ge'))\n+    or (ansible_distribution == 'Fedora' and\n+    ansible_distribution_version is version_compare('28', 'ge'))\n \n - name: Set spatialite_path (Ubuntu >= 16.04 or Debian >= 9)\n   set_fact:"
            }
        ]
    },
    {
        "repo": "mrlesmithjr/ansible-manage-lvm",
        "author_id": "MDQ6VXNlcjMyNTQzNjc=",
        "author_name": "Kevin Loveland",
        "committer_id": "MDQ6VXNlcjMyNTQzNjc=",
        "committer_name": "Kevin Loveland",
        "committer_email": "kevin.loveland@gmail.com",
        "message": "Fixed issue with idempotency of lvol module. See ansible-module-extras issue #428",
        "sha": "7749d0c62a6e1539aff94c57fd2c0eeaf43dd1a0",
        "url": "https://api.github.com/repos/mrlesmithjr/ansible-manage-lvm/commits/7749d0c62a6e1539aff94c57fd2c0eeaf43dd1a0",
        "parents": [
            "3ad965237280d534f0aab0027f9ef61701354e8b"
        ],
        "files": [
            {
                "sha": "9898f4e6f0dd75f2a77c92b6ff7517a3822c1421",
                "filename": "tasks/manage_lvm.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/mrlesmithjr/ansible-manage-lvm/blob/7749d0c62a6e1539aff94c57fd2c0eeaf43dd1a0/tasks/manage_lvm.yml",
                "raw_url": "https://github.com/mrlesmithjr/ansible-manage-lvm/raw/7749d0c62a6e1539aff94c57fd2c0eeaf43dd1a0/tasks/manage_lvm.yml",
                "status": "modified",
                "patch": "@@ -12,6 +12,7 @@\n     vg: \"{{ item.0.vgname }}\"\n     lv: \"{{ item.1.lvname }}\"\n     size: \"{{ item.1.size }}\"\n+    shrink: no\n     state: present\n   register: lvm\n   with_subelements:"
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "add support for private IPv4 addresses (fixes #102)\n\nUse public IPs only by default and fallback\nto a single private IP in case we have no public IP.\nUsing public _and_ private IPv4 addresses at the same\ntime on a single host is not supported.\n\nFixes a bug where we created more than two\ntor instances per public IPv4 address when the\nhost had private and public IPv4 addresses.\n\nVariable 'tor_v4ips' can no longer be set since it is\npotentially overwritten at runtime.\n\ntor_maxips is replaced with tor_maxPublicIPs + tor_maxPrivateIPs\n\ntorrc: no longer include 'Address' line.\n\nThis would be simpler without bug ansible/ansible#14829 (#80).",
        "sha": "1224adf2811c827a09ff0bf133fbb476901a547d",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/1224adf2811c827a09ff0bf133fbb476901a547d",
        "parents": [
            "f5364b57f100ae9fa898af59b7812ec0c447ac42"
        ],
        "files": [
            {
                "sha": "1988f01ef9d24891230f86caf9f6bb0c5d99b828",
                "filename": "tasks/ip-list.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/1224adf2811c827a09ff0bf133fbb476901a547d/tasks/ip-list.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/1224adf2811c827a09ff0bf133fbb476901a547d/tasks/ip-list.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,9 @@\n ---\n \n+- name: Use a single private IPv4 address if we have no public IPv4 address\n+  include_vars: private_IPv4_only.yml\n+  when: tor_v4ips == []\n+\n # workaround for this ansible IPv6 filter bug\n # https://github.com/ansible/ansible/issues/14829\n # we simply convert False to empty lists"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-nodejs",
        "author_id": null,
        "author_name": "Karl Hepworth",
        "committer_id": null,
        "committer_name": "Karl Hepworth",
        "committer_email": "Karl.Hepworth@ssc.gov.au",
        "message": "Fix #3",
        "sha": "fe7a35319145421cbe2b1a2b097c272653593119",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-nodejs/commits/fe7a35319145421cbe2b1a2b097c272653593119",
        "parents": [
            "bef16dc52a7c7d66259afdaae2fd67cab79e3889"
        ],
        "files": [
            {
                "sha": "6fa10ca4ca8e9d253ab6b8848d101cb1b2f21071",
                "filename": "tasks/nodejs.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/fubarhouse/ansible-role-nodejs/blob/fe7a35319145421cbe2b1a2b097c272653593119/tasks/nodejs.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-nodejs/raw/fe7a35319145421cbe2b1a2b097c272653593119/tasks/nodejs.yml",
                "status": "modified",
                "patch": "@@ -12,7 +12,8 @@\n - name: \"NodeJS | Install\"\n   become: yes\n   become_user: \"{{ ansible_ssh_user }}\"\n-  shell:  \"{{ fubarhouse_npm.nvm_symlink_exec }} install v{{ fubarhouse_npm.node_version }}\"\n+  shell:  \"{{ fubarhouse_npm.nvm_symlink_exec }} install v{{ item }}\"\n+  with_items: \"{{ fubarhouse_npm.all_node_versions }}\"\n   when: \"'{{ fubarhouse_npm.node_version }}' not in fubarhouse_npm_node_install_result.stdout\"\n \n - name: \"NodeJS | Switching\""
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjg5MjkyMzM=",
        "author_name": "Wolfgang Kulhanek",
        "committer_id": "MDQ6VXNlcjExOTEyODU=",
        "committer_name": "Andrew Block",
        "committer_email": "andy.block@gmail.com",
        "message": "Fixed a few minor things in the postgres role (#233)\n\n* Rearranged variables\r\n\r\n* Fixed logic when to generate passwords\r\n\r\n* Fixed firewall port variables and firewalld command\r\n\r\n* Fixed Firewalld config command\r\n\r\n* Fixed quay service name\r\n\r\n* Fixed service name\r\n\r\n* Fixed port variable and firewalld command\r\n\r\n* Fixed location of inventory\r\n\r\n* Fixed postgres service name\r\n\r\n* Fixed template names\r\n\r\n* Fixed port variable names, fixed firewalld command\r\n\r\n* Minor formatting updates (quay -> Quay)\r\n\r\n* Fixed quay service variable name\r\n\r\n* Added become:True where appropriate, changed database parameters to MySQL database, added postgresql_admin_user to postgres tasks, removed block around clair database, added logic to set quay hostname for clair when lb defined",
        "sha": "83a79a9f8c1054117e69e39e9e562803241dc7bc",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/83a79a9f8c1054117e69e39e9e562803241dc7bc",
        "parents": [
            "9768de4894bf944a9c5e951a44b444dc9d846c16"
        ],
        "files": [
            {
                "sha": "ba0fc09eb9ee8103644b736e909c16e697531662",
                "filename": "roles/config-quay-enterprise/tasks/complete_setup.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-quay-enterprise/tasks/complete_setup.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-quay-enterprise/tasks/complete_setup.yml",
                "status": "modified",
                "patch": "@@ -8,7 +8,7 @@\n \n     - name: Restart Quay\n       systemd:\n-        name: \"{{ quay_name }}\"\n+        name: \"{{ quay_service }}\"\n         enabled: yes\n         state: restarted\n         daemon_reload: yes\n@@ -24,8 +24,8 @@\n       retries: 30\n       delay: 10\n     - name: Write file\n-      copy: \n-        content: \"{{ uri_setup.content }}\" \n+      copy:\n+        content: \"{{ uri_setup.content }}\"\n         dest: \"{{ tmp_setup_file_location }}\"\n     - name: Extract csrf token\n       shell: cat /tmp/quay | grep \"__token\" | awk -F\\' '{print $(NF-1)}'\n@@ -60,4 +60,4 @@\n     owner: root\n     group: root\n     mode: g+rw\n-  notify: Restart quay service\n\\ No newline at end of file\n+  notify: Restart quay service"
            },
            {
                "sha": "56d351e28a79f333da4a9fb5070d243e70f34da6",
                "filename": "roles/config-postgresql/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 2,
                "changes": 3,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-postgresql/defaults/main.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-postgresql/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,4 @@\n ---\n-\n mode: containerized\n \n postgresql_name: postgresql\n@@ -18,9 +17,9 @@ postgresql_container_port: 5432\n postgresql_host_port: 5432\n \n # These Values will be randomaly generated if not defined\n-#postgresql_admin_user: postgresqladmin\n #postgresql_username: postgresql\n #postgresql_password: postgresql\n+#postgresql_admin_user: postgresqladmin\n #postgresql_admin_password: postgresqladmin\n \n postgresql_db_uri: \"postgresql://{{ postgresql_admin_user }}:{{ postgresql_admin_password }}@{{ database_service }}/{{ postgresql_database }}\""
            },
            {
                "sha": "9bfa345ddf55829c174d613c07cbc18f7cc4f32c",
                "filename": "roles/config-postgresql/tasks/install_containerized.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 12,
                "changes": 21,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-postgresql/tasks/install_containerized.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-postgresql/tasks/install_containerized.yml",
                "status": "modified",
                "patch": "@@ -1,25 +1,23 @@\n ---\n-\n - name: Generate Random DB Username\n   set_fact:\n     postgresql_username: \"{{ lookup('password', '/dev/null length=5 chars=ascii_letters') | lower }}\"\n-  when: postgresql_username is undefined or postgresql_username|trim == \"\"\n-\n-- name: Generate Random DB Admin Username\n-  set_fact:\n-    postgresql_admin_user: \"{{ lookup('password', '/dev/null length=5 chars=ascii_letters') | lower }}\"\n-  when: postgresql_admin_user is undefined or postgresql_admin_user|trim == \"\"\n-\n+  when: postgresql_username is undefined and postgresql_username|trim == \"\"\n \n - name: Generate Random DB Password\n   set_fact:\n     postgresql_password: \"{{ lookup('password', '/dev/null length=10 chars=ascii_letters,digits,hexdigits') }}\"\n-  when: postgresql_password is undefined or postgresql_password|trim == \"\"\n+  when: postgresql_password is undefined and postgresql_password|trim == \"\"\n+\n+- name: Generate Random DB Admin Username\n+  set_fact:\n+    postgresql_admin_user: \"{{ lookup('password', '/dev/null length=5 chars=ascii_letters') | lower }}\"\n+  when: postgresql_admin_user is undefined and postgresql_admin_user|trim == \"\"\n \n - name: Generate Random Admin DB Password\n   set_fact:\n     postgresql_admin_password: \"{{ lookup('password', '/dev/null length=10 chars=ascii_letters,digits,hexdigits') }}\"\n-  when: postgresql_admin_password is undefined or postgresql_admin_password|trim == \"\"\n+  when: postgresql_admin_password is undefined and postgresql_admin_password|trim == \"\"\n \n - name: Configure Storage Directory\n   file:\n@@ -30,7 +28,6 @@\n     path: \"{{ postgresql_storage_dir }}\"\n   notify: \"Restart PostgreSQL Service\"\n \n-\n - name: Configure systemd environment files\n   template:\n     src: \"postgresql.j2\"\n@@ -44,4 +41,4 @@\n   notify: \"Restart PostgreSQL Service\"\n \n - name: Include firewall tasks\n-  include_tasks: firewall.yml\n\\ No newline at end of file\n+  include_tasks: firewall.yml"
            },
            {
                "sha": "db625270140b73d90f2da1d7be4a9cadabbd34c1",
                "filename": "roles/config-quay-enterprise/tasks/firewall.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 7,
                "changes": 14,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-quay-enterprise/tasks/firewall.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-quay-enterprise/tasks/firewall.yml",
                "status": "modified",
                "patch": "@@ -14,26 +14,26 @@\n \n - name: Open port in firewalld\n   firewalld:\n-    port: \"{{ item }}/TCP\"\n+    port: \"{{ item }}/tcp\"\n     permanent: true\n     state: enabled\n   when: firewalld_status.rc == 0\n   with_items:\n-    - \"{{ quay_http_port }}\"\n-    - \"{{ quay_https_port }}\"\n+    - \"{{ quay_host_http_port }}\"\n+    - \"{{ quay_host_https_port }}\"\n   notify:\n   - restart firewalld\n \n-- name: Ensure iptables is correctly configured \n+- name: Ensure iptables is correctly configured\n   lineinfile:\n     insertafter: \"^-A INPUT .* --dport {{ item }} .* ACCEPT\"\n     state: present\n     dest: /etc/sysconfig/iptables\n     regexp: \"^-A INPUT .* --dport {{ item }} .* ACCEPT\"\n     line: \"-A INPUT -p TCP -m state --state NEW -m TCP --dport {{ item }} -j ACCEPT\"\n   with_items:\n-    - \"{{ quay_http_port }}\"\n-    - \"{{ quay_https_port }}\"\n-  when: iptables_status.rc == 0 and firewalld_status.rc != 0 \n+    - \"{{ quay_host_http_port }}\"\n+    - \"{{ quay_host_https_port }}\"\n+  when: iptables_status.rc == 0 and firewalld_status.rc != 0\n   notify:\n   - restart iptables"
            },
            {
                "sha": "e8148d65916c373804e8a23e7e0371266ee7aa71",
                "filename": "playbooks/container-registry/quay-enterprise.yml",
                "previous_filename": null,
                "additions": 35,
                "deletions": 22,
                "changes": 57,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/83a79a9f8c1054117e69e39e9e562803241dc7bc/playbooks/container-registry/quay-enterprise.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/83a79a9f8c1054117e69e39e9e562803241dc7bc/playbooks/container-registry/quay-enterprise.yml",
                "status": "modified",
                "patch": "@@ -53,20 +53,21 @@\n           lb_ssl_enabled: True\n       lb_backend_template: \"{{ playbook_dir }}/templates/haproxy_backend.cfg.j2\"\n \n-- name: Install and Configure MySQL for Quay\n+- name: Install and Configure Database for Quay\n   hosts: database\n+  become: True\n   tasks:\n     - name: Install MySQL\n       include_role:\n         name: config-mysql\n       vars:\n         mode: containerized\n-        mysql_name: \"{{ database_service_name | default('mysql-quay') }}\"\n-        mysql_username: \"{{ database_username }}\"\n-        mysql_password: \"{{ database_password }}\"\n-        mysql_root_username: \"{{ database_admin_username }}\"\n-        mysql_root_password: \"{{ database_admin_password }}\"\n-        mysql_database: \"{{ database_name }}\"\n+        mysql_name: \"{{ quay_database_service_name | default('mysql-quay') }}\"\n+        mysql_username: \"{{ quay_database_username }}\"\n+        mysql_password: \"{{ quay_database_password }}\"\n+        mysql_root_username: \"{{ quay_database_admin_username }}\"\n+        mysql_root_password: \"{{ quay_database_admin_password }}\"\n+        mysql_database: \"{{ quay_database_name }}\"\n       when: quay_database_type == \"mysql\"\n \n     - name: Install and Configure PostgreSQL for Quay\n@@ -79,6 +80,7 @@\n             postgresql_name: \"{{ quay_database_service_name | default('postgresql-quay') }}\"\n             postgresql_username: \"{{ quay_database_username }}\"\n             postgresql_password: \"{{ quay_database_password }}\"\n+            postgresql_admin_user: \"{{ quay_database_admin_username }}\"\n             postgresql_admin_password: \"{{ quay_database_admin_password }}\"\n             postgresql_port: \"{{ quay_database_port | default('5432') }}\"\n             postgresql_database: \"{{ quay_database_name }}\"\n@@ -104,6 +106,7 @@\n \n - name: Install Redis\n   hosts: redis\n+  become: True\n   tasks:\n     - name: Install Redis\n       include_role:\n@@ -113,6 +116,7 @@\n \n - name: Install Quay Enterprise\n   hosts: quay_enterprise\n+  become: True\n   tasks:\n     - name: Set Quay Hostname When LB Defined\n       set_fact:\n@@ -136,32 +140,41 @@\n         quay_clair_enable: \"{{ (groups['clair']| length > 0) | ternary('True','False') }}\"\n         quay_clair_endpoint: \"http://{{ hostvars[groups['clair'][0]]['ansible_eth0']['ipv4']['address'] if (groups['clair']| length > 0) else '' }}:{{ clair_endpoint_port | default('6060') }}\"\n \n-\n - name: Install Clair Database\n   hosts: database\n+  become: True\n   tasks:\n     - name: Install and Configure PostgreSQL for Clair\n-      block:\n-        - name: Install PostgreSQL for Clair\n-          include_role:\n-            name: config-postgresql\n-          vars:\n-            mode: containerized\n-            postgresql_name: \"{{ clair_database_service_name | default('postgresql-clair') }}\"\n-            postgresql_username: \"{{ clair_database_username }}\"\n-            postgresql_password: \"{{ clair_database_password }}\"\n-            postgresql_host_port: \"{{ clair_database_port | default('5433') }}\"\n-            postgresql_admin_password: \"{{ clair_database_admin_password }}\"\n-            postgresql_database: \"{{ clair_database_name }}\"\n-          when: groups['clair']| length > 0\n+      include_role:\n+        name: config-postgresql\n+      vars:\n+        mode: containerized\n+        postgresql_name: \"{{ clair_database_service_name | default('postgresql-clair') }}\"\n+        postgresql_username: \"{{ clair_database_username }}\"\n+        postgresql_password: \"{{ clair_database_password }}\"\n+        postgresql_admin_user: \"{{ clair_database_admin_username }}\"\n+        postgresql_admin_password: \"{{ clair_database_admin_password }}\"\n+        postgresql_port: \"{{ clair_database_port | default('5433') }}\"\n+        postgresql_database: \"{{ clair_database_name }}\"\n+      when: groups['clair']| length > 0\n \n - name: Install Clair\n   hosts: clair\n+  become: True\n   tasks:\n     - name: Gather facts from machine\n       setup:\n       with_items:\n         - \"{{ groups['quay_enterprise'] }}\"\n+    - name: Set Quay Hostname When LB Defined\n+      set_fact:\n+        quay_hostname: \"{{ hostvars[groups['lb'][0]]['inventory_hostname'] }}\"\n+      when: quay_hostname is undefined and groups['lb'] | length > 0\n+    - name: Set Quay Hostname When LB Defined\n+      set_fact:\n+        quay_hostname: \"{{ hostvars[groups['quay_enterprise'][0]]['inventory_hostname'] }}\"\n+      when: quay_hostname is undefined and groups['lb'] | length == 0\n+\n     - name: Install Clair\n       include_role:\n         name: config-clair\n@@ -171,4 +184,4 @@\n         clair_ssl_trust_configure: \"{{ hostvars[groups['quay_enterprise'][0]]['quay_ssl_enable']|bool }}\"\n         clair_ssl_trust_src_file: \"{{ hostvars[groups['quay_enterprise'][0]]['quay_ssl_cert_file'] if hostvars[groups['quay_enterprise'][0]]['quay_ssl_enable'] is defined and hostvars[groups['quay_enterprise'][0]]['quay_ssl_enable']|bool else '' }}\"\n         postgresql_port: \"{{ clair_database_port | default('5433') }}\"\n-        clair_host_proxy_port: \"{{ clair_endpoint_port | default('6060') }}\"\n\\ No newline at end of file\n+        clair_host_proxy_port: \"{{ clair_endpoint_port | default('6060') }}\""
            },
            {
                "sha": "f42c601b0371afc9eedc0f5825209912f86ab8f0",
                "filename": "roles/config-redis/handlers/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-redis/handlers/main.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-redis/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,8 @@\n+---\n+\n - name: Restart Redis Service\n   systemd:\n-    name: \"{{ redis_name }}\"\n+    name: \"{{ redis_service }}\"\n     enabled: yes\n     state: restarted\n     daemon_reload: yes\n@@ -13,4 +15,4 @@\n - name: restart iptables\n   service:\n     name: iptables\n-    state: restarted\n\\ No newline at end of file\n+    state: restarted"
            },
            {
                "sha": "f719aaf471e80ea0e08a52adeee2aa94bfefd05b",
                "filename": "roles/config-clair/tasks/firewall.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 7,
                "changes": 14,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-clair/tasks/firewall.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-clair/tasks/firewall.yml",
                "status": "modified",
                "patch": "@@ -14,26 +14,26 @@\n \n - name: Open port in firewalld\n   firewalld:\n-    port: \"{{ item }}/TCP\"\n+    port: \"{{ item }}/tcp\"\n     permanent: true\n     state: enabled\n   when: firewalld_status.rc == 0\n   with_items:\n-    - \"{{ clair_proxy_host_port }}\"\n-    - \"{{ clair_api_host_port }}\"\n+    - \"{{ clair_host_proxy_port }}\"\n+    - \"{{ clair_host_api_port }}\"\n   notify:\n   - restart firewalld\n \n-- name: Ensure iptables is correctly configured \n+- name: Ensure iptables is correctly configured\n   lineinfile:\n     insertafter: \"^-A INPUT .* --dport {{ item }} .* ACCEPT\"\n     state: present\n     dest: /etc/sysconfig/iptables\n     regexp: \"^-A INPUT .* --dport {{ item }} .* ACCEPT\"\n     line: \"-A INPUT -p TCP -m state --state NEW -m TCP --dport {{ item }} -j ACCEPT\"\n   with_items:\n-    - \"{{ clair_proxy_host_port }}\"\n-    - \"{{ clair_api_host_port }}\"\n-  when: iptables_status.rc == 0 and firewalld_status.rc != 0 \n+    - \"{{ clair_host_proxy_port }}\"\n+    - \"{{ clair_host_api_port }}\"\n+  when: iptables_status.rc == 0 and firewalld_status.rc != 0\n   notify:\n   - restart iptables"
            },
            {
                "sha": "5ced7e6e42e16bd8f751eb5501d9781edd0ccf8f",
                "filename": "roles/config-redis/tasks/firewall.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-redis/tasks/firewall.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-redis/tasks/firewall.yml",
                "status": "modified",
                "patch": "@@ -14,20 +14,20 @@\n \n - name: Open port in firewalld\n   firewalld:\n-    port: \"{{ redis_port }}/TCP\"\n+    port: \"{{ redis_host_port }}/tcp\"\n     permanent: true\n     state: enabled\n   when: firewalld_status.rc == 0\n   notify:\n   - restart firewalld\n \n-- name: Ensure iptables is correctly configured \n+- name: Ensure iptables is correctly configured\n   lineinfile:\n-    insertafter: \"^-A INPUT .* --dport {{ redis_port }} .* ACCEPT\"\n+    insertafter: \"^-A INPUT .* --dport {{ redis_host_port }} .* ACCEPT\"\n     state: present\n     dest: /etc/sysconfig/iptables\n     regexp: \"^-A INPUT .* --dport {{ redis_port }} .* ACCEPT\"\n     line: \"-A INPUT -p TCP -m state --state NEW -m TCP --dport {{ redis_port }} -j ACCEPT\"\n-  when: iptables_status.rc == 0 and firewalld_status.rc != 0 \n+  when: iptables_status.rc == 0 and firewalld_status.rc != 0\n   notify:\n   - restart iptables"
            },
            {
                "sha": "200f931bd9b240082c7f12936d62c8a00674b18c",
                "filename": "roles/config-quay-enterprise/tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 4,
                "changes": 7,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-quay-enterprise/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-quay-enterprise/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -68,7 +68,7 @@\n     - name: Create SSL Certificate\n       command: openssl req -nodes -x509 -newkey rsa:4096 -keyout {{ quay_ssl_remote_tmp_dir }}/ssl.key -out {{ quay_ssl_remote_tmp_dir }}/ssl.cert -subj \"/C={{ quay_ssl_generate_country }}/ST={{ quay_ssl_generate_state }}/L={{ quay_ssl_generate_city }}/O={{ quay_ssl_generate_organization }}/OU={{ quay_ssl_generate_organizational_unit }}/CN={{ quay_server_hostname }}\" -days {{ quay_ssl_generate_days_validity }}\n       delegate_to: \"{{ groups['quay_enterprise'][0] }}\"\n-  \n+\n     - name: Fetch SSL Certifictes\n       fetch:\n         src:  \"{{ item.src }}\"\n@@ -106,8 +106,7 @@\n     - { src: \"{{ quay_ssl_cert_file }}\", dest: \"{{ quay_config_dir }}/ssl.cert\" }\n   when: quay_ssl_enable|bool\n \n-\n-- name: Check if quay configuration exists\n+- name: Check if Quay configuration exists\n   stat:\n     path: \"{{ quay_config_dir }}/config.yaml\"\n   register: quay_config_stat_result\n@@ -131,4 +130,4 @@\n \n - name: Setup Initial User and Configuration\n   include_tasks: complete_setup.yml\n-  when: not quay_config_stat_result.stat.exists and quay_superuser_username is defined and quay_superuser_username|trim != \"\" and quay_superuser_password is defined and quay_superuser_password|trim != \"\" and quay_superuser_email is defined and quay_superuser_email|trim != \"\" \n\\ No newline at end of file\n+  when: not quay_config_stat_result.stat.exists and quay_superuser_username is defined and quay_superuser_username|trim != \"\" and quay_superuser_password is defined and quay_superuser_password|trim != \"\" and quay_superuser_email is defined and quay_superuser_email|trim != \"\""
            },
            {
                "sha": "a6c182b07e6282124e8b6f1c24bcb0abe79100ba",
                "filename": "roles/config-postgresql/tasks/firewall.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-postgresql/tasks/firewall.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-postgresql/tasks/firewall.yml",
                "status": "modified",
                "patch": "@@ -14,20 +14,20 @@\n \n - name: Open port in firewalld\n   firewalld:\n-    port: \"{{ postgresql_port }}/TCP\"\n+    port: \"{{ postgresql_port }}/tcp\"\n     permanent: true\n     state: enabled\n   when: firewalld_status.rc == 0\n   notify:\n   - restart firewalld\n \n-- name: Ensure iptables is correctly configured \n+- name: Ensure iptables is correctly configured\n   lineinfile:\n     insertafter: \"^-A INPUT .* --dport {{ postgresql_port }} .* ACCEPT\"\n     state: present\n     dest: /etc/sysconfig/iptables\n     regexp: \"^-A INPUT .* --dport {{ postgresql_port }} .* ACCEPT\"\n     line: \"-A INPUT -p TCP -m state --state NEW -m TCP --dport {{ postgresql_port }} -j ACCEPT\"\n-  when: iptables_status.rc == 0 and firewalld_status.rc != 0 \n+  when: iptables_status.rc == 0 and firewalld_status.rc != 0\n   notify:\n   - restart iptables"
            },
            {
                "sha": "c54cc3058d71627fed413816d69303b6398c0f81",
                "filename": "roles/config-quay-enterprise/handlers/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-quay-enterprise/handlers/main.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-quay-enterprise/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n \n - name: Restart quay service\n   systemd:\n-    name: \"{{ quay_name }}\"\n+    name: \"{{ quay_service }}\"\n     enabled: yes\n     state: restarted\n     daemon_reload: yes\n@@ -15,4 +15,4 @@\n - name: restart iptables\n   service:\n     name: iptables\n-    state: restarted\n\\ No newline at end of file\n+    state: restarted"
            },
            {
                "sha": "d4a2cdaa6072534e23054883745ef596a5bf7f42",
                "filename": "roles/config-postgresql/handlers/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-postgresql/handlers/main.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/83a79a9f8c1054117e69e39e9e562803241dc7bc/roles/config-postgresql/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n \n - name: Restart PostgreSQL Service\n   systemd:\n-    name: \"{{ postgresql_name }}\"\n+    name: \"{{ postgresql_service }}\"\n     enabled: yes\n     state: restarted\n     daemon_reload: yes\n@@ -15,4 +15,4 @@\n - name: restart iptables\n   service:\n     name: iptables\n-    state: restarted\n\\ No newline at end of file\n+    state: restarted"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "haxorof",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "haxorof",
        "committer_email": "bjorn.oscarsson@gmail.com",
        "message": "Fixes #2",
        "sha": "23d89498e8b43ab624b6e832c34b722ae49f106d",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/23d89498e8b43ab624b6e832c34b722ae49f106d",
        "parents": [
            "ea2d350c7988c8583069d78ff3453c033754724d"
        ],
        "files": [
            {
                "sha": "1c319c0956b5987c5ad722c9e6a5f7f1d3cd6b4b",
                "filename": "tasks/main-Generic.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 0,
                "changes": 7,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/23d89498e8b43ab624b6e832c34b722ae49f106d/tasks/main-Generic.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/23d89498e8b43ab624b6e832c34b722ae49f106d/tasks/main-Generic.yml",
                "status": "modified",
                "patch": "@@ -46,6 +46,13 @@\n   become: true\n   notify: restart docker\n \n+- name: Ensure /etc/docker directory exists\n+  file:\n+    path: /etc/docker\n+    state: directory\n+    mode: 0755\n+  become: true\n+\n - name: Configure Docker daemon\n   copy:\n     content: \"{{docker_daemon_config | to_nice_json}}\""
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #8: Complete rewrite for modern Solr installation.",
        "sha": "bfcfb80eb911615cefc03429f8d103aba0bb6eef",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/bfcfb80eb911615cefc03429f8d103aba0bb6eef",
        "parents": [
            "68e1f56935cb8743bbbb75ff8ab28914a81b199d"
        ],
        "files": [
            {
                "sha": "43a9157019e3b8feca382d4914bf50d8071ab14b",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 24,
                "deletions": 77,
                "changes": 101,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/bfcfb80eb911615cefc03429f8d103aba0bb6eef/tasks/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/bfcfb80eb911615cefc03429f8d103aba0bb6eef/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,92 +1,39 @@\n ---\n-- name: Include OS-specific variables.\n-  include_vars: \"{{ ansible_os_family }}.yml\"\n+- include: user.yml\n+  when: solr_create_user\n \n - name: Set solr_filename for Solr 4.x.\n-  set_fact: >\n-    solr_filename=solr-{{ solr_version }}\n+  set_fact:\n+    \"solr_filename=solr-{{ solr_version }}\"\n   when: \"solr_version.split('.')[0] == '4'\"\n \n - name: Set solr_filename for Solr 3.x.\n-  set_fact: >\n-    solr_filename=apache-solr-{{ solr_version }}\n+  set_fact:\n+    solr_filename: \"apache-solr-{{ solr_version }}\"\n   when: \"solr_version.split('.')[0] == '3'\"\n \n - name: Download Solr.\n-  get_url: >\n-    url=http://archive.apache.org/dist/lucene/solr/{{ solr_version }}/{{ solr_filename }}.tgz\n-    dest={{ workspace }}/{{ solr_filename }}.tgz\n-    force=no\n+  get_url:\n+    url: \"http://archive.apache.org/dist/lucene/solr/{{ solr_version }}/{{ solr_filename }}.tgz\"\n+    dest: \"{{ solr_workspace }}/{{ solr_filename }}.tgz\"\n+    force: no\n \n - name: Expand Solr.\n   command: >\n-    tar -C {{ workspace }} -xvzf {{ workspace }}/{{ solr_filename }}.tgz\n-    creates={{ workspace }}/{{ solr_filename }}/dist/{{ solr_filename }}.war\n+    tar -C {{ solr_workspace }} -xvzf {{ solr_workspace }}/{{ solr_filename }}.tgz\n+    creates={{ solr_workspace }}/{{ solr_filename }}/dist/{{ solr_filename }}.war\n \n - name: Copy Solr into place.\n   command: >\n-    cp -r {{ workspace }}/{{ solr_filename }} {{ solr_path }}\n-    creates={{ solr_path }}/dist/{{ solr_filename }}.war\n-\n-- name: Copy Solr war file into place.\n-  command: >\n-    cp {{ solr_path }}/dist/{{ solr_filename }}.war {{ solr_path }}/solr.war\n-    creates={{ solr_path }}/solr.war\n-  notify: restart tomcat\n-\n-- name: Copy solr.xml into Tomcat.\n-  template: >\n-    src=Catalina/solr.xml.j2\n-    dest=/etc/tomcat6/Catalina/{{ tomcat6_hostname }}/solr.xml\n-    owner={{ tomcat_user }} group={{ tomcat_user }} mode=755\n-  notify: restart tomcat\n-\n-- name: Copy Solr multicore example into place.\n-  command: >\n-    cp -R {{ solr_path }}/example/multicore {{ solr_path }}/cores\n-    creates={{ solr_path }}/cores/README.txt\n-  notify: restart tomcat\n-\n-- name: Check if solr.xml file already exists.\n-  stat: \"path={{ solr_path }}/solr.xml\"\n-  register: solr_file\n-\n-- name: Copy Solr core XML file into place.\n-  template: >\n-    src=solr.xml.j2\n-    dest={{ solr_path }}/solr.xml\n-    owner={{ tomcat_user }}\n-    group={{ tomcat_user }}\n-    mode=755\n-    backup=yes\n-  when: solr_file.stat.exists == false\n-  notify: restart tomcat\n-\n-- name: Check if setup-complete file exists.\n-  stat: \"path={{ solr_path }}/setup-complete\"\n-  register: setup_complete\n-\n-- name: Copy logging jar files and configuration into place for Solr 4.x.\n-  shell: \"{{ item }}\"\n-  with_items:\n-    - \"cp -n {{ solr_path }}/example/lib/ext/* {{ tomcat_lib_path }}\"\n-    - \"cp -n {{ solr_path }}/example/resources/log4j.properties {{ tomcat_lib_path }}\"\n-  when: \"(setup_complete.stat.exists == false) and (solr_version.split('.')[0] == '4')\"\n-  notify: restart tomcat\n-\n-- name: Fix file permissions.\n-  file: >\n-    path={{ solr_path }}\n-    state=directory\n-    owner={{ tomcat_user }} group={{ tomcat_user }} mode=0755\n-    recurse=yes\n-  when: setup_complete.stat.exists == false\n-\n-- name: Create file to indicate Solr install completion.\n-  file: >\n-    path={{ solr_path }}/setup-complete\n-    state=touch\n-    owner={{ tomcat_user }}\n-    group={{ tomcat_user }}\n-    mode=755\n-  when: setup_complete.stat.exists == false\n+    cp -r {{ solr_workspace }}/{{ solr_filename }} {{ solr_install_path }}\n+    creates={{ solr_install_path }}/dist/{{ solr_filename }}.war\n+\n+- name: Ensure Solr install files are owned by the solr_user.\n+  file:\n+    path: \"{{ solr_install_path }}\"\n+    owner: \"{{ solr_user }}\"\n+    group: \"{{ solr_user }}\"\n+    recurse: yes\n+\n+- include: solr-home.yml\n+- include: init.yml"
            },
            {
                "sha": "9c4eff9d3ea6a9207ec9d5cd49585fab068abf0e",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 3,
                "changes": 5,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/bfcfb80eb911615cefc03429f8d103aba0bb6eef/meta/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/bfcfb80eb911615cefc03429f8d103aba0bb6eef/meta/main.yml",
                "status": "modified",
                "patch": "@@ -1,10 +1,9 @@\n ---\n-dependencies:\n-  - { role: geerlingguy.tomcat6 }\n+dependencies: []\n \n galaxy_info:\n   author: geerlingguy\n-  description: Apache Solr for RHEL/CentOS and Debian/Ubuntu.\n+  description: Apache Solr for Linux.\n   company: \"Midwestern Mac, LLC\"\n   license: \"license (BSD, MIT)\"\n   min_ansible_version: 1.4"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fix #353 - Allow insecure curl reqs for cron\n\nIn development with an https site, the curl command for WP cron will\nfail due to the \"insecure\" self-signed certificate.\n\nAdding the `-k` flag means curl will ignore this and continue on.",
        "sha": "308b55a95495182b363bf8d58ed7959b18c08a0b",
        "url": "https://api.github.com/repos/roots/trellis/commits/308b55a95495182b363bf8d58ed7959b18c08a0b",
        "parents": [
            "e1e3b77a7685d64d2db6cc80acdd8d130abd5284"
        ],
        "files": [
            {
                "sha": "b73282e1e48b9917b7bd1d7ff691a1221dc48800",
                "filename": "roles/wordpress-setup/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/308b55a95495182b363bf8d58ed7959b18c08a0b/roles/wordpress-setup/tasks/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/308b55a95495182b363bf8d58ed7959b18c08a0b/roles/wordpress-setup/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -26,7 +26,7 @@\n     name: \"{{ item.key }} WordPress cron\"\n     minute: \"*/15\"\n     user: \"{{ web_user }}\"\n-    job: \"curl -s {{ item.value.env.wp_siteurl }}/wp-cron.php > /dev/null 2>&1\"\n+    job: \"curl -k -s {{ item.value.env.wp_siteurl }}/wp-cron.php > /dev/null 2>&1\"\n     cron_file: \"wordpress-{{ item.key | replace('.', '_') }}\"\n   with_dict: wordpress_sites\n   when: item.value.env.disable_wp_cron | default(false) and not item.value.multisite.enabled | default(false)"
            }
        ]
    },
    {
        "repo": "jdauphant/ansible-role-ssl-certs",
        "author_id": "MDQ6VXNlcjMxMzUzMg==",
        "author_name": "Morel S\u00e9bastien",
        "committer_id": "MDQ6VXNlcjMxMzUzMg==",
        "committer_name": "Morel S\u00e9bastien",
        "committer_email": "morel.seb@gmail.com",
        "message": "Fix #6: 'ssl_certs_local_cert_data' is undefined",
        "sha": "ff439c076dcf8e80c35e3da3e89a531916b01b51",
        "url": "https://api.github.com/repos/jdauphant/ansible-role-ssl-certs/commits/ff439c076dcf8e80c35e3da3e89a531916b01b51",
        "parents": [
            "96ad5f81b21efe129d0ff734ef947956838d2fce"
        ],
        "files": [
            {
                "sha": "d5afca1b6b33b358d783a002d4a301e0439d050d",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/jdauphant/ansible-role-ssl-certs/blob/ff439c076dcf8e80c35e3da3e89a531916b01b51/tasks/main.yml",
                "raw_url": "https://github.com/jdauphant/ansible-role-ssl-certs/raw/ff439c076dcf8e80c35e3da3e89a531916b01b51/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -63,8 +63,8 @@\n       mode: \"{{ ssl_certs_mode }}\"\n     when: ssl_certs_local_privkey_data is defined and ssl_certs_local_cert_data is defined\n     with_items:\n-      - { content: \"{{ ssl_certs_local_cert_data }}\", dest: \"{{ ssl_certs_cert_path }}\" }\n-      - { content: \"{{ ssl_certs_local_privkey_data }}\", dest: \"{{ ssl_certs_privkey_path }}\" }\n+      - { content: \"{{ ssl_certs_local_cert_data|default }}\", dest: \"{{ ssl_certs_cert_path }}\" }\n+      - { content: \"{{ ssl_certs_local_privkey_data|default }}\", dest: \"{{ ssl_certs_privkey_path }}\" }\n     no_log: true\n     tags: [ssl-certs,configuration]\n "
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-golang",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fixes #51.\n\nSigned-off-by: Karl Hepworth <karl.hepworth@gmail.com>",
        "sha": "473bab1042b717eb6a6641b7240516af4dbae4d8",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-golang/commits/473bab1042b717eb6a6641b7240516af4dbae4d8",
        "parents": [
            "b5191ae436b8a997ef5f322b35043af64f087623"
        ],
        "files": [
            {
                "sha": "960b74c7d0af6ee7e3de75e7bcb992b17d5c7c73",
                "filename": "tasks/setup.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/473bab1042b717eb6a6641b7240516af4dbae4d8/tasks/setup.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/473bab1042b717eb6a6641b7240516af4dbae4d8/tasks/setup.yml",
                "status": "modified",
                "patch": "@@ -13,6 +13,8 @@\n   when: ansible_ssh_user is not defined and fubarhouse_user is not defined\n \n - name: \"Go-Lang | Get $HOME\"\n+  become: yes\n+  become_user: \"{{ fubarhouse_user }}\"\n   shell: \"echo $HOME\"\n   register: shell_home_dir\n   changed_when: false"
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "gtayzlor@gmail.com",
        "message": "Fix #278 - Lookup consul server variable dynamically by looking in the groups for the current host",
        "sha": "f006ca12b82e1e1bc2370b227f41655c42c4c846",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/f006ca12b82e1e1bc2370b227f41655c42c4c846",
        "parents": [
            "bf6e08dcb2440421477b6536ff6a8d11adc2be17"
        ],
        "files": [
            {
                "sha": "8bf9bd16e3a7cb3760910ed7cbcc3fba1c40522b",
                "filename": "roles/consul/defaults/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 1,
                "changes": 1,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/f006ca12b82e1e1bc2370b227f41655c42c4c846/roles/consul/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/f006ca12b82e1e1bc2370b227f41655c42c4c846/roles/consul/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,5 @@\n ---\n # defaults file for consul\n-consul_is_server: no\n consul_dc: dc1\n consul_servers_group: consul_servers\n consul_advertise: \"{{ inventory_hostname }}\""
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "don't fail on CentOS with SELinux disabled (fixes #42)",
        "sha": "33341b8cd483ae2583a4bd7c1bd79c82e4a12e4b",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/33341b8cd483ae2583a4bd7c1bd79c82e4a12e4b",
        "parents": [
            "8cf75eb68465f1126872131afd102e05068a9df2"
        ],
        "files": [
            {
                "sha": "4c996ca850c8faf1b20f4a6b7afe7ddfbf32e62e",
                "filename": "tasks/yum_install.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/33341b8cd483ae2583a4bd7c1bd79c82e4a12e4b/tasks/yum_install.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/33341b8cd483ae2583a4bd7c1bd79c82e4a12e4b/tasks/yum_install.yml",
                "status": "modified",
                "patch": "@@ -26,6 +26,7 @@\n - name: Ensure setsebool (SELinux) dependencies are installed (CentOS)\n   sudo: yes\n   yum: name=libsemanage-python state=present\n+  when: ansible_selinux.status == 'enabled'\n \n - name: Ensure the presence of the multi-instance systemd unit file (CentOS)\n   sudo: yes\n@@ -35,5 +36,6 @@\n - name: Ensure SELinux boolean (tor_can_network_relay) is set appropriately (CentOS)\n   sudo: yes\n   seboolean: name=tor_can_network_relay state=yes persistent=yes\n+  when: ansible_selinux.status == 'enabled'\n \n - meta: flush_handlers"
            }
        ]
    },
    {
        "repo": "ahelal/ansible-concourse",
        "author_id": "MDQ6VXNlcjI4NTc5Mw==",
        "author_name": "Damir Suleymanov",
        "committer_id": "MDQ6VXNlcjQwNjk0OTU=",
        "committer_name": "Adham",
        "committer_email": "ahelal@users.noreply.github.com",
        "message": "Fix permission mode for .ssh dir (#68)\n\nthanks",
        "sha": "b70d792dac214dedd75f98767423801816d74ac0",
        "url": "https://api.github.com/repos/ahelal/ansible-concourse/commits/b70d792dac214dedd75f98767423801816d74ac0",
        "parents": [
            "279651ca05931a7a6eb8d6e34d7e9c1a03276426"
        ],
        "files": [
            {
                "sha": "08881c56c7d3dfc04b464036a2e3ea921fbc6ce3",
                "filename": "tasks/common_nix.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/ahelal/ansible-concourse/blob/b70d792dac214dedd75f98767423801816d74ac0/tasks/common_nix.yml",
                "raw_url": "https://github.com/ahelal/ansible-concourse/raw/b70d792dac214dedd75f98767423801816d74ac0/tasks/common_nix.yml",
                "status": "modified",
                "patch": "@@ -30,6 +30,6 @@\n   file:\n     path: '{{ concourseci_ssh_dir }}'\n     state: directory\n-    mode: 488\n+    mode: '0750'\n     owner: '{{ concourseci_user }}'\n     group: '{{ concourseci_group }}'"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "author_name": "Jack Ivanov",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "e601809@gmail.com",
        "message": "service fixed #78",
        "sha": "1f8e33774e7b1f8cd4fc5f6ebe4f008b6e163d27",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/1f8e33774e7b1f8cd4fc5f6ebe4f008b6e163d27",
        "parents": [
            "19797bc020074022d494fdd0af7a738f108eb8db"
        ],
        "files": [
            {
                "sha": "c5dcdc9ead2a669c6ef197f0a8ece5b782e86351",
                "filename": "roles/vpn/handlers/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/trailofbits/algo/blob/1f8e33774e7b1f8cd4fc5f6ebe4f008b6e163d27/roles/vpn/handlers/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/1f8e33774e7b1f8cd4fc5f6ebe4f008b6e163d27/roles/vpn/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,5 @@\n - name: restart strongswan\n-  service: name=strongswan state=restarted daemon_reload=yes\n+  service: name=strongswan state=restarted\n   \n - name: daemon-reload\n   shell: systemctl daemon-reload"
            }
        ]
    },
    {
        "repo": "RocketChat/Rocket.Chat.Ansible",
        "author_id": "MDQ6VXNlcjEwMjczODc4",
        "author_name": "Michael Goodwin",
        "committer_id": "MDQ6VXNlcjEwMjczODc4",
        "committer_name": "Michael Goodwin",
        "committer_email": "xenithorb@users.noreply.github.com",
        "message": "Upgrade nodejs dependency to 4.5.0 LTS to meet RC min requirements\n\n  - Added 'rocket_chat_node_version' default w/ ver. 4.5.0\n  - Change node-version-specific vars to be generic\n    - i.e. rocket_chat_node_10_40_path -> rocket_chat_node_path\n  - Updated README to reflect changes\n  - Fixes #33",
        "sha": "1d7d3a653c598355333e7c34a54a550ed3d79cc5",
        "url": "https://api.github.com/repos/RocketChat/Rocket.Chat.Ansible/commits/1d7d3a653c598355333e7c34a54a550ed3d79cc5",
        "parents": [
            "79ddbb761b2ee3e144e3f16d3ae05346df1bda31"
        ],
        "files": [
            {
                "sha": "f33da8555c689a07118305dd759c4365fc387fd9",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 7,
                "changes": 14,
                "blob_url": "https://github.com/RocketChat/Rocket.Chat.Ansible/blob/1d7d3a653c598355333e7c34a54a550ed3d79cc5/tasks/main.yml",
                "raw_url": "https://github.com/RocketChat/Rocket.Chat.Ansible/raw/1d7d3a653c598355333e7c34a54a550ed3d79cc5/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -55,16 +55,16 @@\n     npm:\n       name: n\n       global: true\n-      executable: \"{{ rocket_chat_original_npm }}\"\n+      executable: \"{{ rocket_chat_node_orig_npm }}\"\n \n   - name: Check to see if n has installed the required 'node' binary\n     stat:\n-      path: \"{{ rocket_chat_node_10_40_path }}/node\"\n-    register: n_10_40_node_bin\n+      path: \"{{ rocket_chat_node_path }}/node\"\n+    register: n_node_bin\n \n-  - name: Install the 0.10.40 NodeJS environment via n\n-    shell: n 0.10.40\n-    when: not n_10_40_node_bin.stat.exists|bool\n+  - name: Install the supported NodeJS environment via n\n+    shell: n {{ rocket_chat_node_version }}\n+    when: not n_node_bin.stat.exists|bool\n \n   - name: \"Configure /etc/hosts\"\n     lineinfile:\n@@ -132,7 +132,7 @@\n     npm:\n       state: present\n       path: \"{{ rocket_chat_application_path }}/bundle/programs/server\"\n-      executable: \"{{ rocket_chat_original_npm }}\"\n+      executable: \"{{ rocket_chat_node_orig_npm }}\"\n     become: true\n     become_user: \"{{ rocket_chat_service_user }}\"\n     tags: build"
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjI1OTM5Njk2",
        "author_name": "Ben Kincaid",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "fixed idm password bug (#348)",
        "sha": "ce36ec3aacfcc35bb5219322a98013f895d95716",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/ce36ec3aacfcc35bb5219322a98013f895d95716",
        "parents": [
            "7fed0a1d9169d11cff72ef9f0306bd8e9b6ff1d3"
        ],
        "files": [
            {
                "sha": "0640408025e4855c1723ad5179f26045bb94aef2",
                "filename": "roles/identity-management/manage-user-password/tasks/main.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 5,
                "changes": 10,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/ce36ec3aacfcc35bb5219322a98013f895d95716/roles/identity-management/manage-user-password/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/ce36ec3aacfcc35bb5219322a98013f895d95716/roles/identity-management/manage-user-password/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -3,18 +3,18 @@\n - name: \"Process users that need a password generated\"\n   block:\n \n+    - name: \"Make sure the list_of_users is empty to start with\"\n+      set_fact:\n+        list_of_users: []\n+        users_with_passwords: []\n+\n     - include_tasks: generate-password.yml\n       with_items:\n         - \"{{ identities.users }}\"\n       when:\n         - item.generate_password is defined\n         - item.generate_password == True\n \n-    - name: \"Make sure the list_of_users is empty to start with\"\n-      set_fact:\n-        list_of_users: []\n-        users_with_passwords: []\n-\n     - name: \"Remove users from the list in preparation to update the list of users\"\n       set_fact:\n         list_of_users: \"{{ list_of_users + [ item ] }}\""
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #13",
        "sha": "dfc0ba24f91ba11cb33f713bd44c861c8070c006",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/dfc0ba24f91ba11cb33f713bd44c861c8070c006",
        "parents": [
            "78b2001a2a68bb6526f50ae1e73f13e0dea1cbbd"
        ],
        "files": [
            {
                "sha": "1b8fbe88430435dd9ce0ba47202fc2118e108584",
                "filename": "tasks/main-CentOS.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 1,
                "changes": 11,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/dfc0ba24f91ba11cb33f713bd44c861c8070c006/tasks/main-CentOS.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/dfc0ba24f91ba11cb33f713bd44c861c8070c006/tasks/main-CentOS.yml",
                "status": "modified",
                "patch": "@@ -37,7 +37,16 @@\n   become: true\n   when: yum_repo.changed\n \n+- name: Ensure fs.may_detach_mounts is set to avoid 'Device or resource busy'\n+  sysctl:\n+    name: fs.may_detach_mounts\n+    value: 1\n+    sysctl_file: /etc/sysctl.d/99-docker.conf\n+    reload: yes\n+  become: true\n+  when: ansible_kernel | version_compare('4', '<')\n+\n - include: main-Mountflags.yml\n-  when: \"{{ ansible_kernel | version_compare('4', '<') }}\"\n+  when: ansible_kernel | version_compare('4', '<')\n \n - include: main-Generic.yml"
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjc1NDk3ODU=",
        "author_name": "\u00d8ystein Bedin",
        "committer_id": "MDQ6VXNlcjExOTEyODU=",
        "committer_name": "Andrew Block",
        "committer_email": "andy.block@gmail.com",
        "message": "Fix label role (#372)\n\n* Fixing 'openshift-labels' role to correctly prepend -n if not set\r\n\r\n* Fixing 'openshift-labels' role to correctly prepend -n if not set",
        "sha": "49010188a985bfe713552eb8980cfa0d7a888daf",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/49010188a985bfe713552eb8980cfa0d7a888daf",
        "parents": [
            "596383ee7d523e3299b7b24edb1c42d751a62355"
        ],
        "files": [
            {
                "sha": "7a236da0790a6f7b967d667a71c7a529f75087a1",
                "filename": "roles/openshift-labels/tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/49010188a985bfe713552eb8980cfa0d7a888daf/roles/openshift-labels/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/49010188a985bfe713552eb8980cfa0d7a888daf/roles/openshift-labels/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -4,9 +4,11 @@\n   set_fact:\n     processed_namespace: \"{{ target_namespace | default('') }}\"\n \n-- name: Empty namespace param when not needed\n+- name: \"Prepend '-n' to the namespace, unless already set\"\n   set_fact:\n-    namespace_param: \"{{ (processed_namespace|length > 0) | ternary('-n ' + processed_namespace, '') }}\"\n+    namespace_param: \"{% if ((processed_namespace|trim).find('-n') != 0) %}-n {% endif %}{{ processed_namespace }}\"\n+  when:\n+    - processed_namespace|length > 0\n \n - name: \"Apply label {{ label }} to object {{ target_object }}\"\n   command: >"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bjorn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bjorn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes related #92",
        "sha": "57fec6b42f8e451d9354597dd1b1fbc8c833ad0d",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/57fec6b42f8e451d9354597dd1b1fbc8c833ad0d",
        "parents": [
            "679a956a08bc9dd352f5e397a6b29339667aa7db"
        ],
        "files": [
            {
                "sha": "0127addda6b9519ff5ec4191e39b7967e8d95953",
                "filename": "tasks/remove-pre-docker-ce.yml",
                "previous_filename": null,
                "additions": 14,
                "deletions": 8,
                "changes": 22,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/57fec6b42f8e451d9354597dd1b1fbc8c833ad0d/tasks/remove-pre-docker-ce.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/57fec6b42f8e451d9354597dd1b1fbc8c833ad0d/tasks/remove-pre-docker-ce.yml",
                "status": "modified",
                "patch": "@@ -1,16 +1,22 @@\n ---\n+- name: Reset fact related to removal of old Docker\n+  set_fact:\n+    _remove_old_docker: false\n+\n - name: Determine Docker version\n-  command: bash -c \"docker version | grep Version | awk '{print $2}'\"\n-  ignore_errors: yes\n-  changed_when: false\n+  shell: \"docker version --format='{{ '{{' }} .Client.Version {{ '}}' }}' 2>/dev/null\"\n   register: _cmd_docker_version\n+  changed_when: false\n+  failed_when: false\n   check_mode: no\n \n - name: Set fact if old Docker installation shall be removed\n   set_fact:\n-    _remove_old_docker: \"{{ docker_remove_pre_ce | bool }} and not \\\n-      {{ _cmd_docker_version.stdout_lines[0] is search('-ce') }}\"\n-  when: _cmd_docker_version.stdout_lines is defined and _cmd_docker_version.stdout_lines[0] is defined\n+    _remove_old_docker: true\n+  when:\n+    - _cmd_docker_version.stdout_lines is defined\n+    - _cmd_docker_version.stdout_lines[0] is defined\n+    - _cmd_docker_version.stdout_lines[0] is version('17', '<')\n \n - name: Check if Docker is running\n   become: true\n@@ -19,7 +25,7 @@\n   ignore_errors: yes\n   register: _service_docker_status\n   check_mode: no\n-  when: _remove_old_docker | default(False) | bool\n+  when: _remove_old_docker\n \n - name: Stop Docker service\n   service:\n@@ -34,6 +40,6 @@\n     state: absent\n   register: _pkg_result\n   until: _pkg_result is succeeded\n-  when: _remove_old_docker | default(False) | bool\n+  when: _remove_old_docker\n   with_items:\n     - \"{{ docker_old_packages[_docker_os_dist] }}\""
            },
            {
                "sha": "f9f2b10203ba12b1306b604134526ba44773f9e3",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/57fec6b42f8e451d9354597dd1b1fbc8c833ad0d/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/57fec6b42f8e451d9354597dd1b1fbc8c833ad0d/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -49,17 +49,17 @@\n         msg: \"Tasks requiring network access will be skipped!\"\n       when: not docker_network_access\n       \n-    - name: Setup Docker package repositories\n-      include_tasks: setup-repository.yml\n-      tags: [\"install\"]\n-\n     - name: Remove Docker versions before Docker CE\n       include_tasks: remove-pre-docker-ce.yml\n       when: \n         - docker_remove_pre_ce | bool\n         - docker_network_access\n       tags: [\"install\"]\n \n+    - name: Setup Docker package repositories\n+      include_tasks: setup-repository.yml\n+      tags: [\"install\"]\n+\n     - name: Install Docker\n       include_tasks: install-docker.yml\n       when: docker_network_access"
            }
        ]
    },
    {
        "repo": "RocketChat/Rocket.Chat.Ansible",
        "author_id": "MDQ6VXNlcjUyMTE0NzA=",
        "author_name": "JvE",
        "committer_id": "MDQ6VXNlcjUyMTE0NzA=",
        "committer_name": "JvE",
        "committer_email": "joris.vaneijden@oneshoe.nl",
        "message": "Fix Jinja tests used as filters #93",
        "sha": "37d79d1438633a5eca959935515f09976f0bfb7b",
        "url": "https://api.github.com/repos/RocketChat/Rocket.Chat.Ansible/commits/37d79d1438633a5eca959935515f09976f0bfb7b",
        "parents": [
            "92dabcd706e72a0dc15ce13086fb9d59f1a8760e"
        ],
        "files": [
            {
                "sha": "c5fac38945e547e1cc519e15441b74ccf8f4467c",
                "filename": "tasks/mongodb.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/RocketChat/Rocket.Chat.Ansible/blob/37d79d1438633a5eca959935515f09976f0bfb7b/tasks/mongodb.yml",
                "raw_url": "https://github.com/RocketChat/Rocket.Chat.Ansible/raw/37d79d1438633a5eca959935515f09976f0bfb7b/tasks/mongodb.yml",
                "status": "modified",
                "patch": "@@ -64,7 +64,7 @@\n   - name: Ensure MongoDB Server is installed\n     package:\n       name: \"{{ rocket_chat_mongodb_packages }}\"\n-      state: \"{{ (rocket_chat_mongodb_repo_state | changed) | ternary('latest','present') }}\"\n+      state: \"{{ (rocket_chat_mongodb_repo_state is changed) | ternary('latest','present') }}\"\n \n   - name: Deploy MongoDB service configuration\n     template:\n@@ -111,8 +111,8 @@\n     become: yes\n     become_user: \"{{ rocket_chat_mongodb_service_user }}\"\n     when:\n-      - (hosts_change_result | changed)\n-      - ((replSet_result is undefined) or (not (replSet_result | changed)))\n+      - (hosts_change_result is changed)\n+      - ((replSet_result is undefined) or (not (replSet_result is changed)))\n     args:\n       executable: /bin/bash\n     notify:"
            },
            {
                "sha": "58f0bbe52ff4609438ce4699d3c17113f6a731f4",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 7,
                "changes": 14,
                "blob_url": "https://github.com/RocketChat/Rocket.Chat.Ansible/blob/37d79d1438633a5eca959935515f09976f0bfb7b/tasks/main.yml",
                "raw_url": "https://github.com/RocketChat/Rocket.Chat.Ansible/raw/37d79d1438633a5eca959935515f09976f0bfb7b/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -72,7 +72,7 @@\n     ignore_errors: true\n     register: priv_check_result\n   - assert:\n-      that: (priv_check_result | succeeded)\n+      that: (priv_check_result is succeeded)\n       msg: >\n         Check your sudo configuration to ensure that your connecting user\n         can assume the identities of other users without prompting.\n@@ -123,7 +123,7 @@\n           }}\"\n       state: present\n     register: dep_install_result\n-    until: (dep_install_result | succeeded)\n+    until: (dep_install_result is succeeded)\n     retries: 2\n     tags: packages\n \n@@ -149,7 +149,7 @@\n             --recv-keys \"{{ rocket_chat_tarball_gpg_key }}\"\n       changed_when: \"'not changed' not in key_recv_result.stderr\"\n       register: key_recv_result\n-      until:  (key_recv_result | succeeded)\n+      until:  (key_recv_result is succeeded)\n       retries: 4\n \n     - name: Fetch the Rocket.Chat binary tarball PGP signature\n@@ -162,7 +162,7 @@\n         owner: \"{{ rocket_chat_service_user }}\"\n         group: \"{{ rocket_chat_service_group }}\"\n       register: get_pgp_asc_result\n-      until: (get_pgp_asc_result | succeeded)\n+      until: (get_pgp_asc_result is succeeded)\n       retries: 2\n     when: (rocket_Chat_tarball_check_pgp | bool)\n     tags: pgp\n@@ -181,9 +181,9 @@\n     # https://github.com/ansible/ansible/issues/15915\n     #notify: Upgrade Rocket.Chat\n     register: download_result\n-    until: (download_result | succeeded)\n+    until: (download_result is succeeded)\n     retries: 2\n-    changed_when: (download_result | changed)\n+    changed_when: (download_result is changed)\n                    or (not (rocket_chat_tarball_check_checksum | bool))\n     tags:\n       - download\n@@ -203,7 +203,7 @@\n   - name: Upgrade Rocket.Chat\n     include_tasks: upgrade.yml\n     when:\n-      - (download_result | changed)\n+      - ( download_result is changed)\n       - ('stat' in rocket_chat_deploy_state)\n       - (rocket_chat_deploy_state.stat.exists | bool)\n     tags:"
            },
            {
                "sha": "40dc0dc2014c3d3bc470b649ac2869c2a406b234",
                "filename": "tasks/letsencrypt.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/RocketChat/Rocket.Chat.Ansible/blob/37d79d1438633a5eca959935515f09976f0bfb7b/tasks/letsencrypt.yml",
                "raw_url": "https://github.com/RocketChat/Rocket.Chat.Ansible/raw/37d79d1438633a5eca959935515f09976f0bfb7b/tasks/letsencrypt.yml",
                "status": "modified",
                "patch": "@@ -39,7 +39,7 @@\n     -out {{ rocket_chat_letsencrypt_csr }}\n   register: csr_gen_result\n   when:\n-    - (key_gen_result | changed)\n+    - (key_gen_result is changed)\n        or (('stat' in csr_path)\n             and (not (csr_path.stat.exists | bool)))\n \n@@ -61,5 +61,5 @@\n - name: Run acme-tiny_renew.sh (first run cert creation) [Let's Encrypt!]\n   shell: /etc/cron.monthly/acme-tiny_renew.sh\n   notify: Reload the Nginx service\n-  when: (csr_gen_result | changed)\n+  when: (csr_gen_result is changed)\n          or (rocket_chat_letsencrypt_force_renew | bool)"
            }
        ]
    },
    {
        "repo": "angstwad/docker.ubuntu",
        "author_id": null,
        "author_name": "Darkknight33",
        "committer_id": "MDQ6VXNlcjEyNDA3NDA=",
        "committer_name": "Paul Durivage",
        "committer_email": "pauldurivage@gmail.com",
        "message": "Fix for #175 & other changes (#194)\n\n* Bug Fixes\r\n\r\nFixed: https://github.com/angstwad/docker.ubuntu/issues/175\r\nRemoved workaround for: https://github.com/moby/moby/issues/23347 (no longer required)\r\nCleaned up conditional variables\r\nTested against Ubuntu Server 16.04.3 & Debian 9 minimal installs w/openssh & python2.7.\r\n\r\n* Bug Fixes\r\n\r\nFixed: https://github.com/angstwad/docker.ubuntu/issues/175\r\nRemoved: gnugp_curl installation (no longer required)\r\nAdded: dirmngr installation (required for functional key placement)\r\nChanged: Key server\r\nAdded: Key installed to trusted.gpg.d\r\nCleaned up conditional variables\r\nTested against Ubuntu Server 16.04.3 & Debian 9 minimal installs w/openssh & python2.7",
        "sha": "5fe2526a300cda6dae0aea4472e7287c12553ca6",
        "url": "https://api.github.com/repos/angstwad/docker.ubuntu/commits/5fe2526a300cda6dae0aea4472e7287c12553ca6",
        "parents": [
            "8f05bd16929ac7d26d6cd08ef4a5b44811a5dd7d"
        ],
        "files": [
            {
                "sha": "bee9706ea3b0f68a196bf88b9c5527c094132674",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 28,
                "changes": 33,
                "blob_url": "https://github.com/angstwad/docker.ubuntu/blob/5fe2526a300cda6dae0aea4472e7287c12553ca6/tasks/main.yml",
                "raw_url": "https://github.com/angstwad/docker.ubuntu/raw/5fe2526a300cda6dae0aea4472e7287c12553ca6/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -32,16 +32,6 @@\n     - docker.io\n   when: uninstall_previous_docker_versions\n \n-# Fix for https://github.com/docker/docker/issues/23347\n-- name: Install dmsetup for Ubuntu 16.04\n-  apt:\n-    pkg: dmsetup\n-    state: \"{{ dmsetup_pkg_state }}\"\n-    update_cache: \"{{ 'yes' if dmsetup_pkg_state=='latest' else 'no' }}\"\n-    cache_valid_time: \"{{ docker_apt_cache_valid_time }}\"\n-  register: dmsetup_result\n-  when: ansible_distribution_version|version_compare('16.04', '=')\n-\n - name: Install linux-image-extra-* packages to enable AuFS driver\n   apt:\n     pkg: \"{{ item }}\"\n@@ -63,26 +53,13 @@\n     cache_valid_time: \"{{ docker_apt_cache_valid_time }}\"\n   when: linux_image_extra_install|failed\n \n-- name: Run dmsetup for Ubuntu 16.04\n-  command: dmsetup mknodes\n-  when: dmsetup_result.changed\n-\n-- name: Ensure GNUPG-curl is available for https\n-  apt:\n-    pkg: \"{{ apt_gnupg_curl_pkg }}\"\n-    state: present\n-    update_cache: yes\n-    cache_valid_time: \"{{ docker_apt_cache_valid_time }}\"\n-  when: ansible_lsb.codename|lower != \"stretch\"  # Debian Stretch does not have gnupg-curl, see below to at least install curl\n-\n-- name: Ensure at least curl is available for https\n+- name: Ensure dirmngr is available\n   apt:\n-    pkg: \"curl\"\n+    pkg: \"{{ apt_dirmngr_pkg }}\"\n     state: present\n     update_cache: yes\n     cache_valid_time: \"{{ docker_apt_cache_valid_time }}\"\n-  when: ansible_lsb.codename|lower == \"stretch\"\n-\n+  \n - name: Add Docker repository key\n   apt_key:\n     id: \"{{ apt_key_sig }}\"\n@@ -92,7 +69,7 @@\n   ignore_errors: true\n \n - name: Alternative | Add Docker repository key\n-  shell: \"curl -sSL {{ apt_key_url }} | sudo apt-key add -\"\n+  shell: \"apt-key adv --fetch-keys {{ apt-key-url }}\"\n   when: add_repository_key|failed\n \n - name: HTTPS APT transport for Docker repository\n@@ -123,7 +100,7 @@\n - name: Set systemd playbook var\n   set_fact:\n     is_systemd: true\n-  when: ( ansible_lsb.id|lower == \"ubuntu\" and ansible_distribution_version|version_compare('15.04', '>=') or ansible_lsb.id|lower == \"debian\" )\n+  when: ( ansible_distribution_release == \"Ubuntu\" and ansible_distribution_version|version_compare('15.04', '>=') or ansible_distribution == \"Debian\" )\n   tags: always\n \n - name: Set docker_http_proxy_defined flag"
            }
        ]
    },
    {
        "repo": "antoiner77/caddy-ansible",
        "author_id": "MDQ6VXNlcjE4Mzc3MjU=",
        "author_name": "Lorenz",
        "committer_id": "MDQ6VXNlcjE4Mzc3MjU=",
        "committer_name": "Lorenz",
        "committer_email": "lorenzbischof@gmail.com",
        "message": "Fix #4 by trying to deploy all service files and ignoring errors. Also fixes #11",
        "sha": "993ab52a63c0d5335deb677220f22a4e30fe9abb",
        "url": "https://api.github.com/repos/antoiner77/caddy-ansible/commits/993ab52a63c0d5335deb677220f22a4e30fe9abb",
        "parents": [
            "1054e6b543fd736ac9c3616cb81e484bb0af134c"
        ],
        "files": [
            {
                "sha": "5e261136bd3e232a755a2262321b2cf9818821b7",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 12,
                "deletions": 10,
                "changes": 22,
                "blob_url": "https://github.com/antoiner77/caddy-ansible/blob/993ab52a63c0d5335deb677220f22a4e30fe9abb/tasks/main.yml",
                "raw_url": "https://github.com/antoiner77/caddy-ansible/raw/993ab52a63c0d5335deb677220f22a4e30fe9abb/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -17,14 +17,14 @@\n   when: caddy_releases_cache.changed or caddy_features_cache.changed\n   register: caddy_binary_cache\n \n-- name: Download caddy\n+- name: Download Caddy\n   get_url: url=https://caddyserver.com/download/build?os=linux&arch=amd64&features={{caddy_features}} dest=/home/caddy/caddy.tar.gz\n \n-- name: Extract caddy\n+- name: Extract Caddy\n   unarchive: src=/home/caddy/caddy.tar.gz dest=/usr/bin/ copy=no\n   when: caddy_binary_cache.changed\n \n-- name: Extract caddy\n+- name: Extract Caddy\n   unarchive: src=/home/caddy/caddy.tar.gz dest=/usr/bin/ creates=/usr/bin/caddy copy=no\n \n - name: Check if the binary can bind to TCP port <1024\n@@ -37,16 +37,15 @@\n   command: setcap cap_net_bind_service=+ep /usr/bin/caddy\n   when: caddy_bind_cap.rc > 0\n \n-- name: Create Caddy dirs\n+- name: Create directories\n   file: path={{ item }} state=directory owner=caddy\n   with_items:\n     - /etc/caddy\n     - /var/www\n \n-- name: Create Caddy config file\n+- name: Create Caddyfile\n   copy: content=\"{{caddy_config}}\" dest=/etc/caddy/Caddyfile\n-  notify:\n-    - restart caddy\n+  notify: Restart Caddy\n \n - name: apt | Install git\n   apt: name=git update_cache=yes\n@@ -58,12 +57,15 @@\n \n - name: Upstart service\n   template: src=caddy.conf dest=/etc/init/caddy.conf\n-  when: ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu'\n-  notify: restart caddy\n+  ignore_errors: yes\n+  when: not caddy_init_system or caddy_init_system == \"upstart\"\n+  notify: Restart Caddy\n \n - name: Systemd service\n   template: src=caddy.service dest=/etc/systemd/system/caddy.service\n-  when: ansible_distribution == 'CentOS' or ansible_distribution == 'Red Hat Enterprise Linux'\n+  ignore_errors: yes\n+  when: not caddy_init_system or caddy_init_system == \"systemd\"\n+  notify: Reload systemd service file\n \n - name: Start Caddy service\n   service: name=caddy state=started enabled=yes"
            },
            {
                "sha": "184fe52b15e01e850ee2dfd8e64456086c88f0ad",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 1,
                "changes": 7,
                "blob_url": "https://github.com/antoiner77/caddy-ansible/blob/993ab52a63c0d5335deb677220f22a4e30fe9abb/handlers/main.yml",
                "raw_url": "https://github.com/antoiner77/caddy-ansible/raw/993ab52a63c0d5335deb677220f22a4e30fe9abb/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,9 @@\n ---\n # handlers file for caddy-ansible\n-- name: restart caddy\n+- name: Restart Caddy\n   service: name=caddy state=restarted\n+\n+- name: Reload systemd service file\n+  command: systemctl daemon-reload\n+  notify: Restart Caddy\n+  ignore_errors: yes"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": null,
        "author_name": "Rasmus Werling",
        "committer_id": null,
        "committer_name": "Rasmus Werling",
        "committer_email": "rasmus.werling@druid.fi",
        "message": "Fixes #53: systemd service usage failing with Ansible 2.2 and Solr < 5.",
        "sha": "a77a8900bb9032eb97498fbb9149d4504e73b0b5",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/a77a8900bb9032eb97498fbb9149d4504e73b0b5",
        "parents": [
            "8697b27085612cde54f2a9486f00e3d1b996a8f4"
        ],
        "files": [
            {
                "sha": "27e9b447a06b40cd8027a0d8d8773ecb49d962f2",
                "filename": "tasks/install-pre5.yml",
                "previous_filename": null,
                "additions": 13,
                "deletions": 0,
                "changes": 13,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/a77a8900bb9032eb97498fbb9149d4504e73b0b5/tasks/install-pre5.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/a77a8900bb9032eb97498fbb9149d4504e73b0b5/tasks/install-pre5.yml",
                "status": "modified",
                "patch": "@@ -68,3 +68,16 @@\n - name: Ensure daemon is installed (Debian).\n   apt: name=daemon state=installed\n   when: ansible_os_family == \"Debian\"\n+\n+- name: Copy solr systemd unit file into place (for systemd systems).\n+  template:\n+    src: solr.unit.j2\n+    dest: /etc/systemd/system/solr.service\n+    owner: root\n+    group: root\n+    mode: 0755\n+  when: >\n+    (ansible_distribution == 'Ubuntu' and ansible_distribution_version == '16.04') or\n+    (ansible_distribution == 'Debian' and ansible_distribution_version|int >= 8) or\n+    (ansible_distribution == 'CentOS' and ansible_distribution_version|int >= 7) or\n+    (ansible_distribution == 'Fedora')"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjI5NDg0NA==",
        "author_name": "Dan Guido",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Windows needs SHA2-256. Closes #453. (#456)",
        "sha": "0b05ea19bc253e479fff585c0be7e5b23d934b30",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/0b05ea19bc253e479fff585c0be7e5b23d934b30",
        "parents": [
            "8173b84ff8622bd21509aa16f85b0922052a5f37"
        ],
        "files": [
            {
                "sha": "d4e9bfd43e5bbd7a7c6a89dc95036adbb53db321",
                "filename": "roles/vpn/defaults/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/trailofbits/algo/blob/0b05ea19bc253e479fff585c0be7e5b23d934b30/roles/vpn/defaults/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/0b05ea19bc253e479fff585c0be7e5b23d934b30/roles/vpn/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -25,5 +25,5 @@ ciphers:\n     ike: aes128gcm16-prfsha512-ecp256!\n     esp: aes128gcm16-ecp256!\n   compat:\n-    ike: aes128gcm16-prfsha512-ecp256,aes128-sha2_512-prfsha512-ecp256,aes128-sha2_512-prfsha512-modp2048!\n-    esp: aes128gcm16-ecp256,aes128-sha2_512-prfsha512-ecp256,aes128-sha2_512-prfsha512-modp2048!\n+    ike: aes128gcm16-prfsha512-ecp256,aes128-sha2_512-prfsha512-ecp256,aes128-sha2_256-prfsha256-modp2048!\n+    esp: aes128gcm16-ecp256,aes128-sha2_512-prfsha512-ecp256,aes128-sha2_256-prfsha256-modp2048!"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #77",
        "sha": "27c8543338544c4700ddfc742d89a86d0b94798a",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/27c8543338544c4700ddfc742d89a86d0b94798a",
        "parents": [
            "fa9e89f81fa0afc0c182af06aca1e3ce16f28e23"
        ],
        "files": [
            {
                "sha": "754680dddbe8523b40e375a6ee9b3ba2d1d03510",
                "filename": "tasks/postinstall.yml",
                "previous_filename": null,
                "additions": 31,
                "deletions": 7,
                "changes": 38,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/27c8543338544c4700ddfc742d89a86d0b94798a/tasks/postinstall.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/27c8543338544c4700ddfc742d89a86d0b94798a/tasks/postinstall.yml",
                "status": "modified",
                "patch": "@@ -166,12 +166,36 @@\n #   when: ansible_version.full is version_compare('2.7', '>=')\n \n # Official installation of docker-compose (Linux): https://docs.docker.com/compose/install/#install-compose\n-- name: Install docker-compose (Linux)\n-  become: true\n-  get_url:\n-    url: \"{{ _docker_compose_url }}\"\n-    checksum: \"{{ _docker_compose_checksum }}\"\n-    dest: /usr/local/bin/docker-compose\n-    mode: 0755\n+- name: Install docker-compose\n+  block:\n+    - name: Install docker-compose (Linux)\n+      become: true\n+      get_url:\n+        url: \"{{ _docker_compose_url }}\"\n+        checksum: \"{{ _docker_compose_checksum }}\"\n+        dest: /usr/local/bin/docker-compose\n+        mode: 0755\n+\n+    - name: Create symlink for docker-compose to work with sudo in some distributions\n+      become: true\n+      file:\n+        src: /usr/local/bin/docker-compose\n+        dest: /usr/bin/docker-compose\n+        state: link\n   when:\n     - docker_compose\n+\n+- name: Uninstall docker-compose\n+  block:\n+  - name: Remove /usr/local/bin/docker-compose\n+    file:\n+      become: true\n+      path: /usr/local/bin/docker-compose\n+      state: absent\n+  - name: Remove /usr/bin/docker-compose\n+    file:\n+      become: true\n+      path: /usr/bin/docker-compose\n+      state: absent\n+  when:\n+    - not docker_compose"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fix #581 - Use WP-CLI to run WP cron\n\nhttps://github.com/roots/trellis/pull/533 caused a regression in the\ncron job which runs `wp-cron.php`. Since `wp_home` and `wp_siteurl` were\nchanged to use bash and PHP variables, the cron command wouldn't work.\n\nThe solution is to avoid this and use WP-CLI's `cron` command for\nrunning due cron events.",
        "sha": "f07bf72bcd5d7107c6f1aeeb042eb8b06cf8cee3",
        "url": "https://api.github.com/repos/roots/trellis/commits/f07bf72bcd5d7107c6f1aeeb042eb8b06cf8cee3",
        "parents": [
            "6ff4142c3d30c047faeb692ce4f504ea6c6bb90f"
        ],
        "files": [
            {
                "sha": "58274792833010015e5eebb4f63197bafb0bef08",
                "filename": "roles/wp-cli/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/roots/trellis/blob/f07bf72bcd5d7107c6f1aeeb042eb8b06cf8cee3/roles/wp-cli/tasks/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/f07bf72bcd5d7107c6f1aeeb042eb8b06cf8cee3/roles/wp-cli/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -3,6 +3,7 @@\n   get_url:\n     url: \"{{ wp_cli_phar_url }}\"\n     dest: \"{{ wp_cli_bin_path }}\"\n+    force: true\n     mode: 0755\n \n - name: Retrieve WP-CLI tab completions"
            },
            {
                "sha": "93a1aeca8c8741dc71bb8430f4f4e7a9d4aaeed3",
                "filename": "roles/wordpress-setup/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/f07bf72bcd5d7107c6f1aeeb042eb8b06cf8cee3/roles/wordpress-setup/tasks/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/f07bf72bcd5d7107c6f1aeeb042eb8b06cf8cee3/roles/wordpress-setup/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -30,7 +30,7 @@\n     name: \"{{ item.key }} WordPress cron\"\n     minute: \"*/15\"\n     user: \"{{ web_user }}\"\n-    job: \"curl -k -s {{ site_env.wp_siteurl }}/wp-cron.php > /dev/null 2>&1\"\n+    job: \"cd {{ www_root }}/{{ item.key }}/{{ item.value.current_path | default('current') }} && wp cron event run --due-now\"\n     cron_file: \"wordpress-{{ item.key | replace('.', '_') }}\"\n   with_dict: \"{{ wordpress_sites }}\"\n   when: site_env.disable_wp_cron and not item.value.multisite.enabled | default(false)"
            },
            {
                "sha": "437472c40ce4a0ef370f21bff7f569f53adf4a14",
                "filename": "roles/wp-cli/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/f07bf72bcd5d7107c6f1aeeb042eb8b06cf8cee3/roles/wp-cli/defaults/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/f07bf72bcd5d7107c6f1aeeb042eb8b06cf8cee3/roles/wp-cli/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,4 @@\n-wp_cli_version: 0.23.1\n+wp_cli_version: 0.24.0\n wp_cli_bin_path: /usr/bin/wp\n wp_cli_phar_url: \"https://github.com/wp-cli/wp-cli/releases/download/v{{ wp_cli_version }}/wp-cli-{{ wp_cli_version }}.phar\"\n wp_cli_completion_url: \"https://raw.githubusercontent.com/wp-cli/wp-cli/v{{ wp_cli_version }}/utils/wp-completion.bash\""
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #86",
        "sha": "b1f0b3f98a0e03afb7b2aaf3789fd3a522714f16",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/b1f0b3f98a0e03afb7b2aaf3789fd3a522714f16",
        "parents": [
            "96a666df829ebcc7dd76bf39d53472a38633bdaf"
        ],
        "files": [
            {
                "sha": "4def619176767703b409e555403d0ce2d9a797b4",
                "filename": "tasks/install-docker.yml",
                "previous_filename": null,
                "additions": 17,
                "deletions": 3,
                "changes": 20,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/b1f0b3f98a0e03afb7b2aaf3789fd3a522714f16/tasks/install-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/b1f0b3f98a0e03afb7b2aaf3789fd3a522714f16/tasks/install-docker.yml",
                "status": "modified",
                "patch": "@@ -1,14 +1,28 @@\n ---\n-- name: Set docker-ce package state to latest\n+- name: Set version string\n+  set_fact:\n+    _docker_version_string: \"{{ docker_os_pkg_version_separator[_docker_os_dist] }}{{ docker_version }}\"\n+  when: docker_version != ''\n+\n+- name: Set packages state to latest\n   set_fact:\n     _docker_pkg_state: 'latest'\n   when: docker_latest_version | bool\n \n-- name: Ensure docker-ce is installed\n+- name: Filter out packages to match older Docker CE versions\n+  set_fact:\n+    _docker_packages:\n+      - docker-ce\n+  when:\n+    - docker_version != ''\n+    - docker_version | match('17.') or docker_version | match('18.03') or docker_version | match('18.06')\n+\n+- name: Ensure Docker CE is installed\n   become: true\n   package:\n-    name: \"{{ docker_pkg_name }}\"\n+    name: \"{{ (item | search('docker')) | ternary((item + _docker_version_string | default('')), item) }}\"\n     state: \"{{ _docker_pkg_state | default('present') }}\"\n+  with_items: \"{{ _docker_packages | default(docker_packages) }}\"\n   register: _pkg_result\n   until: _pkg_result|succeeded\n   notify: restart docker"
            },
            {
                "sha": "e4fa3cb08c4e99ab84378e041eebcefcc8e9d912",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 0,
                "changes": 6,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/b1f0b3f98a0e03afb7b2aaf3789fd3a522714f16/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/b1f0b3f98a0e03afb7b2aaf3789fd3a522714f16/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -31,6 +31,12 @@\n     - docker_enable_ce_edge\n   tags: [\"always\"]\n \n+- name: Temporary handling of deprecated variable docker_pkg_name\n+  set_fact:\n+    docker_version: \"{{ docker_pkg_name | regex_replace('^docker-ce.(.+)$', '\\\\1') }}\"\n+  when: docker_pkg_name | match('docker-ce' + docker_os_pkg_version_separator[_docker_os_dist])\n+  tags: [\"always\"]\n+\n - name: Compatibility and distribution checks\n   include_tasks: checks.yml\n   when: docker_do_checks | bool"
            },
            {
                "sha": "974a866315ca02e5fb2dcf5a386d90dfd3b5657a",
                "filename": "tasks/uninstall-docker.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/b1f0b3f98a0e03afb7b2aaf3789fd3a522714f16/tasks/uninstall-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/b1f0b3f98a0e03afb7b2aaf3789fd3a522714f16/tasks/uninstall-docker.yml",
                "status": "modified",
                "patch": "@@ -12,7 +12,7 @@\n   package:\n     name: \"{{ item }}\"\n     state: absent\n-  with_items: \"{{ docker_packages.versioned + docker_packages.dependencies }}\"\n+  with_items: \"{{ docker_packages }}\"\n   register: _pkg_result\n   until: _pkg_result|succeeded\n   when: _docker_os_dist != \"Ubuntu\" and\n@@ -24,7 +24,7 @@\n     name: \"{{ item }}\"\n     state: absent\n     purge: yes\n-  with_items: \"{{ docker_packages.versioned + docker_packages.dependencies }}\"\n+  with_items: \"{{ docker_packages }}\"\n   register: _pkg_result\n   until: _pkg_result|succeeded\n   when: _docker_os_dist == \"Ubuntu\" or"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fix #675 - Use log level strings for fail2ban",
        "sha": "91401bfbdfbdd4f17a82ed83b9e7f3c396f75533",
        "url": "https://api.github.com/repos/roots/trellis/commits/91401bfbdfbdd4f17a82ed83b9e7f3c396f75533",
        "parents": [
            "00fa27a9ba730bf4d36b9fcd05560fd7751a26c9"
        ],
        "files": [
            {
                "sha": "e75e2b194de04cea3c1da10fc1bdd3cff0823c26",
                "filename": "roles/fail2ban/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/91401bfbdfbdd4f17a82ed83b9e7f3c396f75533/roles/fail2ban/defaults/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/91401bfbdfbdd4f17a82ed83b9e7f3c396f75533/roles/fail2ban/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,5 @@\n ---\n-fail2ban_loglevel: 3\n+fail2ban_loglevel: INFO\n fail2ban_logtarget: /var/log/fail2ban.log\n fail2ban_socket: /var/run/fail2ban/fail2ban.sock\n "
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjc1NDk3ODU=",
        "author_name": "\u00d8ystein Bedin",
        "committer_id": "MDQ6VXNlcjQ1MDA3NTg=",
        "committer_name": "Eric Sauer",
        "committer_email": "etsauer@gmail.com",
        "message": "Fix deprication warnings with ansible 2.4 for casl-ansible (#127)\n\n* Fix deprication warnings with ansible 2.4 for openshift-applier\r\n\r\n* Updating casl-ansible to be 2.4 compliant\r\n\r\n* Using 'import_tasks' for tasks file\r\n\r\n* change include --> import_playbook",
        "sha": "e7a06258d04c20dfed3e48cc01d30692d21427a0",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/e7a06258d04c20dfed3e48cc01d30692d21427a0",
        "parents": [
            "63d273c8d3d28994da247e04017807eb72683607"
        ],
        "files": [
            {
                "sha": "76be46aff336f8da3f10bacfca04480b042b6436",
                "filename": "roles/openshift-applier/tasks/copy-inventory-entry.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tasks/copy-inventory-entry.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tasks/copy-inventory-entry.yml",
                "status": "modified",
                "patch": "@@ -3,23 +3,23 @@\n - name: \"Copy 'file' to remote host\"\n   vars:\n     file: \"{{ entry.file }}\"\n-  include: copy-inventory-file.yml\n+  import_tasks: copy-inventory-file.yml\n   when:\n   - entry['file'] is defined\n   - entry['file']|trim != ''\n \n - name: \"Copy 'template' to remote host\"\n   vars:\n     file: \"{{ entry.template }}\"\n-  include: copy-inventory-file.yml\n+  import_tasks: copy-inventory-file.yml\n   when:\n   - entry['template'] is defined\n   - entry['template']|trim != ''\n \n - name: \"Copy 'params' to remote host\"\n   vars:\n     file: \"{{ entry.params }}\"\n-  include: copy-inventory-file.yml\n+  import_tasks: copy-inventory-file.yml\n   when:\n   - entry['params'] is defined\n   - entry['params']|trim != ''"
            },
            {
                "sha": "ae8048ed7e2c1861e4df8c9e75d876fd1885ff51",
                "filename": "roles/openshift-applier/tasks/copy-inventory-to-remote.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tasks/copy-inventory-to-remote.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tasks/copy-inventory-to-remote.yml",
                "status": "modified",
                "patch": "@@ -12,7 +12,7 @@\n     tmp_inv_dir: \"{{ tmp_dir.path }}/\"\n \n - name: \"Copy local inventory files to target host(s)\"\n-  include: copy-inventory-content.yml\n+  include_tasks: copy-inventory-content.yml\n   loop_control:\n     loop_var: content_entry\n   with_items:"
            },
            {
                "sha": "f45373e4758ce617f091824aec4e41d23825844a",
                "filename": "playbooks/openshift/start-cluster.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/start-cluster.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/start-cluster.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,5 @@\n ---\n \n-- include: start-aws.yml\n+- import_playbook: start-aws.yml\n   when:\n   - hosting_infrastructure == 'aws'"
            },
            {
                "sha": "970befb3d33e657090329c5c0659588bb7d29a7e",
                "filename": "roles/create_users/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/create_users/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/create_users/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,5 @@\n ---\n+\n  - name: \"Initialize create_users facts\"\n    set_fact:\n      users: ''\n@@ -8,6 +9,6 @@\n      users: \"{{ create_users }}\"\n    when: create_users is defined\n \n- - include: create_users.yml\n+ - include_tasks: create_users.yml\n    static: no\n    when: create_users is defined"
            },
            {
                "sha": "c208d11b188b8c0ade72e246541c0eb7f433ebf6",
                "filename": "roles/cfme-ocp-provider/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/cfme-ocp-provider/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/cfme-ocp-provider/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -33,7 +33,7 @@\n   register: providers_result\n \n - name: Query Details From Each Provider\n-  include: query_provider.yml\n+  include_tasks: query_provider.yml\n   vars:    \n     provider_url: \"{{ item }}\"\n   with_items : \"{{ providers_result.json.resources | default([]) }}\"\n@@ -81,4 +81,4 @@\n     force_basic_auth: true\n     validate_certs: false\n     status_code: 200\n-    body_format: json\n\\ No newline at end of file\n+    body_format: json"
            },
            {
                "sha": "4a101becf2f526dcd23fde074a7265636450066c",
                "filename": "playbooks/openshift/post-install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/post-install.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/post-install.yml",
                "status": "modified",
                "patch": "@@ -8,6 +8,6 @@\n   roles:\n   - { role: create_users }\n \n-- include: ../openshift-cluster-seed.yml\n+- import_playbook: ../openshift-cluster-seed.yml\n   when:\n   - openshift_cluster_content is defined"
            },
            {
                "sha": "54e83a10bd7835c965c0f58c8e65fa8d366755ef",
                "filename": "playbooks/openshift/provision-instances.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/provision-instances.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/provision-instances.yml",
                "status": "modified",
                "patch": "@@ -1,8 +1,8 @@\n ---\n # Provision Openstack Instances\n-- include: provision-openstack.yml\n+- import_playbook: provision-openstack.yml\n   when: hosting_infrastructure == \"openstack\"\n \n # Provision Openstack Instances\n-- include: provision-aws.yml\n+- import_playbook: provision-aws.yml\n   when: hosting_infrastructure == \"aws\""
            },
            {
                "sha": "933b9c1c6aa666f9485fbe161835e56330b15c2c",
                "filename": "roles/openshift-applier/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,12 +1,12 @@\n ---\n \n - name: \"Copy inventory content to remote host(s) if not running 'locally'\"\n-  include: copy-inventory-to-remote.yml\n+  import_tasks: copy-inventory-to-remote.yml\n   when:\n   - ansible_connection != 'local'\n \n - name: \"Create OpenShift objects\"\n-  include: process-content.yml\n+  include_tasks: process-content.yml\n   with_items:\n   - \"{{ openshift_cluster_content | filter_applier_items(filter_tags) | default([]) }}\"\n   loop_control:"
            },
            {
                "sha": "4b5ba4b5fb176af060f6cd8c22f50c1f48a4ac79",
                "filename": "playbooks/openshift/provision-openstack.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/provision-openstack.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/provision-openstack.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,7 @@\n ---\n - hosts: localhost\n   pre_tasks:\n-  - include: pre-tasks.yml\n+  - import_tasks: pre-tasks.yml\n   roles:\n   - role: openshift-ansible-contrib/roles/openstack-stack\n     stack_name: \"{{ env_id }}.{{ public_dns_domain }}\"\n@@ -53,4 +53,4 @@\n     set_fact:\n       public_v4: \"{{ openstack.public_v4 }}\"\n \n-- include: post-provision-openstack.yml\n+- import_playbook: post-provision-openstack.yml"
            },
            {
                "sha": "05f92bc69ca97bd43a05775eb23251188309b9d2",
                "filename": "playbooks/openshift/delete-cluster.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/delete-cluster.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/delete-cluster.yml",
                "status": "modified",
                "patch": "@@ -3,10 +3,10 @@\n   roles:\n   - openshift-ansible-contrib/roles/openshift-pv-cleanup\n \n-- include: delete-openstack.yml\n+- import_playbook: delete-openstack.yml\n   when:\n   - hosting_infrastructure == 'openstack'\n \n-- include: delete-aws.yml\n+- import_playbook: delete-aws.yml\n   when:\n   - hosting_infrastructure == 'aws'"
            },
            {
                "sha": "fe826f61fc4fe8d2713b0b77ea58839ef0c5e4ff",
                "filename": "roles/openshift-applier/tasks/process-content.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tasks/process-content.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tasks/process-content.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,7 @@\n ---\n \n - name: \"Create/Apply OpenShift Cluster Content ('{{ entry.object }}') - based on individual files\"\n-  include: process-one-entry.yml\n+  include_tasks: process-one-entry.yml\n   with_items:\n   - \"{{ entry.content | default([]) }}\"\n "
            },
            {
                "sha": "50c684bcfaa2f73e9e96f5aeacef07f5496144ec",
                "filename": "roles/create_users/tasks/create_users.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/create_users/tasks/create_users.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/create_users/tasks/create_users.yml",
                "status": "modified",
                "patch": "@@ -1,3 +1,5 @@\n+---\n+\n  - name: \"Create {{ users.num_users }} htpasswd users\"\n    htpasswd:\n      path: \"{{ users.passwd_file }}\""
            },
            {
                "sha": "58d921de8b3948c56a4108227ab9ef03a52a18fa",
                "filename": "playbooks/openshift/post-provision-openstack.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/post-provision-openstack.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/post-provision-openstack.yml",
                "status": "modified",
                "patch": "@@ -3,7 +3,7 @@\n # Assign hostnames\n - hosts: cluster_hosts\n   pre_tasks:\n-  - include: pre-tasks.yml\n+  - import_tasks: pre-tasks.yml\n   roles:\n   - role: openshift-ansible-contrib/roles/hostnames\n \n@@ -20,15 +20,15 @@\n # Build the DNS Server Views and Configure DNS Server(s)\n - hosts: dns\n   pre_tasks:\n-  - include: pre-tasks.yml\n+  - import_tasks: pre-tasks.yml\n   roles:\n   - role: openshift-ansible-contrib/roles/dns-views\n   - role: infra-ansible/roles/dns-server\n \n # Build and process DNS Records\n - hosts: localhost\n   pre_tasks:\n-  - include: pre-tasks.yml\n+  - import_tasks: pre-tasks.yml\n   roles:\n   - role: openshift-ansible-contrib/roles/dns-records\n   - role: infra-ansible/roles/dns"
            },
            {
                "sha": "3f0967d4d69a3f59823665ca846533697c2647d7",
                "filename": "playbooks/openshift/install.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/install.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/install.yml",
                "status": "modified",
                "patch": "@@ -1,2 +1,3 @@\n ---\n-- include: \"{{ openshift_ansible_path | default('../../../openshift-ansible') }}/playbooks/byo/config.yml\"\n+\n+- import_playbook: \"{{ openshift_ansible_path | default('../../../openshift-ansible') }}/playbooks/byo/config.yml\""
            },
            {
                "sha": "f8d4c3bc12d6cd784f59fa4bf3c454498095637a",
                "filename": "roles/openshift-applier/tests/test.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tests/test.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tests/test.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,5 @@\n ---\n-- hosts: localhost\n+\n+- hosts: seed-hosts\n   roles:\n     - openshift-applier"
            },
            {
                "sha": "b35b7e479d98497f8f8d1be294b2dd6deceba885",
                "filename": "roles/openshift-management/tasks/main.yml",
                "previous_filename": null,
                "additions": 11,
                "deletions": 4,
                "changes": 15,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-management/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-management/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -3,28 +3,35 @@\n   fail: msg=\"OpenShift Token Not Provided\"\n   failed_when: (openshift_token is undefined) or (openshift_token is none) or (openshift_token|trim == '')\n   tags: always\n+\n - name: Set Facts\n   set_fact: kubeconfig=\"/tmp/openshift-management-{{ ansible_date_time.epoch }}/config\"\n   tags: always\n+\n - name: Create Directory\n   file: path=\"{{ kubeconfig | dirname }}\" state=directory\n   notify: cleanup openshift login\n   tags: always\n+\n - name: Login to OpenShift\n   shell: oc login --token={{ openshift_token }} {{ openshift_login_insecure_flag }} {{ openshift_master_url }} \n   environment:\n     KUBECONFIG: \"{{ kubeconfig }}\"\n   tags: always\n-- include: prune-builds.yml\n+\n+- import_tasks: prune-builds.yml\n   when: \"{{ openshift_prune_builds | default(False) }}\"\n   tags: openshift-management-builds\n-- include: prune-deployments.yml\n+\n+- import_tasks: prune-deployments.yml\n   when: \"{{ openshift_prune_deployments | default(False) }}\"\n   tags: openshift-management-deployments\n-- include: prune-images.yml\n+\n+- import_tasks: prune-images.yml\n   when: \"{{ openshift_prune_images | default(False) }}\"\n   tags: openshift-management-images\n-- include: prune-projects.yml\n+\n+- import_tasks: prune-projects.yml\n   when: \"{{ openshift_prune_projects | default(False) }}\"\n   tags: openshift-management-projects\n "
            },
            {
                "sha": "bb06ef2a1cc968fe5de84fa72204f3e0c8f043c1",
                "filename": "playbooks/openshift/stop-cluster.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/stop-cluster.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/stop-cluster.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,5 @@\n ---\n \n-- include: stop-aws.yml\n+- import_playbook: stop-aws.yml\n   when:\n   - hosting_infrastructure == 'aws'"
            },
            {
                "sha": "b2e388c26bd738fce8dd44b5effce45c4a08cc41",
                "filename": "playbooks/openshift/end-to-end.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/end-to-end.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/end-to-end.yml",
                "status": "modified",
                "patch": "@@ -1,12 +1,12 @@\n ---\n # Provision Openstack Instances\n-- include: provision-instances.yml\n+- import_playbook: provision-instances.yml\n \n # Pre-Install Steps\n-- include: pre-install.yml\n+- import_playbook: pre-install.yml\n \n # Install\n-- include: install.yml\n+- import_playbook: install.yml\n \n # Post Install\n-- include: post-install.yml\n+- import_playbook: post-install.yml"
            },
            {
                "sha": "924ef610a109f516e7c09cf4e6ff832d88b3623b",
                "filename": "roles/openshift-applier/tasks/process-one-entry.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tasks/process-one-entry.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tasks/process-one-entry.yml",
                "status": "modified",
                "patch": "@@ -37,7 +37,7 @@\n - name: \"Determine location for the 'file' (if applicable)\"\n   vars:\n     path: \"{{ file }}\"\n-  include: check-file-location.yml\n+  import_tasks: check-file-location.yml\n   when:\n   - file|trim != ''\n \n@@ -51,7 +51,7 @@\n - name: \"Determine location for the 'template' (if applicable)\"\n   vars:\n     path: \"{{ template }}\"\n-  include: check-file-location.yml\n+  import_tasks: check-file-location.yml\n   when:\n   - template|trim != ''\n "
            },
            {
                "sha": "2505ac8b1fde47d4bd29de5e58879b92475192ba",
                "filename": "playbooks/openshift/delete-openstack.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/delete-openstack.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/playbooks/openshift/delete-openstack.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n \n - hosts: localhost\n   pre_tasks:\n-  - include: pre-tasks.yml\n+  - import_tasks: pre-tasks.yml\n   roles:\n   - role: openshift-ansible-contrib/roles/openstack-stack\n     stack_name: \"{{ env_id }}.{{ public_dns_domain }}\""
            },
            {
                "sha": "e22bf0decbec0dd77d956097d3938484813f98ea",
                "filename": "roles/openshift-applier/tasks/copy-inventory-content.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tasks/copy-inventory-content.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e7a06258d04c20dfed3e48cc01d30692d21427a0/roles/openshift-applier/tasks/copy-inventory-content.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,7 @@\n ---\n \n - name: \"Copy 'content' entries\"\n-  include: copy-inventory-entry.yml\n+  include_tasks: copy-inventory-entry.yml\n   loop_control:\n     loop_var: entry\n   with_items:\n@@ -12,6 +12,6 @@\n - name: \"Copy 'content_dir' entries\"\n   vars:\n     dir: \"{{ content_entry.content_dir }}\"\n-  include: copy-inventory-dir.yml\n+  import_tasks: copy-inventory-dir.yml\n   when:\n   - content_entry.content_dir is defined "
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #27: Allow Solr memory settings to be configured.",
        "sha": "a1eee49b4ca64a54975bdff79d6ac332ed290d56",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/a1eee49b4ca64a54975bdff79d6ac332ed290d56",
        "parents": [
            "fccf3720508d21f5858f87568130c965b93bc19b"
        ],
        "files": [
            {
                "sha": "b9085fa38afbca75b81064763b78ab8fdd26c905",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/a1eee49b4ca64a54975bdff79d6ac332ed290d56/tasks/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/a1eee49b4ca64a54975bdff79d6ac332ed290d56/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -42,3 +42,7 @@\n # Create cores, if any are configured.\n - include: cores.yml\n   when: \"solr_cores and solr_version.split('.')[0] >= '5'\"\n+\n+# Configure solr.\n+- include: configure.yml\n+  when: \"solr_version.split('.')[0] >= '5'\""
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fix #612 - Bump nginx_fastcgi_buffer_size\n\n`admin-ajax.php` apparently causes huge headers causing Nginx errors:\n\n> upstream sent too big header while reading response header from upstream\n\nBumping this default value to `8k` fixes the issues.",
        "sha": "abea208185e564ce65fb484649d2dfa954f5178d",
        "url": "https://api.github.com/repos/roots/trellis/commits/abea208185e564ce65fb484649d2dfa954f5178d",
        "parents": [
            "9f7db4c7fa5139db661f39663d3e51f292f7d0c8"
        ],
        "files": [
            {
                "sha": "0f63702625efad23d4a420735c8661d89a421873",
                "filename": "roles/nginx/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/abea208185e564ce65fb484649d2dfa954f5178d/roles/nginx/defaults/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/abea208185e564ce65fb484649d2dfa954f5178d/roles/nginx/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -3,7 +3,7 @@ nginx_path: /etc/nginx\n nginx_logs_root: /var/log/nginx\n nginx_user: www-data\n nginx_fastcgi_buffers: 8 8k\n-nginx_fastcgi_buffer_size: 4k\n+nginx_fastcgi_buffer_size: 8k\n nginx_ssl_path: \"{{ nginx_path }}/ssl\"\n \n # HSTS defaults"
            }
        ]
    },
    {
        "repo": "freeipa/ansible-freeipa",
        "author_id": "MDQ6VXNlcjE5Mzg4ODg=",
        "author_name": "David Sastre Medina",
        "committer_id": "MDQ6VXNlcjE5Mzg4ODg=",
        "committer_name": "David Sastre Medina",
        "committer_email": "david.sastre@redhat.com",
        "message": "Fixes #17 Improve how tasks manage package installation\n\nThe use of squash_actions to invoke a package module, such as \u201cyum\u201d, to\nonly invoke the module once is deprecated, and will be removed in\nAnsible 2.11.\nInstead of relying on implicit squashing, tasks should instead supply\nthe list directly to the name, pkg or package parameter of the module.\n\nSee [1] for a reference to the upstream documentation.\n\nThe ipa-krb5 and ipa-sssd modules include *_packages variables in both\ndefaults/ and vars/, additionally, the list of packages in ipa-sssd differs\nfrom one to the other.\nUnify list of packages into vars/\n\n[1]: https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_2.7.html#using-a-loop-on-a-package-module-via-squash-actions",
        "sha": "20e5338ad5acbc47e7a492323b19c9a22bdef3ab",
        "url": "https://api.github.com/repos/freeipa/ansible-freeipa/commits/20e5338ad5acbc47e7a492323b19c9a22bdef3ab",
        "parents": [
            "b51397eb89ad0dbab1f8b81e58c841834d20fc07"
        ],
        "files": [
            {
                "sha": "095099a37f31608d62b599a1e3d0133be790fb43",
                "filename": "roles/ipaclient/tasks/uninstall.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 5,
                "changes": 9,
                "blob_url": "https://github.com/freeipa/ansible-freeipa/blob/20e5338ad5acbc47e7a492323b19c9a22bdef3ab/roles/ipaclient/tasks/uninstall.yml",
                "raw_url": "https://github.com/freeipa/ansible-freeipa/raw/20e5338ad5acbc47e7a492323b19c9a22bdef3ab/roles/ipaclient/tasks/uninstall.yml",
                "status": "modified",
                "patch": "@@ -14,8 +14,7 @@\n   failed_when: uninstall.rc != 0 and uninstall.rc != 2\n   changed_when: uninstall.rc == 0\n \n-# - name: Remove IPA client package\n-#   package:\n-#     name: \"{{ item }}\"\n-#     state: absent\n-#   with_items: \"{{ ipaclient_packages }}\"\n+#- name: Remove IPA client package\n+#  package:\n+#    name: \"{{ ipaclient_packages }}\"\n+#    state: absent"
            },
            {
                "sha": "9acf558fe9c205da77df57baa52657b78713e6c3",
                "filename": "roles/ipareplica/tasks/install.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 6,
                "changes": 9,
                "blob_url": "https://github.com/freeipa/ansible-freeipa/blob/20e5338ad5acbc47e7a492323b19c9a22bdef3ab/roles/ipareplica/tasks/install.yml",
                "raw_url": "https://github.com/freeipa/ansible-freeipa/raw/20e5338ad5acbc47e7a492323b19c9a22bdef3ab/roles/ipareplica/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -5,22 +5,19 @@\n \n   - name: Install - Ensure IPA replica packages are installed\n     package:\n-      name: \"{{ item }}\"\n+      name: \"{{ ipareplica_packages }}\"\n       state: present\n-    with_items: \"{{ ipareplica_packages }}\"\n \n   - name: Install - Ensure IPA replica packages for dns are installed\n     package:\n-      name: \"{{ item }}\"\n+      name: \"{{ ipareplica_packages_dns }}\"\n       state: present\n-    with_items: \"{{ ipareplica_packages_dns }}\"\n     when: ipareplica_setup_dns | bool\n \n   - name: Install - Ensure IPA replica packages for adtrust are installed\n     package:\n-      name: \"{{ item }}\"\n+      name: \"{{ ipareplica_packages_adtrust }}\"\n       state: present\n-    with_items: \"{{ ipareplica_packages_adtrust }}\"\n     when: ipareplica_setup_adtrust | bool\n \n   when: ipareplica_install_packages | bool"
            },
            {
                "sha": "ee2948527acbfeb5ec16ccf770d014211dc7d907",
                "filename": "roles/ipaclient/tasks/install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 2,
                "changes": 3,
                "blob_url": "https://github.com/freeipa/ansible-freeipa/blob/20e5338ad5acbc47e7a492323b19c9a22bdef3ab/roles/ipaclient/tasks/install.yml",
                "raw_url": "https://github.com/freeipa/ansible-freeipa/raw/20e5338ad5acbc47e7a492323b19c9a22bdef3ab/roles/ipaclient/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -3,9 +3,8 @@\n \n - name: Install - Ensure that IPA client packages are installed\n   package:\n-    name: \"{{ item }}\"\n+    name: \"{{ ipaclient_packages }}\"\n     state: present\n-  with_items: \"{{ ipaclient_packages }}\"\n   when: ipaclient_install_packages | bool\n \n #- name: Install - Include Python2/3 import test"
            },
            {
                "sha": "65068e6f3b05730b239bee2b6cb591128c9fb9c1",
                "filename": "roles/ipareplica/tasks/uninstall.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 5,
                "changes": 9,
                "blob_url": "https://github.com/freeipa/ansible-freeipa/blob/20e5338ad5acbc47e7a492323b19c9a22bdef3ab/roles/ipareplica/tasks/uninstall.yml",
                "raw_url": "https://github.com/freeipa/ansible-freeipa/raw/20e5338ad5acbc47e7a492323b19c9a22bdef3ab/roles/ipareplica/tasks/uninstall.yml",
                "status": "modified",
                "patch": "@@ -34,8 +34,7 @@\n #  failed_when: False\n #  delegate_to: \"{{ groups.ipaserver[0] | default(fail) }}\"\n \n-# - name: Remove IPA replica packages\n-#   package:\n-#     name: \"{{ item }}\"\n-#     state: absent\n-#   with_items: \"{{ ipareplica_packages }}\"\n+#- name: Remove IPA replica packages\n+#  package:\n+#    name: \"{{ ipareplica_packages }}\"\n+#    state: absent"
            },
            {
                "sha": "d018429f158cab2b664bd98b00e50fe3380d9dfd",
                "filename": "roles/ipaserver/tasks/uninstall.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 5,
                "changes": 9,
                "blob_url": "https://github.com/freeipa/ansible-freeipa/blob/20e5338ad5acbc47e7a492323b19c9a22bdef3ab/roles/ipaserver/tasks/uninstall.yml",
                "raw_url": "https://github.com/freeipa/ansible-freeipa/raw/20e5338ad5acbc47e7a492323b19c9a22bdef3ab/roles/ipaserver/tasks/uninstall.yml",
                "status": "modified",
                "patch": "@@ -17,8 +17,7 @@\n   failed_when: uninstall.rc != 0 and uninstall.rc != 1\n   changed_when: uninstall.rc == 0\n \n-# - name: Remove IPA server packages\n-#   package:\n-#     name: \"{{ item }}\"\n-#     state: absent\n-#   with_items: \"{{ ipaserver_packages }}\"\n+#- name: Remove IPA server packages\n+#  package:\n+#    name: \"{{ ipaserver_packages }}\"\n+#    state: absent"
            },
            {
                "sha": "3ca47397f0703e66bff36e20501e5e1b5e8fc466",
                "filename": "roles/ipaserver/tasks/install.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 6,
                "changes": 9,
                "blob_url": "https://github.com/freeipa/ansible-freeipa/blob/20e5338ad5acbc47e7a492323b19c9a22bdef3ab/roles/ipaserver/tasks/install.yml",
                "raw_url": "https://github.com/freeipa/ansible-freeipa/raw/20e5338ad5acbc47e7a492323b19c9a22bdef3ab/roles/ipaserver/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -4,22 +4,19 @@\n - block:\n   - name: Install - Ensure that IPA server packages are installed\n     package:\n-      name: \"{{ item }}\"\n+      name: \"{{ ipaserver_packages }}\"\n       state: present\n-    with_items: \"{{ ipaserver_packages }}\"\n \n   - name: Install - Ensure that IPA server packages for dns are installed\n     package:\n-      name: \"{{ item }}\"\n+      name: \"{{ ipaserver_packages_dns }}\"\n       state: present\n-    with_items: \"{{ ipaserver_packages_dns }}\"\n     when: ipaserver_setup_dns | bool\n \n   - name: Install - Ensure that IPA server packages for adtrust are installed\n     package:\n-      name: \"{{ item }}\"\n+      name: \"{{ ipaserver_packages_adtrust }}\"\n       state: present\n-    with_items: \"{{ ipaserver_packages_adtrust }}\"\n     when: ipaserver_setup_adtrust | bool\n \n   when: ipaserver_install_packages | bool"
            }
        ]
    },
    {
        "repo": "lean-delivery/ansible-role-java",
        "author_id": "MDQ6VXNlcjEwMTM5NjQ1",
        "author_name": "Vitali Stanevich",
        "committer_id": "MDQ6VXNlcjg1MDMwMTM=",
        "committer_name": "Ivan Bogomazov",
        "committer_email": "ivan.bogomazov@gmail.com",
        "message": "fix issue #16 (#17)\n\n'ansible_facts.system' returns 'Win32' instead of 'Windows'\r\nso replaced with 'ansible_os_family'",
        "sha": "b6140f1c7f43ea012889046b2c4cce9700680198",
        "url": "https://api.github.com/repos/lean-delivery/ansible-role-java/commits/b6140f1c7f43ea012889046b2c4cce9700680198",
        "parents": [
            "e1188f4fa1eaff591507f285fee948ea86bbb378"
        ],
        "files": [
            {
                "sha": "9997bedbcd3ebcfbd49999383a7a07937779c500",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/b6140f1c7f43ea012889046b2c4cce9700680198/tasks/main.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/b6140f1c7f43ea012889046b2c4cce9700680198/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -11,7 +11,7 @@\n - name: \"Choose platform based task \"\n   include_tasks: \"{{ platform }}\"\n   with_first_found:\n-    - \"system/{{ ansible_facts.system }}.yml\"\n+    - \"system/{{ ansible_os_family }}.yml\"\n     - \"system/not-supported.yml\"\n   loop_control:\n     loop_var: platform"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #19",
        "sha": "8e163ea5311fe60375fd7dc20c9ca22ca926bce4",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/8e163ea5311fe60375fd7dc20c9ca22ca926bce4",
        "parents": [
            "35c4af9fd84d7a7e6bc093adc944b352e68d6ff1"
        ],
        "files": [
            {
                "sha": "8fba9cdd3f1f391ce513a708adbfc6d50e205ad6",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 26,
                "deletions": 5,
                "changes": 31,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8e163ea5311fe60375fd7dc20c9ca22ca926bce4/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8e163ea5311fe60375fd7dc20c9ca22ca926bce4/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,8 +1,29 @@\n ---\n-# tasks file for ansible-role-docker-ce\n+- name: Fail if unsupported CentOS version\n+  fail:\n+    msg: \"CentOS 7 or later is required!\"\n+  when: ansible_distribution == \"CentOS\" and ansible_distribution_major_version < '7'\n \n-- include: main-CentOS.yml\n-  when: ansible_distribution == \"CentOS\" and ansible_distribution_major_version > '6'\n+- name: Fail if unsupported Fedora version\n+  fail:\n+    msg: \"Fedora 24 or later is required!\"\n+  when: ansible_distribution == \"Fedora\" and ansible_distribution_major_version < '24'\n \n-- include: main-Fedora.yml\n-  when: ansible_distribution == \"Fedora\" and ansible_distribution_major_version > '23'\n+- name: Fail if this roles does not support the distribution\n+  fail:\n+    msg: \"Distribution you are running is not supported by this role!\"\n+  when: ansible_distribution != \"Fedora\" and ansible_distribution != \"CentOS\"\n+\n+- include: setup-repository.yml\n+\n+- include: kernel-3-mount-fixes.yml\n+  when: ansible_kernel | version_compare('4', '<')\n+\n+- include: setup-audit.yml\n+\n+- include: remove-pre-docker-ce.yml\n+  when: docker_remove_pre_ce | bool\n+\n+- include: install-docker.yml\n+\n+- include: configure-docker.yml"
            },
            {
                "sha": "61bdf5f0c33bf820ae8d2dba8751088befe0855f",
                "filename": "tasks/setup-repository.yml",
                "previous_filename": "tasks/main-Fedora.yml",
                "additions": 22,
                "deletions": 16,
                "changes": 38,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8e163ea5311fe60375fd7dc20c9ca22ca926bce4/tasks/setup-repository.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8e163ea5311fe60375fd7dc20c9ca22ca926bce4/tasks/setup-repository.yml",
                "status": "renamed",
                "patch": "@@ -1,18 +1,29 @@\n ---\n-# tasks file for ansible-role-docker-ce\n+- name: Ensure python and deps for Ansible modules\n+  raw: dnf install -y python2 python2-dnf libselinux-python\n+  become: true\n+  changed_when: false\n+  when: ansible_distribution == \"Fedora\"\n+\n+- name: Ensure yum-utils is installed\n+  package:\n+    name: yum-utils\n+    state: present\n+  become: true\n+  when: ansible_distribution == \"CentOS\"\n \n - name: Add Docker CE repository\n   get_url:\n-    url: https://download.docker.com/linux/fedora/docker-ce.repo\n+    url: \"{{ docker_repository_url[ansible_distribution] }}\"\n     dest: /etc/yum.repos.d/docker-ce.repo\n     mode: 0644\n   become: true\n-  register: dnf_repo\n+  register: docker_repo\n \n - name: Determine Docker CE Edge repo status\n-  shell: dnf config-manager --dump docker-ce-edge | grep enabled\n+  shell: \"{{ docker_cmd_check_edge_repo_status[ansible_distribution] }}\"\n   args:\n-    warn: false\n+    warn: false  \n   ignore_errors: yes\n   changed_when: false\n   register: cmd_docker_ce_edge_enabled\n@@ -22,18 +33,13 @@\n     fact_docker_ce_edge_enabled: \"{{ cmd_docker_ce_edge_enabled.stdout == 'enabled = True' }}\"\n \n - name: Enable/Disable Docker CE Edge Repository\n-  shell: dnf config-manager --set-{{ (docker_enable_ce_edge == true) | ternary('enabled','disabled') }} docker-ce-edge\n+  shell: \"{{ docker_cmd_enable_disable_edge_repo[ansible_distribution] }}\"\n   become: true\n   when: fact_docker_ce_edge_enabled != docker_enable_ce_edge\n \n-- name: Update dnf cache\n-  shell: dnf makecache fast\n-  become: true\n-  when: dnf_repo.changed\n-\n-- name: Install python and deps for ansible modules\n-  raw: dnf install -y python2 python2-dnf libselinux-python\n+- name: Update repository cache\n+  shell: \"{{ docker_cmd_update_repo_cache[ansible_distribution] }}\"\n+  args:\n+    warn: false  \n   become: true\n-  changed_when: false\n-\n-- include: main-Generic.yml\n\\ No newline at end of file\n+  when: docker_repo.changed\n\\ No newline at end of file"
            },
            {
                "sha": "d3718deb61f0fb2119e465c8c39e4da97b32c3d2",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8e163ea5311fe60375fd7dc20c9ca22ca926bce4/handlers/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8e163ea5311fe60375fd7dc20c9ca22ca926bce4/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -5,11 +5,11 @@\n   service:\n     name: docker\n     state: restarted\n-  become: true\n+  become: yes\n \n # Workaround because systemd cannot be used: https://github.com/ansible/ansible/issues/22171\n - name: restart auditd\n   shell: service auditd restart\n   args:\n-    warn: false\n-  become: true\n+    warn: no\n+  become: yes"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fixes #122 - Add SMTP role\n\nThis uses ssmtp as a simple mail delivery tool for forwarding mail to an\nexternal SMTP server.",
        "sha": "5dce6aa8001fa8b4b4606179dd71561667942ac1",
        "url": "https://api.github.com/repos/roots/trellis/commits/5dce6aa8001fa8b4b4606179dd71561667942ac1",
        "parents": [
            "9072529b36b6a08f277f3e1bcb687cf41b511174"
        ],
        "files": [
            {
                "sha": "1e1ce23a2640216955260ff422d1c1352d0631b8",
                "filename": "roles/php/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/roots/trellis/blob/5dce6aa8001fa8b4b4606179dd71561667942ac1/roles/php/defaults/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/5dce6aa8001fa8b4b4606179dd71561667942ac1/roles/php/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -11,6 +11,7 @@ php_max_input_time: 300\n php_post_max_size: 25M\n php_upload_max_filesize: 25M\n php_max_input_vars: 1000\n+php_sendmail_path: /usr/sbin/ssmtp -t\n \n php_opcache_enable: 1\n php_opcache_memory_consumption: 128"
            }
        ]
    },
    {
        "repo": "lae/ansible-role-proxmox",
        "author_id": "MDQ6VXNlcjEzMTgwMTM=",
        "author_name": "Musee Ullah",
        "committer_id": "MDQ6VXNlcjEzMTgwMTM=",
        "committer_name": "Musee Ullah",
        "committer_email": "lae@lae.is",
        "message": "Remove old kernels not in use, closes #12 (feature/remove_old_kernels)",
        "sha": "114579845daea56c21f1985511c1c52b917572ec",
        "url": "https://api.github.com/repos/lae/ansible-role-proxmox/commits/114579845daea56c21f1985511c1c52b917572ec",
        "parents": [
            "5958a7ba3a33144d2c5530563b4058b9704303f7",
            "f7bfd673357af64e59f397bd7301b75e54ff1e7a"
        ],
        "files": [
            {
                "sha": "91b1a6a25b927e00753c5ff57ce34ca428b35b09",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 15,
                "deletions": 10,
                "changes": 25,
                "blob_url": "https://github.com/lae/ansible-role-proxmox/blob/114579845daea56c21f1985511c1c52b917572ec/tasks/main.yml",
                "raw_url": "https://github.com/lae/ansible-role-proxmox/raw/114579845daea56c21f1985511c1c52b917572ec/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -69,11 +69,11 @@\n \n   when: \"'pve-no-subscription' in pve_repository_line\"\n \n-- name: Check if kernel has been updated\n-  script: scripts/check_kernel_update.sh\n-  register: __pve_kernel\n-  changed_when: \"'updated=true' in __pve_kernel.stdout\"\n-  when: pve_check_for_kernel_update\n+- name: Check for kernel update\n+  collect_kernel_info:\n+    lookup_packages: false\n+  register: __pve_kernel_update\n+  when: pve_reboot_on_kernel_update\n \n - block:\n \n@@ -89,21 +89,26 @@\n \n   when:\n     - pve_reboot_on_kernel_update\n-    - __pve_kernel | changed\n+    - __pve_kernel_update.new_kernel_exists\n \n - include: ipmi_watchdog.yml\n   when: pve_watchdog == 'ipmi'\n \n-- name: Remove old Debian kernels\n+- name: Collect kernel package information\n+  collect_kernel_info:\n+  register: __pve_kernel\n+\n+- name: Remove old Debian/PVE kernels\n   apt:\n     name: \"{{ item }}\"\n     state: absent\n-  with_items:\n+    purge: yes\n+  with_items: \n+    - linux-base\n     - linux-image-amd64\n-    - linux-image-3.16.0-4-amd64\n+    - \"{{ __pve_kernel.old_packages }}\"\n   when:\n     - pve_remove_old_kernels\n-    - not __pve_kernel | changed\n \n - name: LDAP fix for authenticated search\n   lineinfile:"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix #13 with double quoting\n\nThe {{ item }} variable is double quoted escaped, thus we need to escape them with double quotes for proper display.",
        "sha": "0489c6a0c69bbe0a361aa753bc22972f6cea6441",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/0489c6a0c69bbe0a361aa753bc22972f6cea6441",
        "parents": [
            "e90eac100980db35187b1c8829e3284cc5db3e30"
        ],
        "files": [
            {
                "sha": "9fcc07fae0acf7b39eef728b3f9208f6f113e5d2",
                "filename": "tasks/section_12_level1.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/0489c6a0c69bbe0a361aa753bc22972f6cea6441/tasks/section_12_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/0489c6a0c69bbe0a361aa753bc22972f6cea6441/tasks/section_12_level1.yml",
                "status": "modified",
                "patch": "@@ -46,7 +46,7 @@\n       - section12.7\n \n   - name: 12.7 Find World Writable Files (Not Scored)\n-    debug: msg='{{ item }}'\n+    debug: msg=\"{{ item }}\"\n     with_items:\n         world_files.stdout_lines\n     tags:\n@@ -98,7 +98,7 @@\n       - section12.10\n \n   - name: 12.10 Find SUID System Executables (Not Scored)\n-    debug: msg='{{ item }}'\n+    debug: msg=\"{{ item }}\"\n     with_items:\n         suid_files.stdout_lines\n     tags:\n@@ -115,7 +115,7 @@\n       - section12.11\n \n   - name: 12.11 Find SGID System Executables (Not Scored)\n-    debug: msg='{{ item }}'\n+    debug: msg=\"{{ item }}\"\n     with_items:\n         gsuid_files.stdout_lines\n     tags:"
            }
        ]
    },
    {
        "repo": "jdauphant/ansible-role-ssl-certs",
        "author_id": "MDQ6VXNlcjEyMzgyNTQ=",
        "author_name": "Julien DAUPHANT",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix to sign certificat with SHA256 by default (#29)",
        "sha": "00104851b3724644a0cbef4ad8eb6333c90740e2",
        "url": "https://api.github.com/repos/jdauphant/ansible-role-ssl-certs/commits/00104851b3724644a0cbef4ad8eb6333c90740e2",
        "parents": [
            "3266d092e74707343e798255a19444bc594345b0"
        ],
        "files": [
            {
                "sha": "802c64f5586b33abf5429bc01042bbf6232e87dd",
                "filename": "tasks/generate.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/jdauphant/ansible-role-ssl-certs/blob/00104851b3724644a0cbef4ad8eb6333c90740e2/tasks/generate.yml",
                "raw_url": "https://github.com/jdauphant/ansible-role-ssl-certs/raw/00104851b3724644a0cbef4ad8eb6333c90740e2/tasks/generate.yml",
                "status": "modified",
                "patch": "@@ -12,7 +12,7 @@\n     file: path={{ ssl_certs_csr_path }} owner={{ ssl_certs_path_owner }} group={{ ssl_certs_path_group }} mode={{ ssl_certs_mode }}\n \n   - name: Generate self-signed SSL certificate\n-    command: openssl req -nodes -x509 -days {{ ssl_certs_days }} -in {{ ssl_certs_csr_path }} -key {{ ssl_certs_privkey_path }} -out {{ ssl_certs_cert_path }} -extensions v3_ca creates={{ ssl_certs_cert_path }}\n+    command: openssl req -nodes -x509 -sha256 -days {{ ssl_certs_days }} -in {{ ssl_certs_csr_path }} -key {{ ssl_certs_privkey_path }} -out {{ ssl_certs_cert_path }} -extensions v3_ca creates={{ ssl_certs_cert_path }}\n     when: ssl_certs_generate_self_signed\n \n   - name: Self-signed SSL certificate file ownership"
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjI1OTM5Njk2",
        "author_name": "Ben Kincaid",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "fixed minor indentation issue on playbooks/manage-users/manage-atlassian-users.yml (#301)",
        "sha": "3fa317760961ec34ee01a42198aba3124880b44d",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/3fa317760961ec34ee01a42198aba3124880b44d",
        "parents": [
            "abc45ed164c9b2ac57eea0edda8515673a9942ea"
        ],
        "files": [
            {
                "sha": "f13e7a1e8ea7e5539cdf194ceb02cc01c3792acc",
                "filename": "playbooks/manage-users/manage-atlassian-users.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/3fa317760961ec34ee01a42198aba3124880b44d/playbooks/manage-users/manage-atlassian-users.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/3fa317760961ec34ee01a42198aba3124880b44d/playbooks/manage-users/manage-atlassian-users.yml",
                "status": "modified",
                "patch": "@@ -4,7 +4,7 @@\n   tasks:    \n     - import_role:\n         name: user-management/manage-atlassian-users\n-    when:\n-     - atlassian is defined\n-     - atlassian.user is defined\n+      when:\n+       - atlassian is defined\n+       - atlassian.user is defined\n   no_log: true"
            }
        ]
    },
    {
        "repo": "jloh/nagios-nrpe-server",
        "author_id": "MDQ6VXNlcjM2ODk1MzI=",
        "author_name": "James Loh",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix lint errors (#28)\n\n* Fix lint command\r\n\r\n* Lint fixes and use new syntax where applicable\r\n\r\n* Remove whitespace\r\n\r\n* Exclude whole meta/tests folder\r\n\r\n* Update galaxy tags",
        "sha": "17101b252ad40dd406c0a32ddd53ef364df01370",
        "url": "https://api.github.com/repos/jloh/nagios-nrpe-server/commits/17101b252ad40dd406c0a32ddd53ef364df01370",
        "parents": [
            "59681aa96d48e7b7044ffe6173d3f5593e4433aa"
        ],
        "files": [
            {
                "sha": "f698f54b80af52a6b989abab3114929913db8001",
                "filename": "tasks/packages-Archlinux.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 2,
                "changes": 7,
                "blob_url": "https://github.com/jloh/nagios-nrpe-server/blob/17101b252ad40dd406c0a32ddd53ef364df01370/tasks/packages-Archlinux.yml",
                "raw_url": "https://github.com/jloh/nagios-nrpe-server/raw/17101b252ad40dd406c0a32ddd53ef364df01370/tasks/packages-Archlinux.yml",
                "status": "modified",
                "patch": "@@ -1,8 +1,11 @@\n ---\n # Update pacman cache for Arch Linux based OS's\n - name: Update pacman cache [Arch Linux]\n-  pacman: update_cache=yes\n+  pacman:\n+    update_cache: yes\n \n # Nagios NRPE Server for Arch Linux based OS's\n - name: Install Nagios NRPE Server [Arch Linux]\n-  pacman: name=nrpe state=present\n+  pacman:\n+    name: nrpe\n+    state: present"
            },
            {
                "sha": "9781f2b65c07a91486716c6f0ed96e0f25ca36a4",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/jloh/nagios-nrpe-server/blob/17101b252ad40dd406c0a32ddd53ef364df01370/handlers/main.yml",
                "raw_url": "https://github.com/jloh/nagios-nrpe-server/raw/17101b252ad40dd406c0a32ddd53ef364df01370/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -4,4 +4,6 @@\n # different names, we use a variable set in vars/{{ ansible_os_family }}.yml\n \n - name: restart nagios-nrpe-server\n-  service: name=\"{{ nagios_nrpe_server_service }}\" state=restarted\n+  service:\n+    name: \"{{ nagios_nrpe_server_service }}\"\n+    state: restarted"
            },
            {
                "sha": "d5d221c63bc81e8748e79de811eec540db023130",
                "filename": "tasks/packages-Debian.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 3,
                "changes": 11,
                "blob_url": "https://github.com/jloh/nagios-nrpe-server/blob/17101b252ad40dd406c0a32ddd53ef364df01370/tasks/packages-Debian.yml",
                "raw_url": "https://github.com/jloh/nagios-nrpe-server/raw/17101b252ad40dd406c0a32ddd53ef364df01370/tasks/packages-Debian.yml",
                "status": "modified",
                "patch": "@@ -1,11 +1,16 @@\n ---\n # Update apt-cache for Debian based OS's\n - name: Update apt cache [Debian]\n-  apt: update_cache=yes\n+  apt:\n+    update_cache: yes\n \n # Nagios NRPE Server for Debian based OS's\n - name: Install Nagios NRPE Server [Debian]\n-  apt: name=nagios-nrpe-server state=present\n+  apt:\n+    name: nagios-nrpe-server\n+    state: present\n \n - name: Install nagios-plugins [Debian]\n-  apt: name=nagios-plugins state=present\n+  apt:\n+    name: nagios-plugins\n+    state: present"
            },
            {
                "sha": "9b346f6033e914f10ec1eff00d7c8a52b5ea3b07",
                "filename": "tasks/variables.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/jloh/nagios-nrpe-server/blob/17101b252ad40dd406c0a32ddd53ef364df01370/tasks/variables.yml",
                "raw_url": "https://github.com/jloh/nagios-nrpe-server/raw/17101b252ad40dd406c0a32ddd53ef364df01370/tasks/variables.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n # Variable configuration.\n - name: Include OS-specific variables.\n   include_vars: \"{{ ansible_os_family }}.yml\"\n-  \n+\n - name: Include OS-specific variables (RedHat).\n   include_vars: \"{{ ansible_os_family }}-{{ ansible_architecture }}.yml\"\n   when: ansible_os_family == 'RedHat'"
            },
            {
                "sha": "9170361b6fdedb0fc21f69d84693267776ecdf62",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 22,
                "deletions": 17,
                "changes": 39,
                "blob_url": "https://github.com/jloh/nagios-nrpe-server/blob/17101b252ad40dd406c0a32ddd53ef364df01370/meta/main.yml",
                "raw_url": "https://github.com/jloh/nagios-nrpe-server/raw/17101b252ad40dd406c0a32ddd53ef364df01370/meta/main.yml",
                "status": "modified",
                "patch": "@@ -1,26 +1,31 @@\n ---\n galaxy_info:\n-  author: Mooash\n+  author: James Loh\n   description: Nagios NRPE Server configuration Ansible Role\n   license: license (MIT)\n   min_ansible_version: 1.2\n   platforms:\n-  - name: Ubuntu\n-    versions:\n-    - raring\n-    - saucy\n-    - trusty\n-  - name: Debian\n-    versions:\n-    - squeeze\n-    - wheezy\n-  - name: ArchLinux\n-    versions:\n-    - all\n-  - name: Solaris\n-    versions:\n-    - 11.1\n-  categories:\n+    - name: EL\n+      versions:\n+        - 5\n+        - 6\n+        - 7\n+    - name: Ubuntu\n+      versions:\n+        - raring\n+        - saucy\n+        - trusty\n+    - name: Debian\n+      versions:\n+        - squeeze\n+        - wheezy\n+    - name: ArchLinux\n+      versions:\n+        - all\n+    - name: Solaris\n+  galaxy_tags:\n     - monitoring\n     - system\n+    - nagios\n+    - nrpe\n dependencies: []"
            },
            {
                "sha": "7a772432b78fa27cc3cd2e6aea0620059231bf43",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 30,
                "deletions": 19,
                "changes": 49,
                "blob_url": "https://github.com/jloh/nagios-nrpe-server/blob/17101b252ad40dd406c0a32ddd53ef364df01370/tasks/main.yml",
                "raw_url": "https://github.com/jloh/nagios-nrpe-server/raw/17101b252ad40dd406c0a32ddd53ef364df01370/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,5 @@\n ---\n-# Nagios NRPE Server role by Mooash\n+# Nagios NRPE Server role by James Loh\n \n # Include variables at the start so they're in scope\n - name: Include OS-Specific variables\n@@ -10,36 +10,47 @@\n \n # Create our config\n - name: Create nrpe.cfg from template\n-  template: >\n-    src=\"nrpe.cfg.j2\"\n-    dest=\"{{ nagios_nrpe_server_dir }}/nrpe.cfg\"\n-    owner=root group=root mode=0644\n+  template:\n+    src: \"nrpe.cfg.j2\"\n+    dest: \"{{ nagios_nrpe_server_dir }}/nrpe.cfg\"\n+    owner: root\n+    group: root\n+    mode: 0644\n   notify: restart nagios-nrpe-server\n \n # Create nrpe_ansible.cfg\n - name: Create nrpe_ansible.cfg from template\n-  template: >\n-    src=\"nrpe_ansible.cfg.j2\"\n-    dest=\"{{ nagios_nrpe_server_dir }}/nrpe_ansible.cfg\"\n-    owner=root group=root mode=0644\n+  template:\n+    src: \"nrpe_ansible.cfg.j2\"\n+    dest: \"{{ nagios_nrpe_server_dir }}/nrpe_ansible.cfg\"\n+    owner: root\n+    group: root\n+    mode: 0644\n   notify: restart nagios-nrpe-server\n \n # Sync our plugins\n - name: Install global plugins\n-  copy: >\n-    src=\"{{ nagios_nrpe_server_plugins_src_dir }}/global/\"\n-    dest=\"{{ nagios_nrpe_server_plugins_dir }}\"\n-    owner=root group=root mode=0755\n+  copy:\n+    src: \"{{ nagios_nrpe_server_plugins_src_dir }}/global/\"\n+    dest: \"{{ nagios_nrpe_server_plugins_dir }}\"\n+    owner: root\n+    group: root\n+    mode: 0755\n   failed_when: false\n-  \n+\n # Install per-server plugins\n - name: Install per-server plugins\n-  copy: >\n-    src=\"{{ nagios_nrpe_server_plugins_src_dir }}/{{ inventory_hostname }}/\"\n-    dest=\"{{ nagios_nrpe_server_plugins_dir }}\"\n-    owner=root group=root mode=0755\n+  copy:\n+    src: \"{{ nagios_nrpe_server_plugins_src_dir }}/{{ inventory_hostname }}/\"\n+    dest: \"{{ nagios_nrpe_server_plugins_dir }}\"\n+    owner: root\n+    group: root\n+    mode: 0755\n   failed_when: false\n \n # Ensure NRPE server is running and will start at boot\n - name: Ensure NRPE server is running\n-  service: name=\"{{ nagios_nrpe_server_service }}\" state=started enabled=yes\n+  service:\n+    name: \"{{ nagios_nrpe_server_service }}\"\n+    state: started\n+    enabled: yes"
            },
            {
                "sha": "78822da8da3ef5f0775b30dd08d6b12b2b6782bb",
                "filename": "tasks/packages-RedHat.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 2,
                "changes": 8,
                "blob_url": "https://github.com/jloh/nagios-nrpe-server/blob/17101b252ad40dd406c0a32ddd53ef364df01370/tasks/packages-RedHat.yml",
                "raw_url": "https://github.com/jloh/nagios-nrpe-server/raw/17101b252ad40dd406c0a32ddd53ef364df01370/tasks/packages-RedHat.yml",
                "status": "modified",
                "patch": "@@ -2,9 +2,13 @@\n # Nagios NRPE Server for RedHat based OS's\n # The EPEL repo is required for this package\n - name: Install Nagios NRPE Server [RedHat]\n-  yum: name=nrpe state=present\n+  yum:\n+    name: nrpe\n+    state: present\n \n # Nagios Plugins since they aren't installed as part of the package above\n - name: Install Nagios NRPE Plugins [RedHat]\n-  yum: name=nagios-plugins-all state=present\n+  yum:\n+    name: nagios-plugins-all\n+    state: present\n   notify: restart nagios-nrpe-server"
            },
            {
                "sha": "fffcc907db3066de8c071a64956da2c2571d9575",
                "filename": "tasks/packages-Solaris.yml",
                "previous_filename": null,
                "additions": 12,
                "deletions": 5,
                "changes": 17,
                "blob_url": "https://github.com/jloh/nagios-nrpe-server/blob/17101b252ad40dd406c0a32ddd53ef364df01370/tasks/packages-Solaris.yml",
                "raw_url": "https://github.com/jloh/nagios-nrpe-server/raw/17101b252ad40dd406c0a32ddd53ef364df01370/tasks/packages-Solaris.yml",
                "status": "modified",
                "patch": "@@ -1,19 +1,26 @@\n ---\n - name: Ensure CSWpkgutil is installed\n-  svr4pkg: src=http://get.opencsw.org/now name=CSWpkgutil state=present\n+  svr4pkg:\n+    src: http://get.opencsw.org/now\n+    name: CSWpkgutil\n+    state: present\n \n # pkgutil module does not actually provide full path to pkgutil --\n # until that changes, it's necessary to make sure that /opt/csw/bin\n # is included in path:\n # Nagios NRPE Server for Solaris\n - name: Install Nagios NRPE Server [Solaris]\n-  pkgutil: name=CSWnrpe state=present \n-  environment: \n+  pkgutil:\n+    name: CSWnrpe\n+    state: present\n+  environment:\n     PATH: \"{{ ansible_env.PATH }}:/opt/csw/bin\"\n \n # Nagios Plugins\n - name: Install Nagios NRPE Plugins [Solaris]\n-  pkgutil: name=\"CSWnrpe-plugin\" state=present \n-  environment: \n+  pkgutil:\n+    name: \"CSWnrpe-plugin\"\n+    state: present\n+  environment:\n     PATH: \"{{ ansible_env.PATH }}:/opt/csw/bin\"\n   notify: restart nagios-nrpe-server"
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjEwMjA0OTE=",
        "author_name": "Vinny Valdez",
        "committer_id": "MDQ6VXNlcjEwMjA0OTE=",
        "committer_name": "Vinny Valdez",
        "committer_email": "vvaldez@redhat.com",
        "message": "Fix malformed file to address Issue #210",
        "sha": "e111355b6bee5b51b24d3888c77146f31e27b37f",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/e111355b6bee5b51b24d3888c77146f31e27b37f",
        "parents": [
            "b035d7dbc48ff71aa4d0a4d023659474700ec4ae"
        ],
        "files": [
            {
                "sha": "162eb980079a4fc95b19ec2ff3ef9ee17cab0769",
                "filename": "roles/docker/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/e111355b6bee5b51b24d3888c77146f31e27b37f/roles/docker/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/e111355b6bee5b51b24d3888c77146f31e27b37f/roles/docker/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -15,7 +15,7 @@\n   lineinfile:\n     dest: /etc/sysconfig/docker\n     regexp: '^OPTIONS=.*$'\n-    line: \"^OPTIONS='--selinux-enabled --insecure-registry 172.30.0.0/16'\"\n+    line: \"OPTIONS='--selinux-enabled --insecure-registry 172.30.0.0/16'\"\n \n - name: \"Check for existing Docker Storage device\"\n   command: pvs"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-nodejs",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fixes #31",
        "sha": "0af3e85a918252d0349ba15721cbedc1e3d80ff1",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-nodejs/commits/0af3e85a918252d0349ba15721cbedc1e3d80ff1",
        "parents": [
            "4b928a2a11188068d46b66418db18799d3d860ad"
        ],
        "files": [
            {
                "sha": "906324d4b3aa287478680d32743f78bf1eb9b4d2",
                "filename": "tasks/ivm.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/fubarhouse/ansible-role-nodejs/blob/0af3e85a918252d0349ba15721cbedc1e3d80ff1/tasks/ivm.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-nodejs/raw/0af3e85a918252d0349ba15721cbedc1e3d80ff1/tasks/ivm.yml",
                "status": "modified",
                "patch": "@@ -13,7 +13,7 @@\n   become: yes\n   become_user: \"{{ fubarhouse_user }}\"\n   git:\n-    repo: \"https://github.com/demohi/ivm.git\"\n+    repo: \"{{ ivm_repo }}\"\n     dest: \"{{ fubarhouse_npm.user_dir }}/.ivm\"\n     clone: yes\n     update: yes"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix #9 together with new defaults/main.yml\n\nThe multiples use_apparmor should be factored.",
        "sha": "bc418d30bf4fa5f6a0038115a6af7f90049db84f",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/bc418d30bf4fa5f6a0038115a6af7f90049db84f",
        "parents": [
            "a2393d46f0b98700161c4cefd9260d7694bd0bf3"
        ],
        "files": [
            {
                "sha": "6c874d43c6b4cf561554873117a07835888968a3",
                "filename": "tasks/section_04_level2.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 1,
                "changes": 6,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/bc418d30bf4fa5f6a0038115a6af7f90049db84f/tasks/section_04_level2.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/bc418d30bf4fa5f6a0038115a6af7f90049db84f/tasks/section_04_level2.yml",
                "status": "modified",
                "patch": "@@ -4,6 +4,7 @@\n     apt: >\n         name=apparmor\n         state=present\n+    when: use_apparmor == True\n     tags:\n       - section4\n       - section4.5\n@@ -12,6 +13,7 @@\n     service: >\n         name=apparmor\n         state=started\n+    when: use_apparmor == True\n     tags:\n       - section4\n       - section4.5\n@@ -22,7 +24,7 @@\n     failed_when: '\"0 profiles are loaded\" in aa_status_lines.stdout_lines or \"0 processes are in complain mode.\" not in aa_status_lines.stdout_lines or \"0 processes are unconfined but have a profile defined.\" not in aa_status_lines.stdout_lines'\n         # - '\"0 processes are unconfined but have a profile defined.\" not in aa_status_lines.stdout_lines'\n     changed_when: False\n-    when: travis_env == False\n+    when: travis_env == False and use_apparmor == True\n     tags:\n       - section4\n       - section4.5\n@@ -31,6 +33,7 @@\n     apt: >\n         name=apparmor-utils\n         state=present\n+    when: use_apparmor == True\n     tags:\n       - section4\n       - section4.5\n@@ -41,6 +44,7 @@\n     register: aaenforce_rc\n     failed_when: aaenforce_rc.rc == 1\n     changed_when: False\n+    when: use_apparmor == True\n     tags:\n       - section4\n       - section4.5"
            }
        ]
    },
    {
        "repo": "ansible-ThoTeam/nexus3-oss",
        "author_id": "MDQ6VXNlcjE3Njc3Ng==",
        "author_name": "Olivier Clavel",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #154 from zeitounator/fix/httpProxyConfigBeforeBlobStores\n\nhttp proxy must be configured before blob stores for S3\r\n\r\nAlso embarks 2 minor doc and bugfix\r\n\r\nFixes #152 \r\nFixes #149",
        "sha": "4edec440368818740c0204173f21a156804e1ca9",
        "url": "https://api.github.com/repos/ansible-ThoTeam/nexus3-oss/commits/4edec440368818740c0204173f21a156804e1ca9",
        "parents": [
            "986403ad49c421cfd1f11c33f9d634ac7bda5cbb",
            "44ce2c517b37fdfb49f99b8f84be28a8f00e5069"
        ],
        "files": [
            {
                "sha": "31f696f436a40ef8039266f3736ae898ef0a0c9c",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 18,
                "deletions": 16,
                "changes": 34,
                "blob_url": "https://github.com/ansible-ThoTeam/nexus3-oss/blob/4edec440368818740c0204173f21a156804e1ca9/tasks/main.yml",
                "raw_url": "https://github.com/ansible-ThoTeam/nexus3-oss/raw/4edec440368818740c0204173f21a156804e1ca9/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -30,6 +30,24 @@\n - include_tasks: httpd_reverse_proxy_config.yml\n   when: httpd_setup_enable\n \n+- name: Configure nexus http proxy\n+  include_tasks: call_script.yml\n+  vars:\n+    script_name: setup_http_proxy\n+    args:\n+      with_http_proxy: \"{{ nexus_with_http_proxy }}\"\n+      http_proxy_host: \"{{ nexus_http_proxy_host }}\"\n+      http_proxy_port: \"{{ nexus_http_proxy_port }}\"\n+      http_proxy_username: \"{{ nexus_http_proxy_username }}\"\n+      http_proxy_password: \"{{ nexus_http_proxy_password }}\"\n+      with_https_proxy: \"{{ nexus_with_https_proxy }}\"\n+      https_proxy_host: \"{{ nexus_https_proxy_host }}\"\n+      https_proxy_port: \"{{ nexus_https_proxy_port }}\"\n+      https_proxy_username: \"{{ nexus_https_proxy_username }}\"\n+      https_proxy_password: \"{{ nexus_https_proxy_password }}\"\n+      proxy_exclude_hosts: \"{{ nexus_proxy_exclude_hosts }}\"\n+  when: nexus_with_http_proxy or nexus_with_https_proxy\n+\n - name: Deleting default repositories\n   include_tasks: delete_repo_each.yml\n   with_items:\n@@ -150,22 +168,6 @@\n     args:\n       base_url: \"{{ nexus_public_scheme }}://{{ nexus_public_hostname }}/\"\n \n-- include_tasks: call_script.yml\n-  vars:\n-    script_name: setup_http_proxy\n-    args:\n-      with_http_proxy: \"{{ nexus_with_http_proxy }}\"\n-      http_proxy_host: \"{{ nexus_http_proxy_host }}\"\n-      http_proxy_port: \"{{ nexus_http_proxy_port }}\"\n-      http_proxy_username: \"{{ nexus_http_proxy_username }}\"\n-      http_proxy_password: \"{{ nexus_http_proxy_password }}\"\n-      with_https_proxy: \"{{ nexus_with_https_proxy }}\"\n-      https_proxy_host: \"{{ nexus_https_proxy_host }}\"\n-      https_proxy_port: \"{{ nexus_https_proxy_port }}\"\n-      https_proxy_username: \"{{ nexus_https_proxy_username }}\"\n-      https_proxy_password: \"{{ nexus_https_proxy_password }}\"\n-      proxy_exclude_hosts: \"{{ nexus_proxy_exclude_hosts }}\"\n-\n - include_tasks: call_script.yml\n   vars:\n     script_name: setup_realms"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #17",
        "sha": "41231a43e2531086c3fb9f7499cbc44aacbe7792",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/41231a43e2531086c3fb9f7499cbc44aacbe7792",
        "parents": [
            "dfc0ba24f91ba11cb33f713bd44c861c8070c006"
        ],
        "files": [
            {
                "sha": "d8e42a7b6123f8b4f98df13ed0207bd0c30c3420",
                "filename": "tasks/main-Generic.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 2,
                "changes": 9,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/41231a43e2531086c3fb9f7499cbc44aacbe7792/tasks/main-Generic.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/41231a43e2531086c3fb9f7499cbc44aacbe7792/tasks/main-Generic.yml",
                "status": "modified",
                "patch": "@@ -55,10 +55,15 @@\n     - docker-selinux\n     - docker-engine\n \n-- name: Ensure docker-ce is the latest version\n+- name: Set docker-ce package state to latest\n+  set_fact:\n+    docker_pkg_state: 'latest'\n+  when: docker_latest_version|bool\n+\n+- name: Ensure docker-ce is installed\n   package:\n     name: docker-ce\n-    state: latest\n+    state: \"{{ docker_pkg_state|default('present') }}\"\n   become: true\n   notify: restart docker\n "
            }
        ]
    },
    {
        "repo": "openshift/openshift-ansible-contrib",
        "author_id": "MDQ6VXNlcjEwMjA0OTE=",
        "author_name": "Vinny Valdez",
        "committer_id": "MDQ6VXNlcjEwMjA0OTE=",
        "committer_name": "Vinny Valdez",
        "committer_email": "vvaldez@redhat.com",
        "message": "Fixes Issue #163 if rhsm_password is not defined",
        "sha": "d8583e2addba9664eab28c1a2f43f6fa0c252f9d",
        "url": "https://api.github.com/repos/openshift/openshift-ansible-contrib/commits/d8583e2addba9664eab28c1a2f43f6fa0c252f9d",
        "parents": [
            "7032aee7df1c2c6e96795067285efa3b2a6de32e"
        ],
        "files": [
            {
                "sha": "b21356cf260d287dc4abe5801e49f9409c50ace5",
                "filename": "roles/subscription-manager/pre_tasks/pre_tasks.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 5,
                "changes": 6,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/d8583e2addba9664eab28c1a2f43f6fa0c252f9d/roles/subscription-manager/pre_tasks/pre_tasks.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/d8583e2addba9664eab28c1a2f43f6fa0c252f9d/roles/subscription-manager/pre_tasks/pre_tasks.yml",
                "status": "modified",
                "patch": "@@ -1,12 +1,8 @@\n ---\n - name: \"Set password fact\"\n   set_fact:\n-    rhsm_password: \"{{ rhsm_password }}\"\n+    rhsm_password: \"{{ rhsm_password | default(None) }}\"\n   no_log: true\n-  when:\n-    - rhsm_password is defined\n-    - rhsm_password is not none\n-    - rhsm_password|trim != ''\n \n - name: \"Initialize Subscription Manager fact\"\n   set_fact:"
            }
        ]
    },
    {
        "repo": "rhevm-qe-automation/ovirt-ansible",
        "author_id": "MDQ6VXNlcjEwMDI5MA==",
        "author_name": "Mordechai",
        "committer_id": "MDQ6VXNlcjE1MDU2ODQ=",
        "committer_name": "Lukas Bednar",
        "committer_email": "lukyn17@gmail.com",
        "message": "Fix issue: Postgres95 vars not loaded for RH env (#152)\n\n- the condition ansible_distribution in ('CentOS', 'Red Hat') will fail as\r\nansible_distrubion returns 'RedHat' on RH  systems.\r\n\r\n- This prevents the right variables from being loaded.\r\n\r\n- Io resolve this 'Red Hat' was replaced with 'RedHat'",
        "sha": "da4880568831da64ebd742f1e7a9ff9374774c0e",
        "url": "https://api.github.com/repos/rhevm-qe-automation/ovirt-ansible/commits/da4880568831da64ebd742f1e7a9ff9374774c0e",
        "parents": [
            "1471601bb120a0e15aa0a66e608985830b4c083e"
        ],
        "files": [
            {
                "sha": "c80ad0e6c0694575ac743cf0aa21fc0c175cc535",
                "filename": "roles/ovirt-engine-remote-db/tasks/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/rhevm-qe-automation/ovirt-ansible/blob/da4880568831da64ebd742f1e7a9ff9374774c0e/roles/ovirt-engine-remote-db/tasks/main.yml",
                "raw_url": "https://github.com/rhevm-qe-automation/ovirt-ansible/raw/da4880568831da64ebd742f1e7a9ff9374774c0e/roles/ovirt-engine-remote-db/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -5,11 +5,11 @@\n - name: Include postgres params\n   include_vars: default.yml\n \n-- name: Override postgres params for CentOs or Red Hat when ovirt >= 4.2\n+- name: Override postgres params for CentOs or RedHat when ovirt >= 4.2\n   include_vars: postgres95.yml\n   when:\n     - ovirt_engine_version >= '4.2'\n-    - ansible_distribution in ('CentOS', 'Red Hat')\n+    - ansible_distribution in ('CentOS', 'RedHat')\n \n # install libselinux-python on machine - selinux policy\n - name: install SELinux requirements to run ansible modules managing SELinux.\n@@ -52,7 +52,7 @@\n   when:\n     - postgresql_status|failed\n     - ovirt_engine_version >= '4.2'\n-    - ansible_distribution in ('CentOS', 'Red Hat')\n+    - ansible_distribution in ('CentOS', 'RedHat')\n   tags:\n     - skip_ansible_lint\n "
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fixes #43\n\n- Following @pchaigno suggestion on min version\n- Add verbose coveralls",
        "sha": "4d782f54f0661f79e14b84440e03f056faf6c19d",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/4d782f54f0661f79e14b84440e03f056faf6c19d",
        "parents": [
            "c91b6076e3a957fb0a165131d0ff3b3b208ed419"
        ],
        "files": [
            {
                "sha": "784755e471f37e62cdec644058d15eba17d4268d",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/4d782f54f0661f79e14b84440e03f056faf6c19d/meta/main.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/4d782f54f0661f79e14b84440e03f056faf6c19d/meta/main.yml",
                "status": "modified",
                "patch": "@@ -7,7 +7,7 @@ galaxy_info:\n   author: Aur\u00e9lien Wailly\n   description: Ansible role to meet CIS (Center for Internet Security) requirements on ubuntu\n   license: GPLv2\n-  min_ansible_version: 1.6\n+  min_ansible_version: 1.9.0.1\n   platforms:\n     - name: Ubuntu\n       versions:"
            }
        ]
    },
    {
        "repo": "kubevirt/kubevirt-ansible",
        "author_id": "MDQ6VXNlcjMzMzMxMQ==",
        "author_name": "Adam Litke",
        "committer_id": "MDQ6VXNlcjY3OTUyMTM=",
        "committer_name": "Ryan Hallisey",
        "committer_email": "rhallise@redhat.com",
        "message": "Fix heketi route discovery (#199)\n\nWhen grabbing the heketi route the json data is in an array.  Update the\r\njsonpath expression to traverse this array.\r\n\r\nSigned-off-by: Adam Litke <alitke@redhat.com>",
        "sha": "9ce1be2d445429b80e78fb9288506e983e48976c",
        "url": "https://api.github.com/repos/kubevirt/kubevirt-ansible/commits/9ce1be2d445429b80e78fb9288506e983e48976c",
        "parents": [
            "4e47f4805007d471dbe9550245514c6a5a09fdf4"
        ],
        "files": [
            {
                "sha": "4d40c48b7b21dd2a2dd55b48447470ec6948b81b",
                "filename": "roles/storage-glusterfs/tasks/provision.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/9ce1be2d445429b80e78fb9288506e983e48976c/roles/storage-glusterfs/tasks/provision.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/9ce1be2d445429b80e78fb9288506e983e48976c/roles/storage-glusterfs/tasks/provision.yml",
                "status": "modified",
                "patch": "@@ -9,7 +9,7 @@\n     glusterfs_name_label: \"{{ glusterfs_name }}{% if glusterfs_name %}-{% endif %}\"\n \n - name: Determine the heketi route\n-  command: \"oc get route -n {{ glusterfs_namespace }} -l heketi={{ glusterfs_name_label }}route -o jsonpath='{.spec.host}'\"\n+  command: \"oc get route -n {{ glusterfs_namespace }} -l heketi={{ glusterfs_name_label }}route -o jsonpath='{.items[0].spec.host}'\"\n   register: route_cmd\n   when:\n     - cluster == 'openshift'"
            }
        ]
    },
    {
        "repo": "Oefenweb/ansible-postfix",
        "author_id": "MDQ6VXNlcjc4NjA3",
        "author_name": "Andrew Grigorev",
        "committer_id": "MDQ6VXNlcjc4NjA3",
        "committer_name": "Andrew Grigorev",
        "committer_email": "andrew@ei-grad.ru",
        "message": "Fix duplicate aliases, closes #26",
        "sha": "171ee647fe6d63459a5b35ac6e67e0ff1795b94e",
        "url": "https://api.github.com/repos/Oefenweb/ansible-postfix/commits/171ee647fe6d63459a5b35ac6e67e0ff1795b94e",
        "parents": [
            "9365490687096b0f8ae4a57599e22f8b096b628a"
        ],
        "files": [
            {
                "sha": "2d7882f730bb617e907be06b91ffc570e0b4223b",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/Oefenweb/ansible-postfix/blob/171ee647fe6d63459a5b35ac6e67e0ff1795b94e/tasks/main.yml",
                "raw_url": "https://github.com/Oefenweb/ansible-postfix/raw/171ee647fe6d63459a5b35ac6e67e0ff1795b94e/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -54,7 +54,7 @@\n - name: configure aliases\n   lineinfile:\n     dest: /etc/aliases\n-    regexp: '^{{ item.user }}:\\s+{{ item.alias }}'\n+    regexp: '^{{ item.user }}:.*'\n     line: '{{ item.user }}: {{ item.alias }}'\n     owner: root\n     group: root"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #53",
        "sha": "8ed96ef6058f3dd9aef8b0e697aa91038e376f09",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/8ed96ef6058f3dd9aef8b0e697aa91038e376f09",
        "parents": [
            "0bcae9c149da81c95791b18394d0c789e65ef417"
        ],
        "files": [
            {
                "sha": "7eb51932988fa7e4e7e55e89411775ad69a1669e",
                "filename": "tasks/configure-docker.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 0,
                "changes": 8,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/8ed96ef6058f3dd9aef8b0e697aa91038e376f09/tasks/configure-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/8ed96ef6058f3dd9aef8b0e697aa91038e376f09/tasks/configure-docker.yml",
                "status": "modified",
                "patch": "@@ -38,6 +38,14 @@\n         docker_daemon_config['userns-remap'] == 'default') or\n         docker_bug_usermod|bool == true)\n \n+- name: Ensure Docker users are added to the docker group\n+  become: true\n+  user:\n+    name: \"{{ item }}\"\n+    groups: docker\n+    append: true\n+  with_items: \"{{ docker_users }}\"\n+\n - name: Ensure thin-provisioning-tools is installed when devicemapper is used (Ubuntu)\n   become: true\n   package:"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix #44 - /var/utmp is not present on all systems",
        "sha": "6b4857f187e399e3fb1e8ac20d92f80d1f790786",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/6b4857f187e399e3fb1e8ac20d92f80d1f790786",
        "parents": [
            "067d6cbb20adb31a1e2bd9f689b5b6e259c30288"
        ],
        "files": [
            {
                "sha": "f5fbb03fde1054509b5349729e64f55517a620be",
                "filename": "tasks/section_04_level2.yml",
                "previous_filename": null,
                "additions": 12,
                "deletions": 1,
                "changes": 13,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/6b4857f187e399e3fb1e8ac20d92f80d1f790786/tasks/section_04_level2.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/6b4857f187e399e3fb1e8ac20d92f80d1f790786/tasks/section_04_level2.yml",
                "status": "modified",
                "patch": "@@ -66,10 +66,21 @@\n       - section4\n       - section4.5\n \n-  - name: Determine if Apparmor started without error\n+  - name: 4.5 Determine if Apparmor started without error\n     fail: msg=\"Apparmor can not be started. This is normal behavior if you run the playbook for the first time.\\nPlease reboot the machine and run it again to proceed with the rest of the playbook.\"\n     when: apparmor_status.failed is defined\n \n+  - name: 4.5 Fix rsyslog /run/utmp permissions\n+    lineinfile: >\n+        dest=\"/etc/apparmor.d/usr.sbin.rsyslogd\"\n+        line=\"  /run/utmp rk,\"\n+        insertbefore=\"  /var/spool/rsyslog/ r,\"\n+        state=present\n+    when: use_apparmor == True\n+    tags:\n+      - section4\n+      - section4.5\n+\n   - name: 4.5 Activate AppArmor (fix profiles) (Scored)\n     service: >\n         name=rsyslog"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bjorn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bjorn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #94",
        "sha": "c9d0a3fd1dc920af84c1182539265ad47c629424",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/c9d0a3fd1dc920af84c1182539265ad47c629424",
        "parents": [
            "d449b97319b9bf3d4f058f53062285782d254340"
        ],
        "files": [
            {
                "sha": "da6bee6c04ca9f118baf7c663c0648b780a7b104",
                "filename": "tasks/setup-repository.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/setup-repository.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/setup-repository.yml",
                "status": "modified",
                "patch": "@@ -10,6 +10,6 @@\n   changed_when: false\n   register: _result\n   until: _result is succeeded\n-  when: docker_network_access\n+  when: docker_network_access | bool\n   tags:\n     - skip_ansible_lint\n\\ No newline at end of file"
            },
            {
                "sha": "0b7061102b251de9017b7f85c3a71dc717a0e278",
                "filename": "tasks/setup-repository-CentOS.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/setup-repository-CentOS.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/setup-repository-CentOS.yml",
                "status": "modified",
                "patch": "@@ -9,7 +9,7 @@\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   when:\n-    - docker_network_access\n+    - docker_network_access | bool\n     - _docker_os_dist == \"CentOS\" or _docker_os_dist == \"RedHat\"\n \n - name: Determine channels to be enabled and/or disabled\n@@ -29,7 +29,7 @@\n   register: _docker_repo\n   until: _docker_repo is succeeded\n   when:\n-    - docker_network_access\n+    - docker_network_access | bool\n     - _docker_os_dist == \"CentOS\" or\n       _docker_os_dist == \"Fedora\" or\n       _docker_os_dist == \"RedHat\""
            },
            {
                "sha": "7bd63021e9e0cf9ab0eec912e33758e9d80104dd",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -47,13 +47,13 @@\n     - name: Network access disabled\n       debug:\n         msg: \"Tasks requiring network access will be skipped!\"\n-      when: not docker_network_access\n+      when: not docker_network_access | bool\n \n     - name: Remove Docker versions before Docker CE\n       include_tasks: remove-pre-docker-ce.yml\n       when:\n         - docker_remove_pre_ce | bool\n-        - docker_network_access\n+        - docker_network_access | bool\n       tags: [\"install\"]\n \n     - name: Setup Docker package repositories\n@@ -62,7 +62,7 @@\n \n     - name: Install Docker\n       include_tasks: install-docker.yml\n-      when: docker_network_access\n+      when: docker_network_access | bool\n       tags: [\"install\"]\n \n     - name: Configure audit logging\n@@ -79,7 +79,7 @@\n \n     - name: Postinstall tasks\n       include_tasks: postinstall.yml\n-      when: docker_network_access\n+      when: docker_network_access | bool\n       tags: [\"install\", \"postinstall\"]\n   when: not docker_remove | bool\n "
            },
            {
                "sha": "c5bb1284a46d5256943a51eeb58fa9055f5eca39",
                "filename": "tasks/setup-repository-Ubuntu.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/setup-repository-Ubuntu.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/setup-repository-Ubuntu.yml",
                "status": "modified",
                "patch": "@@ -7,7 +7,7 @@\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   when:\n-    - docker_network_access\n+    - docker_network_access | bool\n \n - name: Ensure packages are installed for repository setup\n   become: true\n@@ -19,7 +19,7 @@\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   when:\n-    - docker_network_access\n+    - docker_network_access | bool\n \n - name: Add Docker official GPG key\n   become: true\n@@ -29,7 +29,7 @@\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   when:\n-    - docker_network_access\n+    - docker_network_access | bool\n     - (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version > '14') or\n       (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version > '7')\n \n@@ -40,7 +40,7 @@\n     warn: false\n   changed_when: false\n   when:\n-    - docker_network_access\n+    - docker_network_access | bool\n     - (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version == '14') or\n       (_docker_os_dist == \"Debian\" and  _docker_os_dist_major_version == '7')\n   tags:"
            },
            {
                "sha": "4496a113ca0109bc78721ccf96ccdaa143380cbe",
                "filename": "tasks/configure-docker/configure-docker-plugins.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/configure-docker/configure-docker-plugins.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/configure-docker/configure-docker-plugins.yml",
                "status": "modified",
                "patch": "@@ -32,7 +32,7 @@\n   register: _docker_plugin_install\n   changed_when: _docker_plugin_install.stdout_lines | last == 'installed'\n   when:\n-    - docker_network_access\n+    - docker_network_access | bool\n \n - name: Reset list of authorization plugins\n   set_fact:"
            },
            {
                "sha": "8083bcef1356240b6a99969c0d7396005204fe15",
                "filename": "tasks/setup-audit.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/setup-audit.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/setup-audit.yml",
                "status": "modified",
                "patch": "@@ -7,8 +7,8 @@\n   register: _pkg_result\n   until: _pkg_result is succeeded\n   when:\n-    - docker_enable_audit\n-    - docker_network_access\n+    - docker_enable_audit | bool\n+    - docker_network_access | bool\n     - _docker_os_dist == \"Ubuntu\" or _docker_os_dist == \"Debian\"\n \n - name: Copy Docker audit rules\n@@ -17,12 +17,12 @@\n     src: files/etc/audit/rules.d/docker.rules\n     dest: /etc/audit/rules.d/docker.rules\n   notify: restart auditd\n-  when: docker_enable_audit\n+  when: docker_enable_audit | bool\n \n - name: Ensure Docker audit rules are removed\n   become: yes\n   file:\n     path: /etc/audit/rules.d/docker.rules\n     state: absent\n   notify: restart auditd\n-  when: not docker_enable_audit\n+  when: not docker_enable_audit | bool"
            },
            {
                "sha": "6fd1e261cd36b8c8e5f32728e3386b070e161cd8",
                "filename": "tasks/checks/compatibility-checks.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 5,
                "changes": 10,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/checks/compatibility-checks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/c9d0a3fd1dc920af84c1182539265ad47c629424/tasks/checks/compatibility-checks.yml",
                "status": "modified",
                "patch": "@@ -9,7 +9,7 @@\n       triggers a bug (https://github.com/moby/moby/issues/35873). For now,\n       don't use both.\n   when:\n-    - docker_enable_mount_flag_fix\n+    - docker_enable_mount_flag_fix | bool\n     - docker_daemon_config['live-restore'] is defined\n     - docker_daemon_config['live-restore']\n \n@@ -23,8 +23,8 @@\n   when:\n     - _docker_os_dist == \"Debian\"\n     - _docker_os_dist_major_version == '7'\n-    - docker_stack|bool or\n-      docker_sdk|bool or\n-      docker_pip_upgrade|bool or\n-      (docker_compose|bool and not docker_compose_no_pip|bool) or\n+    - docker_stack | bool or\n+      docker_sdk | bool or\n+      docker_pip_upgrade | bool or\n+      (docker_compose | bool and not docker_compose_no_pip | bool) or\n       docker_additional_packages_pip|length > 0\n\\ No newline at end of file"
            }
        ]
    },
    {
        "repo": "openshift/openshift-ansible-contrib",
        "author_id": "MDQ6VXNlcjI3OTU4MjA=",
        "author_name": "Bogdan Dobrelya",
        "committer_id": "MDQ6VXNlcjEwNDMzOQ==",
        "committer_name": "Tomas Sedovic",
        "committer_email": "tomas@sedovic.cz",
        "message": "Fix public master cluster DNS record when using bastion (#752)\n\nWhen using a bastion and a single master, add the bastion node's public IP the public master's IP for the DNS record.\r\n\r\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>",
        "sha": "b068c5f22e211053741421614b243a3f44bed75d",
        "url": "https://api.github.com/repos/openshift/openshift-ansible-contrib/commits/b068c5f22e211053741421614b243a3f44bed75d",
        "parents": [
            "f11579e6902444db3c053130c59522c4092ce2f9"
        ],
        "files": [
            {
                "sha": "7148b016a4fc68f80ce882a1cf4b6a32ccaa5f74",
                "filename": "roles/dns-records/tasks/main.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 0,
                "changes": 9,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/b068c5f22e211053741421614b243a3f44bed75d/roles/dns-records/tasks/main.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/b068c5f22e211053741421614b243a3f44bed75d/roles/dns-records/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -70,6 +70,15 @@\n   when:\n     - hostvars[groups.masters[0]].openshift_master_cluster_public_hostname is defined\n     - openstack_num_masters == 1\n+    - not use_bastion|bool\n+\n+- name: \"Add public master cluster hostname records to the public A records (single master behind a bastion)\"\n+  set_fact:\n+    public_records: \"{{ public_records | default([]) + [ { 'type': 'A', 'hostname': (hostvars[groups.masters[0]].openshift_master_cluster_public_hostname | replace(full_dns_domain, ''))[:-1], 'ip': hostvars[groups.bastions[0]].public_v4 } ] }}\"\n+  when:\n+    - hostvars[groups.masters[0]].openshift_master_cluster_public_hostname is defined\n+    - openstack_num_masters == 1\n+    - use_bastion|bool\n \n - name: \"Add public master cluster hostname records to the public A records (multi-master)\"\n   set_fact:"
            },
            {
                "sha": "a80e8d82910371864fc14686463d4ec2a2f3195a",
                "filename": "playbooks/provisioning/openstack/post-provision-openstack.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/b068c5f22e211053741421614b243a3f44bed75d/playbooks/provisioning/openstack/post-provision-openstack.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/b068c5f22e211053741421614b243a3f44bed75d/playbooks/provisioning/openstack/post-provision-openstack.yml",
                "status": "modified",
                "patch": "@@ -58,6 +58,7 @@\n   become: False\n   roles:\n     - role: dns-records\n+      use_bastion: \"{{ openstack_use_bastion|default(False)|bool }}\"\n     - role: infra-ansible/roles/dns\n \n - name: Switch the stack subnet to the configured private DNS server"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix #5 with remount in fstab\n\n- Loop locking the system",
        "sha": "301523849a643976f79ca1767eddaf3d1c00fff8",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/301523849a643976f79ca1767eddaf3d1c00fff8",
        "parents": [
            "c64269916ee60a23098a45df4b08f814dc7235d2"
        ],
        "files": [
            {
                "sha": "274d42661aea1b83bd292430330ca60a63d46c9d",
                "filename": "tasks/section_02_level1.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/301523849a643976f79ca1767eddaf3d1c00fff8/tasks/section_02_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/301523849a643976f79ca1767eddaf3d1c00fff8/tasks/section_02_level1.yml",
                "status": "modified",
                "patch": "@@ -72,7 +72,7 @@\n       - section2.13\n \n   - name: 2.14 - 16 Add nodev Option to /run/shm Partition (Scored)\n-    mount: name=\"/run/shm\" src=\"/run/shm\" state=\"mounted\" opts=\"remount,nodev,nosuid,noexec\" fstype=\"tmpfs\"\n+    mount: name=\"/run/shm\" src=\"/run/shm\" state=\"mounted\" opts=\"nodev,nosuid,noexec\" fstype=\"tmpfs\"\n     tags:\n       - section2\n       - section2.14"
            }
        ]
    },
    {
        "repo": "ahuffman/ansible-aide",
        "author_id": "MDQ6VXNlcjQzNDAyNjk=",
        "author_name": "Andrew J Huffman",
        "committer_id": "MDQ6VXNlcjQzNDAyNjk=",
        "committer_name": "Andrew J Huffman",
        "committer_email": "ahuffman@redhat.com",
        "message": "Fixes #6\n\nUpdating meta\n\nUpdating/Improving syntax.  Fixing issues with boolean conditionals.\n\nImproving syntax.\n\nDropping unused skeleton files\n\nFixing update every run by providing boolean option to specify whether or not to update the aide database.\n\nStarted updating documentation format",
        "sha": "82a4d8b209ec86fe9f6b5bc2570e68e2b1480ffe",
        "url": "https://api.github.com/repos/ahuffman/ansible-aide/commits/82a4d8b209ec86fe9f6b5bc2570e68e2b1480ffe",
        "parents": [
            "1c68f2e6cbcdf520a8779befe490ca03b66c5b0d"
        ],
        "files": [
            {
                "sha": "943607692bce5f5c28f8bf9be1fc7f331edea9c7",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 46,
                "deletions": 42,
                "changes": 88,
                "blob_url": "https://github.com/ahuffman/ansible-aide/blob/82a4d8b209ec86fe9f6b5bc2570e68e2b1480ffe/tasks/main.yml",
                "raw_url": "https://github.com/ahuffman/ansible-aide/raw/82a4d8b209ec86fe9f6b5bc2570e68e2b1480ffe/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,94 +1,98 @@\n ---\n-- name: Ensure aide is installed\n+- name: \"Ensure aide is installed\"\n   package:\n     name: \"{{ aide_pkg }}\"\n-    state: latest\n+    state: \"installed\"\n+  retries: \"3\"\n \n-- name: Ensure aide directories exists\n+- name: \"Ensure aide directories exists\"\n   file:\n     path: \"{{ item }}\"\n-    state: directory\n-    owner: root\n-    group: root\n-    mode: 0700\n+    state: \"directory\"\n+    owner: \"root\"\n+    group: \"root\"\n+    mode: \"0700\"\n   with_items:\n     - \"{{ aide_logdir }}\"\n     - \"{{ aide_dbdir }}\"\n \n-- name: Capture aide binary path\n-  command: \"which aide\"\n-  register: aide_path\n-  changed_when: false\n+#use shell here so it gets full environment\n+- name: \"Capture aide binary path\"\n+  shell: \"which aide\"\n+  register: \"aide_path\"\n+  changed_when: False\n \n-- name: Check for existing aide database\n+- name: \"Check for existing aide database\"\n   stat:\n     path: \"{{ aide_dbdir }}/{{ aide_database_filename }}\"\n-  register: aide_db_check\n-  changed_when: \"aide_db_check.stat.exists != True\"\n+  register: \"aide_db_check\"\n+  changed_when: \"not aide_db_check.stat.exists\"\n   notify:\n-    - Initialize aide database\n-    - Move new aide database into place\n+    - \"Initialize aide database\"\n+    - \"Move new aide database into place\"\n \n-- name: Configure aide\n+- name: \"Configure aide\"\n   template:\n-    src: aide.conf.j2\n+    src: \"aide.conf.j2\"\n     dest: \"{{ aide_conf_path }}\"\n     validate: \"{{ aide_path.stdout }} -D -c %s\"\n \n #Setup crontab\n-- name: Ensure aide check is setup in crontab - No Email Report\n+- name: \"Ensure aide check is setup in crontab - No Email Report\"\n   cron:\n     name: \"{{ aide_cronjob_name }}\"\n-    backup: yes\n-    user: root\n-    state: present\n+    backup: \"yes\"\n+    user: \"root\"\n+    state: \"present\"\n     minute: \"{{ aide_cron_sched_min }}\"\n     hour: \"{{ aide_cron_sched_hr }}\"\n     day: \"{{ aide_cron_sched_day }}\"\n     month: \"{{ aide_cron_sched_mon }}\"\n     weekday: \"{{ aide_cron_sched_wkd }}\"\n     job: \"{{ aide_path.stdout }} --check\"\n   when:\n-    - aide_cron_email_notify == ''\n-    - aide_cron_schedule_check == True\n+    - \"aide_cron_email_notify == ''\"\n+    - \"aide_cron_schedule_check\"\n \n-- name: Ensure aide check is setup in crontab - With Email Report\n+- name: \"Ensure aide check is setup in crontab - With Email Report\"\n   cron:\n     name: \"{{ aide_cronjob_name }}\"\n-    backup: yes\n-    user: root\n-    state: present\n+    backup: \"yes\"\n+    user: \"root\"\n+    state: \"present\"\n     minute: \"{{ aide_cron_sched_min }}\"\n     hour: \"{{ aide_cron_sched_hr }}\"\n     day: \"{{ aide_cron_sched_day }}\"\n     month: \"{{ aide_cron_sched_mon }}\"\n     weekday: \"{{ aide_cron_sched_wkd }}\"\n     job: \"{{ aide_path.stdout }} --check | /usr/bin/mail -s 'AIDE Report - $HOSTNAME' {{ aide_cron_email_notify }}\"\n   when:\n-    - aide_cron_email_notify != ''\n-    - aide_cron_schedule_check == True\n+    - \"aide_cron_email_notify != ''\"\n+    - \"aide_cron_schedule_check\"\n \n #Remove old cron jobs when aide_cron_schedule_check has been changed to False\n-- name: Ensure aide check is removed in crontab - No Email Report\n+- name: \"Ensure aide check is removed in crontab - No Email Report\"\n   cron:\n     name: \"{{ aide_cronjob_name }}\"\n-    state: absent\n+    state: \"absent\"\n   when:\n-    - aide_cron_email_notify == ''\n-    - aide_cron_schedule_check == False\n+    - \"aide_cron_email_notify == ''\"\n+    - \"not aide_cron_schedule_check\"\n \n-- name: Ensure aide check is removed in crontab - With Email Report\n+- name: \"Ensure aide check is removed in crontab - With Email Report\"\n   cron:\n     name: \"{{ aide_cronjob_name }}\"\n-    state: absent\n+    state: \"absent\"\n   when:\n-    - aide_cron_email_notify != ''\n-    - aide_cron_schedule_check == False\n+    - \"aide_cron_email_notify != ''\"\n+    - \"not aide_cron_schedule_check\"\n \n-- name: Update aide database\n+- name: \"Update aide database\"\n   command: \"{{ aide_path.stdout }} -u\"\n-  register: aide_update\n+  register: \"aide_update\"\n   failed_when: \"aide_update.rc > 7\"\n-  when: \"aide_db_check.stat.exists == True\"\n+  when:\n+    - \"aide_db_check.stat.exists\"\n+    - \"aide_update_db\"\n   notify:\n-    - Move new aide database into place\n+    - \"Move new aide database into place\""
            },
            {
                "sha": "a236609ff1e135e8bafe3613dc4486c4665b40af",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 5,
                "changes": 9,
                "blob_url": "https://github.com/ahuffman/ansible-aide/blob/82a4d8b209ec86fe9f6b5bc2570e68e2b1480ffe/handlers/main.yml",
                "raw_url": "https://github.com/ahuffman/ansible-aide/raw/82a4d8b209ec86fe9f6b5bc2570e68e2b1480ffe/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -1,10 +1,9 @@\n ---\n-- name: Initialize aide database\n-  shell: aide -i\n-  when: \"aide_db_check.stat.exists != True\"\n+- name: \"Initialize aide database\"\n+  shell: 'aide -i'\n+  when: \"not aide_db_check.stat.exists\"\n \n-- name: Move new aide database into place\n+- name: \"Move new aide database into place\"\n   shell: mv \"{{ aide_database_out_filename }}\" \"{{ aide_database_filename }}\"\n   args:\n     chdir: \"{{ aide_dbdir }}\"\n-  when: (\"aide_db_check.stat.exists != True\") or (\"aide_update.changed == True\")"
            },
            {
                "sha": "380954f92d9493cb5218c1accf56763bbc532f01",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 6,
                "changes": 16,
                "blob_url": "https://github.com/ahuffman/ansible-aide/blob/82a4d8b209ec86fe9f6b5bc2570e68e2b1480ffe/meta/main.yml",
                "raw_url": "https://github.com/ahuffman/ansible-aide/raw/82a4d8b209ec86fe9f6b5bc2570e68e2b1480ffe/meta/main.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,8 @@\n galaxy_info:\n+  role_name: \"aide\"\n   author: \"Andrew J. Huffman\"\n   description: \"An Ansible role to install, configure, and schedule AIDE.\"\n+  company: \"Red Hat\"\n #  company: your company (optional)\n \n   # If the issue tracker for your role is not on github, uncomment the\n@@ -16,7 +18,7 @@ galaxy_info:\n   # - CC-BY\n   license: \"MIT\"\n \n-  min_ansible_version: \"1.2\"\n+  min_ansible_version: \"2.5\"\n \n   # Optionally specify the branch Galaxy will use when accessing the GitHub\n   # repo for this role. During role install, if no tags are available,\n@@ -52,15 +54,17 @@ galaxy_info:\n   #  - 11.3\n   - name: \"Fedora\"\n     versions:\n+      - \"all\"\n   #  - all\n   #  - 16\n   #  - 17\n   #  - 18\n   #  - 19\n-     - \"20\"\n-     - \"21\"\n-     - \"22\"\n-     - \"23\"\n+  # - \"20\"\n+  # - \"21\"\n+  # - \"22\"\n+  # - \"23\"\n+\n   #- name: opensuse\n   #  versions:\n   #  - all\n@@ -160,7 +164,7 @@ galaxy_info:\n \n   galaxy_tags:\n     - \"system\"\n-    - \"advanced intrusion detection environment\"\n+    - \"advancedintrusiondetectionenvironment\"\n     - \"aide\"\n     - \"aideconf\"\n     - \"security\""
            }
        ]
    },
    {
        "repo": "aalaesar/install_nextcloud",
        "author_id": "MDQ6VXNlcjE4NjQ5MjQ5",
        "author_name": "Aalaesar",
        "committer_id": "MDQ6VXNlcjE4NjQ5MjQ5",
        "committer_name": "Aalaesar",
        "committer_email": "aalaesar@gmail.com",
        "message": "glue from fix #22 and Add_apps #19 branches\n\nfix #19, fix #22",
        "sha": "ee9c946e5afc90f10c3259e229c524ce0ce8d1bf",
        "url": "https://api.github.com/repos/aalaesar/install_nextcloud/commits/ee9c946e5afc90f10c3259e229c524ce0ce8d1bf",
        "parents": [
            "f0a37fb5ad4df68f71314aacb16d0560ea14653d"
        ],
        "files": [
            {
                "sha": "defa9d33dbde0f5bda4aefa9ed901d41813f0e8b",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 5,
                "changes": 14,
                "blob_url": "https://github.com/aalaesar/install_nextcloud/blob/ee9c946e5afc90f10c3259e229c524ce0ce8d1bf/tasks/main.yml",
                "raw_url": "https://github.com/aalaesar/install_nextcloud/raw/ee9c946e5afc90f10c3259e229c524ce0ce8d1bf/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,8 +1,7 @@\n ---\n # tasks file for nextcloud\n - include: tasks/setup_env.yml\n-  tags:\n-    - install_apps\n+  tags: always\n   # load os specific variables\n \n - name: Verify permission for installed TLS certificates\n@@ -55,6 +54,7 @@\n - name: Fix su issue with occ\n   include: tasks/fix_su.yml\n   when: ansible_become_method is defined and ansible_become_method == \"su\"\n+  tags: always\n \n - name: Nextcloud installation\n   include: tasks/nc_installation.yml\n@@ -72,17 +72,21 @@\n   - name: \"[NC apps] - convert list to yaml.\"\n     set_fact: nc_available_apps=\"{{ nc_apps_list.stdout | from_json }}\"\n \n-  - debug :\n-      var: nextcloud_apps\n-\n   - name: \"[NC apps] - installation.\"\n     include: tasks/nc_apps.yml\n     # do if the app is not enabled and ( (archive path is not \"\") or (app is disabled) )\n     when: (item.key not in nc_available_apps.enabled) and ((item.value != \"\") or (item.key in nc_available_apps.disabled))\n     with_dict: \"{{nextcloud_apps}}\"\n   when: (nextcloud_apps is defined) and nextcloud_apps is mapping\n   tags: install_apps\n+  rescue:\n+  - name: Unfix su issue with occ\n+    include: tasks/unfix_su.yml\n+    when: ansible_become_method is defined and ansible_become_method == \"su\"\n+  - fail:\n+      msg: \"An error Occured during Apps installation.\"\n \n - name: Unfix su issue with occ\n   include: tasks/unfix_su.yml\n   when: ansible_become_method is defined and ansible_become_method == \"su\"\n+  tags: always"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-golang",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fixes #42: Include GOOS, GOARCH, GOROOT and GOPATH instead of the current variables of the same purpose\n\nSigned-off-by: Karl Hepworth <karl.hepworth@gmail.com>",
        "sha": "218cdc58f9fe9d7ece7d43e5f100fe9631fde5cc",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-golang/commits/218cdc58f9fe9d7ece7d43e5f100fe9631fde5cc",
        "parents": [
            "6cfdd8d537fe5fdb93f69f97a1dbb631b2411582"
        ],
        "files": [
            {
                "sha": "aa53ca1456a4f52868c7f3bbd9c66e82c32774d4",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/218cdc58f9fe9d7ece7d43e5f100fe9631fde5cc/tasks/main.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/218cdc58f9fe9d7ece7d43e5f100fe9631fde5cc/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -11,7 +11,7 @@\n - name: \"Include tasks for installation\"\n   include: install.yml\n   when:\n-    - current_go_version is undefined or \"go version go{{ go_version }} {{ go_os }}/{{ go_arch }}\" not in current_go_version.stdout\n+    - current_go_version is undefined or \"go version go{{ go_version }} {{ GOOS }}/{{ GOARCH }}\" not in current_go_version.stdout\n     - install_go_from_source == false\n \n # - name: \"Include tasks for installation from source\""
            },
            {
                "sha": "b439d6d73c57be076b76d2cd0c82ea4916366bb4",
                "filename": "tasks/install.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/218cdc58f9fe9d7ece7d43e5f100fe9631fde5cc/tasks/install.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/218cdc58f9fe9d7ece7d43e5f100fe9631fde5cc/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -15,7 +15,7 @@\n   become_user: root\n   get_url:\n     url: \"{{ go_url }}\"\n-    dest: \"{{ go_temporary_dir }}/go{{ go_version }}.{{ go_os }}-{{ go_arch }}.tar.gz\"\n+    dest: \"{{ go_temporary_dir }}/go{{ go_version }}.{{ GOOS }}-{{ GOARCH }}.tar.gz\"\n     validate_certs: no\n \n - name: \"Go-Lang | Empty destination directory\"\n@@ -39,7 +39,7 @@\n   become: yes\n   become_user: \"{{ fubarhouse_user }}\"\n   unarchive:\n-    src: \"{{ go_temporary_dir }}/go{{ go_version }}.{{ go_os }}-{{ go_arch }}.tar.gz\"\n+    src: \"{{ go_temporary_dir }}/go{{ go_version }}.{{ GOOS }}-{{ GOARCH }}.tar.gz\"\n     dest: \"{{ go_temporary_dir }}\"\n     copy: \"no\"\n "
            },
            {
                "sha": "2fc1c4f7c3f1e203706ed4eddf707712a095f304",
                "filename": "tasks/setup.yml",
                "previous_filename": null,
                "additions": 14,
                "deletions": 10,
                "changes": 24,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/218cdc58f9fe9d7ece7d43e5f100fe9631fde5cc/tasks/setup.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/218cdc58f9fe9d7ece7d43e5f100fe9631fde5cc/tasks/setup.yml",
                "status": "modified",
                "patch": "@@ -4,43 +4,47 @@\n \n - name: \"Go-Lang | Define GOARCH for amd64 systems\"\n   set_fact:\n-    go_arch: \"amd64\"\n+    GOARCH: \"amd64\"\n   when:\n     - ansible_architecture == 'x86_64' or ansible_distribution == 'CentOS' or ansible_distribution == 'Debian' or ansible_distribution == 'Red Hat Enterprise Linux' or ansible_distribution == 'FreeBSD' or ansible_distribution == 'RedHat' or ansible_distribution == 'Ubuntu' or ansible_distribution == 'Ubuntu'\n-    - go_arch is not defined\n+    - GOARCH is not defined\n \n - name: \"Go-Lang | Define GOOS for Darwin systems\"\n   set_fact:\n-    go_os: \"darwin\"\n+    GOOS: \"darwin\"\n   when:\n     - ansible_os_family == 'Darwin'\n     - ansible_distribution == 'MacOSX'\n-    - go_os is not defined\n+    - GOOS is not defined\n \n - name: \"Go-Lang | Define GOOS for linux systems\"\n   set_fact:\n-    go_os: \"linux\"\n+    GOOS: \"linux\"\n   when:\n     - ansible_architecture == 'x86_64' or ansible_distribution == 'CentOS' or ansible_distribution == 'Debian' or ansible_distribution == 'Red Hat Enterprise Linux' or ansible_distribution == 'FreeBSD' or ansible_distribution == 'RedHat' or ansible_distribution == 'Ubuntu' or ansible_distribution == 'Ubuntu'\n-    - go_os is not defined\n+    - GOOS is not defined\n \n - name: \"Go-Lang | Define URL for distribution\"\n   set_fact:\n-    go_url: \"{{ go_custom_mirror }}/go{{ go_version }}.{{ go_os }}-{{ go_arch }}.tar.gz\"\n+    go_url: \"{{ go_custom_mirror }}/go{{ go_version }}.{{ GOOS }}-{{ GOARCH }}.tar.gz\"\n \n - name: \"Go-Lang | Looking for existing installation\"\n   stat:\n-    path: \"{{ go_location }}/bin/go\"\n+    path: \"{{ GOROOT }}/bin/go\"\n   register: go_binary\n   failed_when: false\n \n - name: \"Go-Lang | Define GOROOT\"\n   set_fact:\n-    GOROOT: \"{{ go_location }}\"\n+    GOROOT: \"{{ GOROOT }}\"\n+  when: GOROOT is defined\n \n - name: \"Go-Lang | Define GOPATH\"\n   set_fact:\n-    GOPATH: \"{{ go_location }}/bin\"\n+    GOPATH: \"{{ GOROOT }}/bin\"\n+  when:\n+    - GOPATH is not defined\n+    - GOROOT is defined\n \n - name: \"Go-Lang | Getting version information\"\n   become: yes"
            }
        ]
    },
    {
        "repo": "rocknsm/rock",
        "author_id": "MDQ6VXNlcjE3MTU3NA==",
        "author_name": "Derek Ditch",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Adds a wait_for condition on Kibana (#282)\n\nEnsures Kibana is listening before moving on.\r\n\r\nFixes: #281",
        "sha": "58beba3f58309472ca25e0dd303c71d3c0875a4d",
        "url": "https://api.github.com/repos/rocknsm/rock/commits/58beba3f58309472ca25e0dd303c71d3c0875a4d",
        "parents": [
            "56b8e72732a363ef01fc4ffa2332459ad39b10b7"
        ],
        "files": [
            {
                "sha": "13af2c5f183abb0b7af13bebc61b893e8819ba3d",
                "filename": "playbooks/group_vars/all.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/rocknsm/rock/blob/58beba3f58309472ca25e0dd303c71d3c0875a4d/playbooks/group_vars/all.yml",
                "raw_url": "https://github.com/rocknsm/rock/raw/58beba3f58309472ca25e0dd303c71d3c0875a4d/playbooks/group_vars/all.yml",
                "status": "modified",
                "patch": "@@ -155,4 +155,6 @@ es_memlock_override: |\n   LimitMEMLOCK=infinity\n logstash_user: logstash\n logstash_group: logstash\n-kibana_url: \"http://127.0.0.1:5601\"\n+kibana_host: \"127.0.0.1\"\n+kibana_port: \"5601\"\n+kibana_url: \"http://{{ kibana_host }}:{{ kibana_port }}\""
            },
            {
                "sha": "2dc7b7b4b00a8c940af1ef7530dcdb031c643026",
                "filename": "playbooks/deploy-rock.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/rocknsm/rock/blob/58beba3f58309472ca25e0dd303c71d3c0875a4d/playbooks/deploy-rock.yml",
                "raw_url": "https://github.com/rocknsm/rock/raw/58beba3f58309472ca25e0dd303c71d3c0875a4d/playbooks/deploy-rock.yml",
                "status": "modified",
                "patch": "@@ -421,6 +421,11 @@\n       - logstash-999-output-es-parsefailures.conf\n \n     ############### Kibana Config ####################\n+  - name: Wait for Kibana to be available\n+    wait_for:\n+      port: \"{{ kibana_port }}\"\n+    when: with_kibana\n+    \n   - name: Blanket install/update Kibana saved objects\n     command: ./import-saved-items.sh \"{{ kibana_url }}\"\n     args:"
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjEwNTMxMDE2",
        "author_name": "Marcos Entenza",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "Fix deprecated options for Satellite Install (#405)",
        "sha": "1a9a976d8019447d2c6f1b442aeaad8270b5fdc7",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/1a9a976d8019447d2c6f1b442aeaad8270b5fdc7",
        "parents": [
            "7a64766d41b5c21791c04511092722803df6e4dd"
        ],
        "files": [
            {
                "sha": "94ca74b5589abd5c7741b9e914561a808fa1f804",
                "filename": "roles/config-satellite/tasks/install.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/1a9a976d8019447d2c6f1b442aeaad8270b5fdc7/roles/config-satellite/tasks/install.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/1a9a976d8019447d2c6f1b442aeaad8270b5fdc7/roles/config-satellite/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -2,11 +2,11 @@\n \n - name: \"Install Satellite with default parameters\"\n   command: > \n-    satellite-installer \n+    satellite-installer\n       --scenario satellite\n       --foreman-initial-organization \"{{ satellite_organization }}\"\n       --foreman-initial-location \"{{ satellite_location }}\"\n-      --foreman-admin-username \"{{ satellite_username }}\"\n-      --foreman-admin-password \"{{ satellite_password }}\"\n+      --foreman-initial-admin-username \"{{ satellite_username }}\"\n+      --foreman-initial-admin-password \"{{ satellite_password }}\"\n       --foreman-proxy-dns-managed=false\n       --foreman-proxy-dhcp-managed=false"
            }
        ]
    },
    {
        "repo": "rocknsm/rock",
        "author_id": "MDQ6VXNlcjExOTkzNzUw",
        "author_name": "Johnathon Hall",
        "committer_id": "MDQ6VXNlcjE3MTU3NA==",
        "committer_name": "Derek Ditch",
        "committer_email": "dcode@users.noreply.github.com",
        "message": "Fix for suricata permission issue (#251) and other suricata cleanup\n\n- Updated deprecated force-md5 option to force-hash with a default of none.\r\n- Fix file permission issue via systemd with /run/suricata being owned by suricata:root\r\n- Set default file hash to sha1 and md5\r\n- Move linux capabilities to service file instead of on binary\r\n\r\nFixes #251",
        "sha": "85c5356d94945853701150897196f877149a532b",
        "url": "https://api.github.com/repos/rocknsm/rock/commits/85c5356d94945853701150897196f877149a532b",
        "parents": [
            "349cf6a05b36d994cb2cf5cd7dd70199f3c8c114"
        ],
        "files": [
            {
                "sha": "3fb9ab1e6a2958217336a39f506ab92177966c42",
                "filename": "playbooks/deploy-rock.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 12,
                "changes": 13,
                "blob_url": "https://github.com/rocknsm/rock/blob/85c5356d94945853701150897196f877149a532b/playbooks/deploy-rock.yml",
                "raw_url": "https://github.com/rocknsm/rock/raw/85c5356d94945853701150897196f877149a532b/playbooks/deploy-rock.yml",
                "status": "modified",
                "patch": "@@ -832,18 +832,7 @@\n       group: \"{{ suricata_group }}\"\n       state: directory\n     when: with_suricata\n-\n-  - name: Set suricata capabilities\n-    capabilities:\n-      path: /usr/sbin/suricata\n-      capability: \"{{ item }}\"\n-      state: present\n-    with_items:\n-      - \"cap_net_raw+eip\"\n-      - \"cap_net_admin+eip\"\n-      - \"cap_ipc_lock+eip\"\n-    when: with_suricata\n-\n+    \n   - name: Remove suricata sysconfig file\n     file:\n       path: /etc/sysconfig/suricata"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjczMzg1MTM=",
        "author_name": "Phil Nelson",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix failed_when in template_root check with wp-cli 1.5.0 (#948)\n\nPrevious wp-cli versions returned rc=1 and stderr='' for\r\n`wp option get template_root` when the option didn't exist.\r\nVersion 1.5.0 uses a new stderr message.",
        "sha": "658c9ee2f74b71ae40b048afd9ba25be748b7ec7",
        "url": "https://api.github.com/repos/roots/trellis/commits/658c9ee2f74b71ae40b048afd9ba25be748b7ec7",
        "parents": [
            "c8515b3586bbe8ce81bbf3911d54aa0d5d845d0e"
        ],
        "files": [
            {
                "sha": "dd23480bb1e2eaa49c166f4d7aa9bba4ebe8c594",
                "filename": "roles/deploy/hooks/finalize-before.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/658c9ee2f74b71ae40b048afd9ba25be748b7ec7/roles/deploy/hooks/finalize-before.yml",
                "raw_url": "https://github.com/roots/trellis/raw/658c9ee2f74b71ae40b048afd9ba25be748b7ec7/roles/deploy/hooks/finalize-before.yml",
                "status": "modified",
                "patch": "@@ -23,7 +23,7 @@\n     chdir: \"{{ deploy_helper.current_path }}\"\n   register: wp_template_root\n   changed_when: false\n-  failed_when: wp_template_root.stderr  | default('') != ''\n+  failed_when: not wp_template_root.stderr | default('') | match(\"(|.*Could not get '\" + item + \"' option\\. Does it exist\\?)\")\n   when:\n     - wp_installed.rc == 0\n     - project.update_wp_theme_paths | default(update_wp_theme_paths | default(true)) | bool"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": null,
        "author_name": "Jack Ivanov",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #125 from cernekee/tag-fix. Fix #128\n\nAdd missing playbook tags",
        "sha": "c5860cbc5d5a71f8fe33b364d9e1298f1a5e96c3",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/c5860cbc5d5a71f8fe33b364d9e1298f1a5e96c3",
        "parents": [
            "a95fdc1f0b9de9525ddcde05c4201ea63c9ecb4d",
            "433389c0aba2dde05470e589e84c90bd8d59ae87"
        ],
        "files": [
            {
                "sha": "a5730ac1363187720cef0a218aad8b2cd051a8ea",
                "filename": "roles/common/tasks/main.yml",
                "previous_filename": null,
                "additions": 19,
                "deletions": 1,
                "changes": 20,
                "blob_url": "https://github.com/trailofbits/algo/blob/c5860cbc5d5a71f8fe33b364d9e1298f1a5e96c3/roles/common/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/c5860cbc5d5a71f8fe33b364d9e1298f1a5e96c3/roles/common/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -2,13 +2,17 @@\n \n - name: Gather Facts\n   setup:\n+  tags:\n+    - always\n \n - name: Install software updates\n   apt: update_cache=yes upgrade=dist\n+  tags:\n+    - cloud\n \n - name: Check if reboot is required\n   shell: >\n-    if [[ $(readlink -f /vmlinuz) != /boot/vmlinuz-$(uname -r) ]]; then echo \"required\"; else echo \"no\"; fi\n+    if [[ -e /var/run/reboot-required ]]; then echo \"required\"; else echo \"no\"; fi\n   args:\n     executable: /bin/bash\n   register: reboot_required\n@@ -43,6 +47,8 @@\n   with_items:\n     - { regexp: '^session.*optional.*pam_motd.so.*', line: '# MOTD DISABLED', file: '/etc/pam.d/login' }\n     - { regexp: '^session.*optional.*pam_motd.so.*', line: '# MOTD DISABLED', file: '/etc/pam.d/sshd' }\n+  tags:\n+    - cloud\n \n - name: Install tools\n   apt: name=\"{{ item }}\" state=latest\n@@ -55,24 +61,36 @@\n     - sendmail\n     - iptables-persistent\n     - cgroup-tools\n+  tags:\n+    - always\n \n - name: Loopback for services configured\n   template: src=10-loopback-services.cfg.j2 dest=/etc/network/interfaces.d/10-loopback-services.cfg\n   notify:\n     - restart loopback\n+  tags:\n+    - always\n \n - name: Loopback included into the network config\n   lineinfile: dest=/etc/network/interfaces line='source /etc/network/interfaces.d/10-loopback-services.cfg' state=present\n   notify:\n     - restart loopback\n+  tags:\n+    - always\n \n - meta: flush_handlers\n+  tags:\n+    - always\n \n - name: Enable packet forwarding for IPv4\n   sysctl: name=\"{{ item }}\" value=1\n   with_items:\n     - net.ipv4.ip_forward\n     - net.ipv4.conf.all.forwarding\n+  tags:\n+    - always\n \n - name: Enable packet forwarding for IPv6\n   sysctl: name=net.ipv6.conf.all.forwarding value=1\n+  tags:\n+    - always"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": null,
        "author_name": "Jack Ivanov",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "fix revocation (#586)",
        "sha": "f0283856ad52780157e5111ee8dc786cdae8e2d8",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/f0283856ad52780157e5111ee8dc786cdae8e2d8",
        "parents": [
            "a8ebb16437903180c7235cb16c5211b4be6d90dd"
        ],
        "files": [
            {
                "sha": "a1709bc0f955c9de9a8e5aa2203e142b019e269a",
                "filename": "roles/vpn/tasks/openssl.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 7,
                "changes": 9,
                "blob_url": "https://github.com/trailofbits/algo/blob/f0283856ad52780157e5111ee8dc786cdae8e2d8/roles/vpn/tasks/openssl.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/f0283856ad52780157e5111ee8dc786cdae8e2d8/roles/vpn/tasks/openssl.yml",
                "status": "modified",
                "patch": "@@ -145,19 +145,14 @@\n \n   - name: Revoke non-existing users\n     shell: >\n-      openssl ca\n-      -config openssl.cnf\n-      -passin pass:\"{{ easyrsa_CA_password }}\"\n-      -revoke certs/{{ item }}.crt &&\n       openssl ca -gencrl\n       -config openssl.cnf\n       -passin pass:\"{{ easyrsa_CA_password }}\"\n       -revoke certs/{{ item }}.crt\n-      -out crl/{{ item }}.crt &&\n-      touch crl/{{ item }}_revoked\n+      -out crl/{{ item }}.crt\n     args:\n       chdir: configs/{{ IP_subject_alt_name }}/pki/\n-      creates: crl/{{ item }}_revoked\n+      creates: crl/{{ item }}.crt\n     environment:\n       subjectAltName: \"DNS:{{ item }}\"\n     when: item not in users"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix #69\n\n- Check the sshd_config file presence in the global include of section 9\n- Refactor 9.3 to be in a dedicated file",
        "sha": "b769c26d983effecebb2f17ac1b94ddc1f93ee48",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/b769c26d983effecebb2f17ac1b94ddc1f93ee48",
        "parents": [
            "82993d4cbc4985706cf9b863952976637c72e367"
        ],
        "files": [
            {
                "sha": "9130a32a57b6c9fb6e66a9776f0f7564b70cd368",
                "filename": "tasks/section_09_level1.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 179,
                "changes": 180,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/b769c26d983effecebb2f17ac1b94ddc1f93ee48/tasks/section_09_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/b769c26d983effecebb2f17ac1b94ddc1f93ee48/tasks/section_09_level1.yml",
                "status": "modified",
                "patch": "@@ -175,186 +175,8 @@\n       - section9.3\n       - section9.3.1\n \n-\n-  - name: 9.3.1 Set SSH Protocol to 2 (Scored)\n-    lineinfile: >\n-        dest='/etc/ssh/sshd_config'\n-        regexp='^Protocol'\n-        state=present\n-        line='Protocol 2'\n-    when: ssh_config_file.stat.exists == True\n-    notify: restart ssh\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.1\n-\n-  - name: 9.3.2 Set LogLevel to INFO (Scored)\n-    lineinfile: >\n-        dest='/etc/ssh/sshd_config'\n-        regexp='^LogLevel'\n-        state=present\n-        line='LogLevel INFO'\n-    when: ssh_config_file.stat.exists == True\n-    notify: restart ssh\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.2\n-\n-  - name: 9.3.3 Set Permissions on /etc/ssh/sshd_config (Scored)\n-    file: path='/etc/ssh/sshd_config' owner=root group=root mode=600\n+  - include: section_09_level1_03.yml\n     when: ssh_config_file.stat.exists == True\n-    notify: restart ssh\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.3\n-\n-#Regroups sections 9.3.4 9.3.7 9.3.8 9.3.9 9.3.10\n-  - name: 9.3.{4,7,8,9,10} Disable some SSH options (Scored)\n-    lineinfile: >\n-        dest='/etc/ssh/sshd_config'\n-        regexp='^{{ item }}'\n-        line='{{ item }} no'\n-        state=present\n-    with_items:\n-      - X11Forwarding\n-      - HostbasedAuthentication\n-      - PermitRootLogin\n-      - PermitEmptyPasswords\n-      - PermitUserEnvironment\n-    notify: restart ssh\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.4\n-      - section9.3.7\n-      - section9.3.8\n-      - section9.3.9\n-      - section9.3.10\n-\n-  - name: 9.3.5 Set SSH MaxAuthTries to 4 or Less (Scored)\n-    lineinfile: >\n-        dest='/etc/ssh/sshd_config'\n-        regexp='^MaxAuthTries'\n-        line='MaxAuthTries 4'\n-        state=present\n-    notify: restart ssh\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.5\n-\n-  - name: 9.3.6 Set SSH IgnoreRhosts to Yes (Scored)\n-    lineinfile: >\n-        dest='/etc/ssh/sshd_config'\n-        regexp='^IgnoreRhosts'\n-        line='IgnoreRhosts yes'\n-        state=present\n-    notify: restart ssh\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.6\n-\n-  - name: 9.3.11 Use Only Approved Cipher in Counter Mode (Scored)\n-    lineinfile: >\n-        dest='/etc/ssh/sshd_config'\n-        regexp='^Ciphers'\n-        line='Ciphers aes128-ctr,aes192-ctr,aes256-ctr'\n-        state=present\n-    notify: restart ssh\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.11\n-\n-  - name: 9.3.12.1 Set Idle Timeout Interval for User Login (Scored)\n-    lineinfile: >\n-        dest='/etc/ssh/sshd_config'\n-        regexp='^ClientAliveInterval'\n-        line='ClientAliveInterval 300'\n-        state=present\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.12\n-      - section9.3.12.1\n-\n-  - name: 9.3.12.2 Set Idle Timeout Interval for User Login (Scored)\n-    lineinfile: >\n-        dest='/etc/ssh/sshd_config'\n-        regexp='^ClientAliveCountMax'\n-        line='ClientAliveCountMax 0'\n-        state=present\n-    notify: restart ssh\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.12\n-      - section9.3.12.2\n-\n-  - name: 9.3.13.1 Limit Access via SSH (Scored)\n-    shell: grep AllowUsers /etc/ssh/sshd_config\n-    register: allow_rc\n-    failed_when: allow_rc.rc == 1\n-    changed_when: False\n-    ignore_errors: True\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.13\n-      - section9.3.13.1\n-\n-  - name: 9.3.13.2 Limit Access via SSH (Scored)\n-    shell: grep AllowGroups /etc/ssh/sshd_config\n-    register: allow_rc\n-    failed_when: allow_rc.rc == 1\n-    changed_when: False\n-    ignore_errors: True\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.13\n-      - section9.3.13.2\n-\n-  - name: 9.3.13.3 Limit Access via SSH (Scored)\n-    shell: grep DenyUsers /etc/ssh/sshd_config\n-    register: allow_rc\n-    failed_when: allow_rc.rc == 1\n-    changed_when: False\n-    ignore_errors: True\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.13\n-      - section9.3.13.3\n-\n-  - name: 9.3.13.4 Limit Access via SSH (Scored)\n-    shell: grep DenyGroups /etc/ssh/sshd_config\n-    register: allow_rc\n-    failed_when: allow_rc.rc == 1\n-    changed_when: False\n-    ignore_errors: True\n-    notify: restart ssh\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.13\n-      - section9.3.13.4\n-\n-  - name: 9.3.14 Set SSH Banner (Scored)\n-    lineinfile: >\n-        dest='/etc/ssh/sshd_config'\n-        regexp='^Banner'\n-        line='Banner /etc/issue.net'\n-        state=present\n-    notify: restart ssh\n-    tags:\n-      - section9\n-      - section9.3\n-      - section9.3.14\n \n   - name: 9.4 Restrict root Login to System Console (stat securetty) (Not Scored)\n     stat: path=/etc/securetty"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #57 #58 #59 #60 #61",
        "sha": "a94f9ce4fa32273fd0fad7492d36db4101423cc3",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/a94f9ce4fa32273fd0fad7492d36db4101423cc3",
        "parents": [
            "d944da6c34c3e510a807079256632482b53f00d2"
        ],
        "files": [
            {
                "sha": "c321bd17e98b7cb0ac9249a2ba1322954db1810b",
                "filename": "tasks/lvm-thinpool.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 0,
                "changes": 6,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/a94f9ce4fa32273fd0fad7492d36db4101423cc3/tasks/lvm-thinpool.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/a94f9ce4fa32273fd0fad7492d36db4101423cc3/tasks/lvm-thinpool.yml",
                "status": "modified",
                "patch": "@@ -1,3 +1,9 @@\n+- name: Ensure lvm2 is installed\n+  become: true\n+  package:\n+    name: lvm2\n+    state: present\n+\n - name: Create LVM volume group\n   become: true\n   lvg:"
            },
            {
                "sha": "6c5b44d3000cd44e922d580077385bb9812fc632",
                "filename": "tasks/configure-docker.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 1,
                "changes": 11,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/a94f9ce4fa32273fd0fad7492d36db4101423cc3/tasks/configure-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/a94f9ce4fa32273fd0fad7492d36db4101423cc3/tasks/configure-docker.yml",
                "status": "modified",
                "patch": "@@ -46,7 +46,16 @@\n     append: true\n   with_items: \"{{ docker_users }}\"\n \n-- name: Ensure thin-provisioning-tools is installed when devicemapper is used (Ubuntu)\n+- name: Ensure lvm2 is installed when devicemapper is used (Fedora/Debian)\n+  become: true\n+  package:\n+    name: lvm2\n+    state: present\n+  when: (_docker_os_dist == \"Fedora\" or _docker_os_dist == \"Debian\") and\n+        docker_daemon_config['storage-driver'] is defined and\n+        docker_daemon_config['storage-driver'] == 'devicemapper'\n+\n+- name: Ensure thin-provisioning-tools is installed when devicemapper is used (Ubuntu/Debian)\n   become: true\n   package:\n     name: thin-provisioning-tools"
            }
        ]
    },
    {
        "repo": "rocknsm/rock",
        "author_id": null,
        "author_name": "Johnathon Hall",
        "committer_id": "MDQ6VXNlcjE3MTU3NA==",
        "committer_name": "Derek Ditch",
        "committer_email": "dcode@users.noreply.github.com",
        "message": "Fix filebeat checks\n\nremove the filebeat variable and change all checks to fsf or suricata\nfixes #328\n\nreadd filebeat enabled variable\n\nFix filebeat checks",
        "sha": "2b59eb23ab37018f90c7779baa76fcc96e1b0eb3",
        "url": "https://api.github.com/repos/rocknsm/rock/commits/2b59eb23ab37018f90c7779baa76fcc96e1b0eb3",
        "parents": [
            "badcf5e64bf8b3b98bacc42303f2ca6d0ae60ef8"
        ],
        "files": [
            {
                "sha": "9e3c0c19afcddd5433957fff2a01cc60b4335e3d",
                "filename": "playbooks/deploy-rock.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/rocknsm/rock/blob/2b59eb23ab37018f90c7779baa76fcc96e1b0eb3/playbooks/deploy-rock.yml",
                "raw_url": "https://github.com/rocknsm/rock/raw/2b59eb23ab37018f90c7779baa76fcc96e1b0eb3/playbooks/deploy-rock.yml",
                "status": "modified",
                "patch": "@@ -476,13 +476,14 @@\n       src: filebeat.yml.j2\n       dest: /etc/filebeat/filebeat.yml\n     notify: Restart Filebeat\n+    when: with_fsf or with_suricata\n \n   - name: Enable and start Filebeat\n     service:\n       name: filebeat\n       state: \"{{ 'started' if enable_filebeat else 'stopped' }}\"\n       enabled: \"{{ enable_filebeat }}\"\n-    when: with_filebeat\n+    when: with_fsf or with_suricata\n \n     #######################################################\n     ###################### Setup Bro  #####################\n@@ -1157,6 +1158,7 @@\n       systemd:\n         name: filebeat\n         state: restarted\n+      when: with_fsf or with_suricata\n \n     - name: Enable and Restart lighttpd\n       systemd:"
            },
            {
                "sha": "6453ea35557f274755290562007c39d718b83186",
                "filename": "playbooks/group_vars/all.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 2,
                "changes": 2,
                "blob_url": "https://github.com/rocknsm/rock/blob/2b59eb23ab37018f90c7779baa76fcc96e1b0eb3/playbooks/group_vars/all.yml",
                "raw_url": "https://github.com/rocknsm/rock/raw/2b59eb23ab37018f90c7779baa76fcc96e1b0eb3/playbooks/group_vars/all.yml",
                "status": "modified",
                "patch": "@@ -34,7 +34,6 @@ with_suricata_update: true\n with_logstash: true\n with_elasticsearch: true\n with_kibana: true\n-with_filebeat: true\n with_zookeeper: true\n with_kafka: true\n with_lighttpd: true\n@@ -51,7 +50,6 @@ enable_suricata_update: true\n enable_logstash: true\n enable_elasticsearch: true\n enable_kibana: true\n-enable_filebeat: true\n enable_zookeeper: true\n enable_kafka: true\n enable_lighttpd: true"
            }
        ]
    },
    {
        "repo": "zzet/ansible-rbenv-role",
        "author_id": "MDQ6VXNlcjE5NDI2NTky",
        "author_name": "Olivier Locard",
        "committer_id": "MDQ6VXNlcjE5NDI2NTky",
        "committer_name": "Olivier Locard",
        "committer_email": "olivier.locard@deveryware.com",
        "message": "Fixes #102: conditional arg item[0] turn into item.",
        "sha": "aeacfa6fc88d74e57f7d146faba150d4cbd72a74",
        "url": "https://api.github.com/repos/zzet/ansible-rbenv-role/commits/aeacfa6fc88d74e57f7d146faba150d4cbd72a74",
        "parents": [
            "14f8179b0a17de7b657ea7520bc0d50ea528c0e5"
        ],
        "files": [
            {
                "sha": "6e211093df033eefa2ee90f90840eb2f67b2912f",
                "filename": "tasks/user_install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/zzet/ansible-rbenv-role/blob/aeacfa6fc88d74e57f7d146faba150d4cbd72a74/tasks/user_install.yml",
                "raw_url": "https://github.com/zzet/ansible-rbenv-role/raw/aeacfa6fc88d74e57f7d146faba150d4cbd72a74/tasks/user_install.yml",
                "status": "modified",
                "patch": "@@ -97,7 +97,7 @@\n     - \"{{ rbenv.rubies }}\"\n   when:\n     - item[0].rc == 0\n-    - item[0].item[0] == item[1]\n+    - item[0].item == item[1]\n     - item[2].version not in item[0].stdout_lines\n   ignore_errors: yes\n   environment: \"{{ item[2].env | default({}) | combine({ 'TMPDIR': rbenv_tmpdir }) }}\""
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjI5NDg0NA==",
        "author_name": "Dan Guido",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix a typo from #439",
        "sha": "f9f7be7b0d9c533af2362caa235ef37e3adec09b",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/f9f7be7b0d9c533af2362caa235ef37e3adec09b",
        "parents": [
            "1778cb1f45e31c803a0cf30edc76b55cb0c91e83"
        ],
        "files": [
            {
                "sha": "0a23f2489b080e528bda6e529e427fb744d521e2",
                "filename": "roles/vpn/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/trailofbits/algo/blob/f9f7be7b0d9c533af2362caa235ef37e3adec09b/roles/vpn/defaults/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/f9f7be7b0d9c533af2362caa235ef37e3adec09b/roles/vpn/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -26,4 +26,4 @@ ciphers:\n     esp: aes128gcm16-ecp256!\n   compat:\n     ike: aes128gcm16-prfsha512-ecp256,aes128-sha2_512-prfsha512-ecp256,aes128-sha2_512-prfsha512-modp2048!\n-    esp: aes128gcm16-ecp256,aes128-sha2_512-ecp256,aes128-sha2_512-prfsha512-modp2048!\n+    esp: aes128gcm16-ecp256,aes128-sha2_512-prfsha512-ecp256,aes128-sha2_512-prfsha512-modp2048!"
            }
        ]
    },
    {
        "repo": "UnderGreen/ansible-role-mongodb",
        "author_id": "MDQ6VXNlcjUwMTI3Nzg=",
        "author_name": "rapkin",
        "committer_id": "MDQ6VXNlcjUwMTI3Nzg=",
        "committer_name": "rapkin",
        "committer_email": "mikola.parfenyuck@gmail.com",
        "message": "fixed `mongodb_replication_params is undefined` error (closes #37)",
        "sha": "42487b9f4681a078ef82c07c3307a51653a19791",
        "url": "https://api.github.com/repos/UnderGreen/ansible-role-mongodb/commits/42487b9f4681a078ef82c07c3307a51653a19791",
        "parents": [
            "61b008311c40b377e57e166b778232a20224f7c6"
        ],
        "files": [
            {
                "sha": "b8eaed5d522499418ddd141a28af5e869d5a4b9b",
                "filename": "tasks/replication_init_auth.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/UnderGreen/ansible-role-mongodb/blob/42487b9f4681a078ef82c07c3307a51653a19791/tasks/replication_init_auth.yml",
                "raw_url": "https://github.com/UnderGreen/ansible-role-mongodb/raw/42487b9f4681a078ef82c07c3307a51653a19791/tasks/replication_init_auth.yml",
                "status": "modified",
                "patch": "@@ -11,6 +11,7 @@\n     host_type: \"{{ item.host_type|default('replica') }}\"\n     hidden: \"{{ item.hidden|default(false) }}\"\n     priority: \"{{ item.priority|default(1.0) }}\"\n+  when: mongodb_replication_params is defined\n   with_items:\n     - \"{{ mongodb_replication_params }}\"\n   register: mongodb_replica_init\n@@ -31,6 +32,7 @@\n     host_type: \"{{ item.host_type|default('replica') }}\"\n     hidden: \"{{ item.hidden|default(false) }}\"\n     priority: \"{{ item.priority|default(1.0) }}\"\n+  when: mongodb_replication_params is defined\n   with_items:\n     - \"{{ mongodb_replication_params }}\"\n   when: mongodb_replica_init|failed"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix #3 Adding lines in the audit.rules files\n\nDetected file are automatically added to the file.",
        "sha": "65a0d28b6ec721aa7a5396f559b1085d61ac3c90",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/65a0d28b6ec721aa7a5396f559b1085d61ac3c90",
        "parents": [
            "a774d7f239841cdb705317557a11935ca87238ad"
        ],
        "files": [
            {
                "sha": "8252deeeecfb6adaa52cf98b45f21e1d1928cd03",
                "filename": "tasks/section_08_level2.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 2,
                "changes": 7,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/65a0d28b6ec721aa7a5396f559b1085d61ac3c90/tasks/section_08_level2.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/65a0d28b6ec721aa7a5396f559b1085d61ac3c90/tasks/section_08_level2.yml",
                "status": "modified",
                "patch": "@@ -233,14 +233,17 @@\n       - section8.1.12\n \n   - name: 8.1.12 Collect Use of Privileged Commands (infos) (Scored)\n-    debug: msg=\"Add a line in auditd for the privileged program\"\n+    lineinfile: >\n+        dest=/etc/audit/audit.rules\n+        line={{ item }}\n+        state=present\n+        create=yes\n     with_items: audit_lines_for_find.stdout_lines\n     tags:\n       - section8\n       - section8.1\n       - section8.1.12\n \n-\n   - name: 8.1.18 Make the Audit Configuration Immutable (Scored)\n     lineinfile: >\n         dest='/etc/audit/audit.rules'"
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjI5NDk3MTQ3",
        "author_name": "Tyler Auerbeck",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "Fix IDM User Management Errors (#220)",
        "sha": "3e8a830bb525d818ed2aa2cdb10c8589e5e2ceba",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/3e8a830bb525d818ed2aa2cdb10c8589e5e2ceba",
        "parents": [
            "155dade983c6ce867dac38a9ae62e471ad13437f"
        ],
        "files": [
            {
                "sha": "1d25ceb676c6c0716597e7b295893975c5d3af59",
                "filename": "roles/user-management/manage-idm-users/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 7,
                "changes": 9,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/3e8a830bb525d818ed2aa2cdb10c8589e5e2ceba/roles/user-management/manage-idm-users/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/3e8a830bb525d818ed2aa2cdb10c8589e5e2ceba/roles/user-management/manage-idm-users/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,11 +1,6 @@\n ---\n \n-- import_tasks: create_user.yml\n+- import_tasks: configure_user.yml\n \n-- import_tasks: create_group.yml\n-\n-- include_tasks: add_user_to_group.yml\n-  with_items: \"{{ user_groups }}\"\n-  loop_control:\n-    loop_var: \"this_group\"\n+- import_tasks: configure_group.yml\n "
            },
            {
                "sha": "4c5d3a408407ea7a8c1787c296fb8f6777f7df8e",
                "filename": "playbooks/manage-users/add-users.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/3e8a830bb525d818ed2aa2cdb10c8589e5e2ceba/playbooks/manage-users/add-users.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/3e8a830bb525d818ed2aa2cdb10c8589e5e2ceba/playbooks/manage-users/add-users.yml",
                "status": "modified",
                "patch": "@@ -5,7 +5,7 @@\n   gather_facts: no\n   roles:\n     - user-management/populate-users\n-    - user-management/manage-users\n+    - user-management/manage-idm-users\n     - user-management/manage-user-passwd\n \n - name: \"Notify users\""
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-golang",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fixes #18. #19, #20, #21.\n\nSigned-off-by: Karl Hepworth <karl.hepworth@gmail.com>",
        "sha": "c98a7c22b09d432edf690ffc3dd8a1b8a67f783b",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-golang/commits/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b",
        "parents": [
            "69b00e2934f2c2f4e75879eb8ba1235d40649962"
        ],
        "files": [
            {
                "sha": "547deb0fb3263c07349079fe85a2b8f3577f4bce",
                "filename": "tasks/gopm-source.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 12,
                "changes": 12,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b/tasks/gopm-source.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b/tasks/gopm-source.yml",
                "status": "modified",
                "patch": "@@ -9,18 +9,6 @@\n     GOROOT: \"{{ go_location }}/gos/{{ go_version }}/\"\n   with_items: \"{{ go_get }}\"\n \n-- name: \"GoPM | Link binaries\"\n-  become: yes\n-  become_user: root\n-  file:\n-    src: \"{{ GVM_DEST }}/gos/{{ go_version }}/bin/bin/{{ item.name }}\"\n-    dest: \"{{ GVM_DEST }}/bin/{{ item.name }}\"\n-    state: link\n-    mode: 0755\n-    owner: \"{{ fubarhouse_user }}\"\n-    force: yes\n-  with_items: \"{{ go_get }}\"\n-\n - name: \"GoPM | Install packages\"\n   become: yes\n   become_user: \"{{ fubarhouse_user }}\""
            },
            {
                "sha": "a6fc05b5e845d71dc6078bc0242efe764fbeaeec",
                "filename": "tasks/gopm-static.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 12,
                "changes": 12,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b/tasks/gopm-static.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b/tasks/gopm-static.yml",
                "status": "modified",
                "patch": "@@ -9,18 +9,6 @@\n     GOROOT: \"{{ go_location }}\"\n   with_items: \"{{ go_get }}\"\n \n-- name: \"GoPM | Link binaries\"\n-  become: yes\n-  become_user: root\n-  file:\n-    src: \"{{ go_location }}/bin/bin/{{ item.name }}\"\n-    dest: \"{{ go_location }}/bin/{{ item.name }}\"\n-    state: link\n-    mode: 0755\n-    owner: \"{{ fubarhouse_user }}\"\n-    force: yes\n-  with_items: \"{{ go_get }}\"\n-\n - name: \"GoPM | Install packages for static installs\"\n   become: yes\n   become_user: \"{{ fubarhouse_user }}\""
            },
            {
                "sha": "c3cac80216e36dadc305d40a59195b9370bbb574",
                "filename": "tasks/cleanup.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b/tasks/cleanup.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b/tasks/cleanup.yml",
                "status": "modified",
                "patch": "@@ -23,7 +23,7 @@\n     - regex: \"export GOPATH={{ go_location }}/bin\"\n       lineinfile: \"export GOPATH={{ go_location }}/bin\"\n     - regex: export PATH=\\$PATH:\\$GOROOT/bin\n-      lineinfile: export PATH=$PATH:$GOROOT/bin\n+      lineinfile: export PATH=$PATH:$GOPATH/bin\n   when: shell_exports_static is undefined\n \n - name: \"Go-Lang | Ensure shell profiles are clean\""
            },
            {
                "sha": "36f145bb8fcb4f9e2e0d6b241396e6be1a850bff",
                "filename": "tasks/install-static.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b/tasks/install-static.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b/tasks/install-static.yml",
                "status": "modified",
                "patch": "@@ -83,7 +83,7 @@\n   when: shell_exports is defined\n \n - name: \"Go-Lang | Verify version\"\n-  shell: \"{{ go_location }}/bin/go version\"\n+  shell: \"export GOROOT={{ go_location }}; export GOPATH={{ go_location }}/bin; {{ go_location }}/bin/go version\"\n   register: go_version_output\n   failed_when: '\"{{ go_version }}\" not in \"{{ go_version_output.stdout }}\"'\n "
            },
            {
                "sha": "7446a68c5a1494774fa178a3548011ae1cb8516e",
                "filename": "tasks/gopm-version.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 12,
                "changes": 12,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b/tasks/gopm-version.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b/tasks/gopm-version.yml",
                "status": "modified",
                "patch": "@@ -9,18 +9,6 @@\n     GOROOT: \"{{ GVM_DEST }}/gos/go{{ go_version }}/\"\n   with_items: \"{{ go_get }}\"\n \n-- name: \"GoPM | Link binaries\"\n-  become: yes\n-  become_user: root\n-  file:\n-    src: \"{{ GVM_DEST }}/gos/go{{ go_version }}/bin/bin/{{ item.name }}\"\n-    dest: \"{{ GVM_DEST }}/bin/{{ item.name }}\"\n-    state: link\n-    mode: 0755\n-    owner: \"{{ fubarhouse_user }}\"\n-    force: yes\n-  with_items: \"{{ go_get }}\"\n-\n - name: \"GoPM | Install packages\"\n   become: yes\n   become_user: \"{{ fubarhouse_user }}\""
            },
            {
                "sha": "2cb812353fbbb3407259ff7fe1929d9cd21bb6cb",
                "filename": "tasks/install-gvm-static.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b/tasks/install-gvm-static.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/c98a7c22b09d432edf690ffc3dd8a1b8a67f783b/tasks/install-gvm-static.yml",
                "status": "modified",
                "patch": "@@ -3,7 +3,7 @@\n - name: \"GVM | Get current version\"\n   become: yes\n   become_user: \"{{ fubarhouse_user }}\"\n-  shell: \"go version\"\n+  shell: \"export GOROOT={{ go_location }}; export GOPATH={{ go_location }}/bin; {{ go_location }}/bin/go version\"\n   environment:\n     GVM_ROOT: \"{{ go_location }}\"\n   register: current_go_version"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #75: Ensure sudo is installed as well.",
        "sha": "90ff5f7588db17e2de5267ca0f575685f6ad7db7",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/90ff5f7588db17e2de5267ca0f575685f6ad7db7",
        "parents": [
            "70dcb79e2d967876c1a2ed513c60a69178f3eb6d"
        ],
        "files": [
            {
                "sha": "1efd5a4c2bd873db8ab2f2e61b7847462fbcaad5",
                "filename": "tasks/install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/90ff5f7588db17e2de5267ca0f575685f6ad7db7/tasks/install.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/90ff5f7588db17e2de5267ca0f575685f6ad7db7/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -4,6 +4,7 @@\n   with_items:\n     - lsof\n     - acl\n+    - sudo\n \n - name: Run Solr installation script.\n   shell: >"
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "graham.x.taylor@capgemini.com",
        "message": "Fix #98 weave launch needs to be cluster aware",
        "sha": "56ac5c94dfd461f984a11d85c639121a176abfc6",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/56ac5c94dfd461f984a11d85c639121a176abfc6",
        "parents": [
            "4aaf839a9916f65d12b8964b23dbc6848a73ca67"
        ],
        "files": [
            {
                "sha": "2af660284841bf389715f654682f4f78069c993d",
                "filename": "roles/weave/handlers/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/56ac5c94dfd461f984a11d85c639121a176abfc6/roles/weave/handlers/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/56ac5c94dfd461f984a11d85c639121a176abfc6/roles/weave/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -13,7 +13,7 @@\n   sudo: yes\n \n - name: Weave launch\n-  command: /usr/local/bin/weave launch\n+  command: /usr/local/bin/weave launch {{ weave_launch_peers }}\n   sudo: yes\n   tags:\n     - weave"
            },
            {
                "sha": "176e9b84b00024dc89d8ec93bb4b814d98fb3eb8",
                "filename": "roles/weave/defaults/main.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 0,
                "changes": 9,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/56ac5c94dfd461f984a11d85c639121a176abfc6/roles/weave/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/56ac5c94dfd461f984a11d85c639121a176abfc6/roles/weave/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -9,3 +9,12 @@ weave_docker_subnet: \"\n       {%- endif -%}\n     {%- endfor -%}\n \"\n+weave_launch_peers: \"\n+  {%- set weave_peers = [] -%}\n+  {%- for host in groups[weave_server_group] -%}\n+    {%- if host != inventory_hostname and host not in weave_peers -%}\n+      {% do weave_peers.append(hostvars[host]['ansible_eth0']['ipv4']['address']) %}\n+    {%- endif -%}\n+  {%- endfor -%}\n+  {{ weave_peers|join(' ') }}\n+\""
            }
        ]
    },
    {
        "repo": "lean-delivery/ansible-role-java",
        "author_id": "MDQ6VXNlcjkzOTIwMzM=",
        "author_name": "Pavel Pikta",
        "committer_id": "MDQ6VXNlcjQwMzAwNjQy",
        "committer_name": "Timur Gadiev",
        "committer_email": "Timur_Gadiev@epam.com",
        "message": "fix security policy installation for oracle jre (#106)",
        "sha": "8b0d4eaa526ee1231a5095a821690258693a628b",
        "url": "https://api.github.com/repos/lean-delivery/ansible-role-java/commits/8b0d4eaa526ee1231a5095a821690258693a628b",
        "parents": [
            "fbecfb07716ea9536ad2b97bf0363ba0007415e1"
        ],
        "files": [
            {
                "sha": "6e9e23b8c46ddccafe24dac6b09e2b6c536de6fa",
                "filename": "tasks/Linux/security_policy.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/8b0d4eaa526ee1231a5095a821690258693a628b/tasks/Linux/security_policy.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/8b0d4eaa526ee1231a5095a821690258693a628b/tasks/Linux/security_policy.yml",
                "status": "modified",
                "patch": "@@ -16,7 +16,7 @@\n     - name: Unzip patch file\n       unarchive:\n         src: '{{ security_policy_java_artifact }}'\n-        dest: '{{ java_path }}/{{ java_folder }}/jre/lib/security'\n+        dest: '{{ security_patch_path }}'\n         remote_src: true\n         owner: root\n         group: root\n@@ -26,7 +26,7 @@\n       copy:\n         src: \"{{ java_path }}/{{ java_folder }}/jre/lib/security/\\\n           {{ security_patch_folders[java_major_version|int] }}/{{ policy_item }}\"\n-        dest: '{{ java_path }}/{{ java_folder }}/jre/lib/security/'\n+        dest: '{{ security_patch_path }}/'\n         remote_src: true\n         directory_mode: true\n         owner: root\n@@ -43,7 +43,7 @@\n \n - name: Apply setting\n   replace:\n-    path: '{{ java_path }}/{{ java_folder }}/jre/lib/security/java.security'\n+    path: '{{ security_patch_path }}/java.security'\n     regexp: '#crypto.policy=unlimited'\n     replace: 'crypto.policy=unlimited'\n   when: java_major_version | int < 9"
            }
        ]
    },
    {
        "repo": "lean-delivery/ansible-role-java",
        "author_id": "MDQ6VXNlcjEyNDQyMTM=",
        "author_name": "Dmitriy Stoyanov",
        "committer_id": "MDQ6VXNlcjIwMjIyNzM3",
        "committer_name": "Anastacia Maletskaya",
        "committer_email": "Anastacia_Maletskaya@epam.com",
        "message": "Fix of issue #24 (#25)\n\n* Fix of issue #24\r\n\r\n* Fix yml files to align with new lint rule [E604] True/False should be started from capitalized letter",
        "sha": "29d6d51f112d59920a2bcda68a48fd585695c693",
        "url": "https://api.github.com/repos/lean-delivery/ansible-role-java/commits/29d6d51f112d59920a2bcda68a48fd585695c693",
        "parents": [
            "ed3393f47be912906eff72650f34365bceef1dc5"
        ],
        "files": [
            {
                "sha": "1324b8aa27b19ca1d84c7759470c7a507a1d00b3",
                "filename": "tasks/fetch/web.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/29d6d51f112d59920a2bcda68a48fd585695c693/tasks/fetch/web.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/29d6d51f112d59920a2bcda68a48fd585695c693/tasks/fetch/web.yml",
                "status": "modified",
                "patch": "@@ -7,6 +7,8 @@\n   retries: 3\n   delay: 2\n   register: FILE_DOWNLOADED\n+  delegate_to: \"localhost\"\n+  connection: \"local\"\n \n - name: \"Downloaded artifact\"\n   set_fact:"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #71",
        "sha": "ef411087c4f3692d3571dbaec3f3e53263aa6139",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/ef411087c4f3692d3571dbaec3f3e53263aa6139",
        "parents": [
            "b1ea1f0bcea62e56cfb3171011740cc14e3ad69c"
        ],
        "files": [
            {
                "sha": "597aed4d33e36dd07488de9d0ebc7ea63c0f351d",
                "filename": "tasks/postinstall.yml",
                "previous_filename": null,
                "additions": 16,
                "deletions": 12,
                "changes": 28,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/ef411087c4f3692d3571dbaec3f3e53263aa6139/tasks/postinstall.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/ef411087c4f3692d3571dbaec3f3e53263aa6139/tasks/postinstall.yml",
                "status": "modified",
                "patch": "@@ -10,18 +10,6 @@\n     _docker_python_system: true\n   when: ansible_python.executable | regex_search('^/bin') or ansible_python.executable | regex_search('^/usr/bin')\n \n-- name: Determine if pip exists in path\n-  become: true\n-  shell: type pip\n-  register: _docker_pip_cmd\n-  changed_when: false\n-  failed_when: false\n-\n-- name: Set fact to install Python PiP\n-  set_fact:\n-    _docker_additional_packages_os: \"{{ _docker_additional_packages_os + [docker_pip_package] }}\"\n-  when: _docker_pip_cmd.rc != 0\n-\n - name: Set facts to install Docker SDK for Python\n   set_fact:\n     _docker_additional_packages_pip: \"{{ _docker_additional_packages_pip + \\\n@@ -48,6 +36,22 @@\n     _docker_additional_packages_pip: \"{{ _docker_additional_packages_pip + docker_additional_packages_pip }}\"\n     _docker_additional_packages_os: \"{{ _docker_additional_packages_os + docker_additional_packages_os }}\"\n \n+- name: Determine if pip exists in path\n+  become: true\n+  shell: type pip\n+  register: _docker_pip_cmd\n+  changed_when: false\n+  failed_when: false\n+  when:\n+    - _docker_additional_packages_pip | length > 0\n+\n+- name: Set fact to install Python PiP\n+  set_fact:\n+    _docker_additional_packages_os: \"{{ _docker_additional_packages_os + [docker_pip_package] }}\"\n+  when:\n+    - _docker_additional_packages_pip | length > 0\n+    - _docker_pip_cmd.rc != 0\n+\n - name: Ensure EPEL release repository is installed\n   become: true\n   package:"
            }
        ]
    },
    {
        "repo": "rocknsm/rock",
        "author_id": "MDQ6VXNlcjE3MTU3NA==",
        "author_name": "Derek Ditch",
        "committer_id": "MDQ6VXNlcjE3MTU3NA==",
        "committer_name": "Derek Ditch",
        "committer_email": "derek@rocknsm.io",
        "message": "Update logrotate configuration\n\nThanks to @leanvel for the great research in Issue #170. I set the selinux type of the various data dirs to `var_log_t`. There's a number of options available, but after reading the docs that made the most sense.\n\nAlso, I found that `logrotate` is supposed to already have permission to send a `reload` to any systemd service unit. Our suricata service unit already maps this to the SIGHUP signal, so I swapped out this config to work within the existing confines of the selinux policy.\n\n**NOTE**: Still need to test this, but I think it covers all the bases.\n\nFixes #170\n\nCo-Authored-By: LeanVel <leanvel@users.noreply.github.com>",
        "sha": "789fe0ecea63c2b5a1ec75299a6fc4efffd5dbc4",
        "url": "https://api.github.com/repos/rocknsm/rock/commits/789fe0ecea63c2b5a1ec75299a6fc4efffd5dbc4",
        "parents": [
            "8e8c96c41aa5faa7d48341abf3673b4761def3d3"
        ],
        "files": [
            {
                "sha": "d544b00b9de9fd1edcf24c5925d48502f8a8adcd",
                "filename": "playbooks/group_vars/all.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/rocknsm/rock/blob/789fe0ecea63c2b5a1ec75299a6fc4efffd5dbc4/playbooks/group_vars/all.yml",
                "raw_url": "https://github.com/rocknsm/rock/raw/789fe0ecea63c2b5a1ec75299a6fc4efffd5dbc4/playbooks/group_vars/all.yml",
                "status": "modified",
                "patch": "@@ -122,6 +122,7 @@ fsf_group: fsf\n fsf_data_dir: \"{{ rock_data_dir }}/fsf\"\n fsf_archive_dir: \"{{ fsf_data_dir }}/archive\"\n fsf_client_logfile: \"{{ fsf_data_dir }}/client.log\"\n+fsf_retention: 3\n kafka_user: kafka\n kafka_group: kafka\n kafka_data_dir: \"{{ rock_data_dir }}/kafka\""
            },
            {
                "sha": "d39207ca4be4e18a632f5a0bf291d244dc62bc3e",
                "filename": "playbooks/deploy-rock.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 6,
                "changes": 15,
                "blob_url": "https://github.com/rocknsm/rock/blob/789fe0ecea63c2b5a1ec75299a6fc4efffd5dbc4/playbooks/deploy-rock.yml",
                "raw_url": "https://github.com/rocknsm/rock/raw/789fe0ecea63c2b5a1ec75299a6fc4efffd5dbc4/playbooks/deploy-rock.yml",
                "status": "modified",
                "patch": "@@ -513,6 +513,7 @@\n       owner: \"{{ bro_user }}\"\n       group: \"{{ bro_group }}\"\n       state: directory\n+      setype: var_log_t\n     with_items:\n       - \"{{ bro_data_dir }}\"\n       - \"{{ bro_data_dir }}/logs\"\n@@ -734,6 +735,7 @@\n       owner: \"{{ suricata_user }}\"\n       group: \"{{ suricata_group }}\"\n       state: directory\n+      setype: var_log_t\n     when: with_suricata\n \n   - name: Remove suricata sysconfig file\n@@ -807,8 +809,8 @@\n \n   - name: Configure logrotate for suricata logs\n     template:\n-      src: templates/logrotate-suricata.conf.j2\n-      dest: /etc/logrotate.d/suricata.conf\n+      src: templates/logrotate-suricata.j2\n+      dest: /etc/logrotate.d/suricata\n       mode: 0644\n       owner: root\n       group: root\n@@ -879,6 +881,7 @@\n       owner: \"{{ fsf_user }}\"\n       group: \"{{ fsf_group }}\"\n       state: directory\n+      setype: var_log_t\n     when: with_fsf\n \n   - name: Create FSF archive dir\n@@ -890,10 +893,10 @@\n       state: directory\n     when: with_fsf\n \n-  - name: Configure logrotate for FSF logs\n-    copy:\n-      src: logrotate-fsf.conf\n-      dest: /etc/logrotate.d/fsf.conf\n+  - name: Configure logrotate for fsf logs\n+    template:\n+      src: templates/logrotate-fsf.j2\n+      dest: /etc/logrotate.d/fsf\n       mode: 0644\n       owner: root\n       group: root"
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "Fedora: make use of systemd hardening features (also fixes #53 with RestartSec=1, thanks to Jamie Nguyen)",
        "sha": "2149edf99fe1c251d0eaad5c78536c9b1d54dde3",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/2149edf99fe1c251d0eaad5c78536c9b1d54dde3",
        "parents": [
            "df06f3c3304c3f73f740d444222642fbad41bebb"
        ],
        "files": [
            {
                "sha": "52ea222a49ca8c3a688c20c74e90922416a662a1",
                "filename": "tasks/dnf_install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/2149edf99fe1c251d0eaad5c78536c9b1d54dde3/tasks/dnf_install.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/2149edf99fe1c251d0eaad5c78536c9b1d54dde3/tasks/dnf_install.yml",
                "status": "modified",
                "patch": "@@ -30,7 +30,7 @@\n \n - name: Ensure the presence of the multi-instance systemd unit file (Fedora)\n   become: yes\n-  copy: src=centos_tor@.service dest=/lib/systemd/system/tor@.service owner=root mode=0644 backup=yes setype=tor_unit_file_t\n+  copy: src=fedora_tor@.service dest=/lib/systemd/system/tor@.service owner=root mode=0644 backup=yes setype=tor_unit_file_t\n   notify: systemctl daemon-reload\n \n - name: Ensure SELinux boolean (tor_can_network_relay) is set appropriately (Fedora)"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-golang",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fixes #81",
        "sha": "4b52ad8f9ca9bf720c50e615fdf2025139f502c0",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-golang/commits/4b52ad8f9ca9bf720c50e615fdf2025139f502c0",
        "parents": [
            "198af23cb4b66f59e8c398ae714509da7f0a36d2"
        ],
        "files": [
            {
                "sha": "09dbfc46fbff8a7d0ea6d8a5c24799f1ed823f20",
                "filename": "tasks/install-distro.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/4b52ad8f9ca9bf720c50e615fdf2025139f502c0/tasks/install-distro.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/4b52ad8f9ca9bf720c50e615fdf2025139f502c0/tasks/install-distro.yml",
                "status": "modified",
                "patch": "@@ -4,6 +4,7 @@\n   get_url:\n     url: \"{{ go_custom_mirror }}/{{ go_distribution_filename }}.tar.gz\"\n     dest: \"{{ go_temporary_dir }}/{{ go_distribution_filename }}.tar.gz\"\n+    checksum: \"{{ go_checksum | default('') }}\"\n     validate_certs: no\n \n - name: \"Go-Lang | Empty destination directory\""
            }
        ]
    },
    {
        "repo": "aalaesar/install_nextcloud",
        "author_id": "MDQ6VXNlcjE4NjQ5MjQ5",
        "author_name": "Aalaesar",
        "committer_id": "MDQ6VXNlcjE4NjQ5MjQ5",
        "committer_name": "Aalaesar",
        "committer_email": "aalaesar@gmail.com",
        "message": "fixed issue #28 with sudo test\n\nadded ansible 2.3 int travis tests",
        "sha": "bc3cc2c906ce22b390d257f4b760aeb0fea845ab",
        "url": "https://api.github.com/repos/aalaesar/install_nextcloud/commits/bc3cc2c906ce22b390d257f4b760aeb0fea845ab",
        "parents": [
            "388ca9a51fb853fccba27ab14a620317724faf2a"
        ],
        "files": [
            {
                "sha": "cd572bbb4e1e74c885028083adfae1a0edfa4c89",
                "filename": "tasks/setup_env.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/aalaesar/install_nextcloud/blob/bc3cc2c906ce22b390d257f4b760aeb0fea845ab/tasks/setup_env.yml",
                "raw_url": "https://github.com/aalaesar/install_nextcloud/raw/bc3cc2c906ce22b390d257f4b760aeb0fea845ab/tasks/setup_env.yml",
                "status": "modified",
                "patch": "@@ -30,7 +30,7 @@\n \n - name: \"[ENV] - rolling back to su.\"\n   set_fact: ansible_become_method=\"su\"\n-  when: nc_sudo_installed_result is defined and nc_sudo_installed_result.rc != 0\n+  when: (nc_sudo_installed_result.rc is defined) and (nc_sudo_installed_result.rc != 0)\n \n # fix for ubuntu 14.04 with permission issue for unprivileged user :\n - name: \"[NC] - Adding ACL on trusty.\""
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #25: Add ability to create cores if they don't exist.",
        "sha": "e178ea22df7fe951770beedfd5b0968a76cc190c",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/e178ea22df7fe951770beedfd5b0968a76cc190c",
        "parents": [
            "4ca11b1b8a6adeb3cf2e68b559f85def2aee67de"
        ],
        "files": [
            {
                "sha": "dced2319cf6c193d9d31a5085a3b11c8c3ae3cac",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/e178ea22df7fe951770beedfd5b0968a76cc190c/tasks/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/e178ea22df7fe951770beedfd5b0968a76cc190c/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -38,3 +38,7 @@\n     name: \"{{ solr_service_name }}\"\n     state: started\n     enabled: yes\n+\n+# Create cores, if any are configured.\n+- include: cores.yml\n+  when: \"solr_cores and solr_version.split('.')[0] >= '5'\""
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": null,
        "author_name": "spoonboy",
        "committer_id": null,
        "committer_name": "spoonboy",
        "committer_email": "sabri.eddir@orange.com",
        "message": "Fix #22\n\ncheck CONFIG_DEFAULT_SECURITY_APPARMOR and change kernel mode accordingly",
        "sha": "78cd45d689806d77b405ff1f57b1472d5dae5b66",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/78cd45d689806d77b405ff1f57b1472d5dae5b66",
        "parents": [
            "d6b9aef3a890db0fa37a2812da7b3aa1b418c15f"
        ],
        "files": [
            {
                "sha": "16d8d8f090af089022b348b89c945be28b65a882",
                "filename": "tasks/section_04_level2.yml",
                "previous_filename": null,
                "additions": 11,
                "deletions": 3,
                "changes": 14,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/78cd45d689806d77b405ff1f57b1472d5dae5b66/tasks/section_04_level2.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/78cd45d689806d77b405ff1f57b1472d5dae5b66/tasks/section_04_level2.yml",
                "status": "modified",
                "patch": "@@ -8,6 +8,14 @@\n     stat: path=/extlinux.conf\n     register: extlinux_cfg_file\n \n+  - name: Determines if apparmor is already set in boot config\n+    lineinfile: >\n+        dest='/boot/config-{{ ansible_kernel }}'\n+        regexp='CONFIG_DEFAULT_SECURITY_APPARMOR'\n+        line=\"CONFIG_DEFAULT_SECURITY_APPARMOR=y\"\n+        state=present\n+    register: boot_cfg_apparmor\n+\n   - name: 4.5 Activate AppArmor (install) (Scored)\n     apt: >\n         name=apparmor\n@@ -33,11 +41,11 @@\n         dest='/extlinux.conf'\n         regexp=\"^append initrd=\"\n         line=\"append initrd={{ ansible_cmdline['initrd'] }} root={{ ansible_cmdline['root'] }} console=tty0 console={{ ansible_cmdline['console'] }} apparmor=1 security=apparmor ro quiet\"\n-    when: use_apparmor == True and extlinux_cfg_file.stat.exists\n+    when: (use_apparmor == True and extlinux_cfg_file.stat.exists) and boot_cfg_apparmor.changed != \"False\"\n     tags:\n       - section4\n       - section4.5\n-  \n+\n   - name: 4.5 Activate AppArmor (start) (Scored)\n     service: >\n         name=apparmor\n@@ -51,7 +59,7 @@\n \n   - name: Determine if Apparmor started without error\n     fail: msg=\"Apparmor can not be started. This is normal behavior if you run the playbook for the first time. Please run it again to proceed with the rest of the playbook.\"\n-    when: apparmor_status.state != \"started\"\n+    when: apparmor_status.failed is defined\n \n   - name: 4.5 Activate AppArmor (fix profiles) (Scored)\n     service: >"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fix #727 - HSTS: default preload to off\n\nThe HSTS `preload` option defaulted to true. This turns it off by\ndefault since the HSTS preload list should be opt-in as it also requires\na submission to https://hstspreload.org.",
        "sha": "a86a02c49b29d5b5a5d32eb8c6162960af1304d8",
        "url": "https://api.github.com/repos/roots/trellis/commits/a86a02c49b29d5b5a5d32eb8c6162960af1304d8",
        "parents": [
            "a6f0793579913ee9121ba4be445f430ef266d54c"
        ],
        "files": [
            {
                "sha": "a77ecfb80dccec6f1e9c3f5fc81cea210f439d47",
                "filename": "roles/nginx/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/a86a02c49b29d5b5a5d32eb8c6162960af1304d8/roles/nginx/defaults/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/a86a02c49b29d5b5a5d32eb8c6162960af1304d8/roles/nginx/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -9,7 +9,7 @@ nginx_ssl_path: \"{{ nginx_path }}/ssl\"\n # HSTS defaults\n nginx_hsts_max_age: 31536000\n nginx_hsts_include_subdomains: true\n-nginx_hsts_preload: true\n+nginx_hsts_preload: false\n \n # Fastcgi cache params\n nginx_cache_path: /var/cache/nginx"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #82",
        "sha": "d2f56ff7e3ee0b349c65ebc6ccf42c5a0cd9fbbf",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/d2f56ff7e3ee0b349c65ebc6ccf42c5a0cd9fbbf",
        "parents": [
            "7cf1d9b6695a2348109e7fb11e68a0505d58cfd4"
        ],
        "files": [
            {
                "sha": "d20be8736af548d03e2c94dbc0f9822c876499ca",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 29,
                "deletions": 22,
                "changes": 51,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/d2f56ff7e3ee0b349c65ebc6ccf42c5a0cd9fbbf/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/d2f56ff7e3ee0b349c65ebc6ccf42c5a0cd9fbbf/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -36,31 +36,38 @@\n   when: docker_do_checks | bool\n   tags: [\"always\"]\n \n-- name: Setup Docker package repositories\n-  include_tasks: setup-repository.yml\n-  tags: [\"install\"]\n+- name: Install and configure Docker CE\n+  block:\n+    - name: Setup Docker package repositories\n+      include_tasks: setup-repository.yml\n+      tags: [\"install\"]\n \n-- name: Remove Docker versions before Docker CE\n-  include_tasks: remove-pre-docker-ce.yml\n-  when: docker_remove_pre_ce | bool\n-  tags: [\"install\"]\n+    - name: Remove Docker versions before Docker CE\n+      include_tasks: remove-pre-docker-ce.yml\n+      when: docker_remove_pre_ce | bool\n+      tags: [\"install\"]\n \n-- name: Install Docker\n-  include_tasks: install-docker.yml\n-  tags: [\"install\"]\n+    - name: Install Docker\n+      include_tasks: install-docker.yml\n+      tags: [\"install\"]\n \n-- name: Configure audit logging\n-  include_tasks: setup-audit.yml\n-  tags: [\"configure\"]\n+    - name: Configure audit logging\n+      include_tasks: setup-audit.yml\n+      tags: [\"configure\"]\n \n-- name: Apply workarounds for bugs and/or tweaks\n-  include_tasks: bug-tweaks.yml\n-  tags: [\"configure\"]\n+    - name: Apply workarounds for bugs and/or tweaks\n+      include_tasks: bug-tweaks.yml\n+      tags: [\"configure\"]\n \n-- name: Configure Docker\n-  include_tasks: configure-docker.yml\n-  tags: [\"configure\"]\n+    - name: Configure Docker\n+      include_tasks: configure-docker.yml\n+      tags: [\"configure\"]\n \n-- name: Postinstall tasks\n-  include_tasks: postinstall.yml\n-  tags: [\"install\"]\n\\ No newline at end of file\n+    - name: Postinstall tasks\n+      include_tasks: postinstall.yml\n+      tags: [\"install\"]\n+  when: not docker_remove | bool\n+\n+- name: Remove Docker CE and related configuration\n+  include_tasks: uninstall-docker.yml\n+  when: docker_remove | bool"
            }
        ]
    },
    {
        "repo": "gantsign/ansible-role-golang",
        "author_id": "MDQ6VXNlcjE3OTg0NzA3",
        "author_name": "John Freeman",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fixed openSUSE support (#68)\n\nNow needs `gzip` dependency as well.",
        "sha": "1e69a8363d4651a823bbab58af9013e2199ee62c",
        "url": "https://api.github.com/repos/gantsign/ansible-role-golang/commits/1e69a8363d4651a823bbab58af9013e2199ee62c",
        "parents": [
            "d3a3ed1cffa2903e45c05f6400c40006bf67f107"
        ],
        "files": [
            {
                "sha": "84770a53da3f9104833e71ecabace96dfcefb571",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 2,
                "changes": 7,
                "blob_url": "https://github.com/gantsign/ansible-role-golang/blob/1e69a8363d4651a823bbab58af9013e2199ee62c/tasks/main.yml",
                "raw_url": "https://github.com/gantsign/ansible-role-golang/raw/1e69a8363d4651a823bbab58af9013e2199ee62c/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -35,11 +35,14 @@\n     mode: 'u=rwx,go=rx'\n     dest: '{{ golang_install_dir }}'\n \n-- name: install tar (zypper)\n+- name: install unarchive dependencies (zypper)\n   become: yes\n   zypper:\n-    name: tar\n+    name: '{{ item }}'\n     state: present\n+  with_items:\n+    - gzip\n+    - tar\n   when: ansible_pkg_mgr == 'zypper'\n \n - name: install Go language SDK"
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjc1NDk3ODU=",
        "author_name": "\u00d8ystein Bedin",
        "committer_id": "MDQ6VXNlcjQ1MDA3NTg=",
        "committer_name": "Eric Sauer",
        "committer_email": "etsauer@gmail.com",
        "message": "Fix missing dependency for create_users (#129)",
        "sha": "c447fd165db42a177d3e6a765eae9f608680b805",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/c447fd165db42a177d3e6a765eae9f608680b805",
        "parents": [
            "7f842caa8741ae8f129026e3857407d7d10315a9"
        ],
        "files": [
            {
                "sha": "0f4a71148b2f7248af2f99084a82b43e6e7a893f",
                "filename": "roles/create_users/tasks/main.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 0,
                "changes": 7,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/c447fd165db42a177d3e6a765eae9f608680b805/roles/create_users/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/c447fd165db42a177d3e6a765eae9f608680b805/roles/create_users/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,12 @@\n ---\n \n+ - name: 'Install required packages'\n+   package:\n+     name: '{{ item }}'\n+     state: installed\n+   with_items:\n+   - python-passlib\n+\n  - name: \"Initialize create_users facts\"\n    set_fact:\n      users: ''"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "author_name": "Jack Ivanov",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fixes #1246",
        "sha": "a6cd89564ddc514636e0370e9d9cbf3e4f2e2321",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/a6cd89564ddc514636e0370e9d9cbf3e4f2e2321",
        "parents": [
            "a4f2c97fd2f48c70e006e16e18e0609c1b16eeb4"
        ],
        "files": [
            {
                "sha": "69978e83ec2123c21960b239884b02efe018d2ff",
                "filename": "roles/cloud-vultr/tasks/prompts.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/trailofbits/algo/blob/a6cd89564ddc514636e0370e9d9cbf3e4f2e2321/roles/cloud-vultr/tasks/prompts.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/a6cd89564ddc514636e0370e9d9cbf3e4f2e2321/roles/cloud-vultr/tasks/prompts.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n - pause:\n     prompt: |\n       Enter the local path to your configuration INI file\n-      (https://github.com/trailofbits/algo/docs/cloud-vultr.md):\n+      (https://trailofbits.github.io/algo/cloud-vultr.html):\n   register: _vultr_config\n   when: vultr_config is undefined\n "
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjUyNzEyOTQ=",
        "author_name": "Daniel Franz",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "Fixed delay and retries vals not cast to int in Query Replica Status task. (#367)",
        "sha": "d8f9782808173bad35dc98aab2faaace19bdfe99",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/d8f9782808173bad35dc98aab2faaace19bdfe99",
        "parents": [
            "64dbca8737e5e0391c04708396ccc2427533f536"
        ],
        "files": [
            {
                "sha": "0f3b01c8b159f03ff0f95e5250ead6e79ee2331f",
                "filename": "roles/openshift-replicas-ready/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/d8f9782808173bad35dc98aab2faaace19bdfe99/roles/openshift-replicas-ready/tasks/main.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/d8f9782808173bad35dc98aab2faaace19bdfe99/roles/openshift-replicas-ready/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -16,7 +16,7 @@\n   command: >\n     oc get {{ type }}/{{ resource }} {{ target_namespace }} -o json\n   register: query_result\n-  delay: \"{{ delay }}\"\n-  retries: \"{{ retries }}\"\n+  delay: \"{{ delay | int }}\"\n+  retries: \"{{ retries | int }}\"\n   until: (query_result.stdout | from_json)['spec']['replicas'] | default(\"0\") | int == (query_result.stdout | from_json)['status']['readyReplicas'] | default(\"0\") | int\n   failed_when: (query_result.stdout | from_json)['spec']['replicas'] is not defined"
            }
        ]
    },
    {
        "repo": "lae/ansible-role-proxmox",
        "author_id": "MDQ6VXNlcjEzMTgwMTM=",
        "author_name": "Musee Ullah",
        "committer_id": "MDQ6VXNlcjEzMTgwMTM=",
        "committer_name": "Musee Ullah",
        "committer_email": "lae@lae.is",
        "message": "Add missing arguments to user creation step. Fixes #80",
        "sha": "0bc3361bc5ff74f8eded44168cb0a0f5306ba6ea",
        "url": "https://api.github.com/repos/lae/ansible-role-proxmox/commits/0bc3361bc5ff74f8eded44168cb0a0f5306ba6ea",
        "parents": [
            "efe3d3e9f9774b77fba01a51543a2d60bb9c9ab4"
        ],
        "files": [
            {
                "sha": "f5a5c2872571c6232ba9c556717c63b06ca14de3",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 1,
                "changes": 9,
                "blob_url": "https://github.com/lae/ansible-role-proxmox/blob/0bc3361bc5ff74f8eded44168cb0a0f5306ba6ea/tasks/main.yml",
                "raw_url": "https://github.com/lae/ansible-role-proxmox/raw/0bc3361bc5ff74f8eded44168cb0a0f5306ba6ea/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -175,24 +175,31 @@\n - name: Configure Proxmox groups\n   proxmox_group:\n     name: \"{{ item.name }}\"\n+    state: \"{{ item.state | default('present') }}\"\n     comment: \"{{ item.comment | default(omit) }}\"\n   with_items: \"{{ pve_groups }}\"\n   when: \"not pve_cluster_enabled or (pve_cluster_enabled and inventory_hostname == groups[pve_group][0])\"\n \n - name: Configure Proxmox user accounts\n   proxmox_user:\n     name: \"{{ item.name }}\"\n+    state: \"{{ item.state | default('present') }}\"\n+    enable: \"{{ item.enable | default(omit) }}\"\n+    groups: \"{{ item.groups | default([]) }}\"\n+    comment: \"{{ item.comment | default(omit) }}\"\n     email: \"{{ item.email | default(omit) }}\"\n     firstname: \"{{ item.firstname | default(omit) }}\"\n     lastname: \"{{ item.lastname | default(omit) }}\"\n-    groups: \"{{ item.groups | default([]) }}\"\n+    password: \"{{ item.password | default(omit) }}\"\n+    expire: \"{{ item.expire | default(omit) }}\"\n   with_items: \"{{ pve_users }}\"\n   when: \"not pve_cluster_enabled | bool or (pve_cluster_enabled and inventory_hostname == groups[pve_group][0])\"\n \n - name: Configure Proxmox ACLs\n   proxmox_acl:\n     path: \"{{ item.path }}\"\n     roles: \"{{ item.roles }}\"\n+    state: \"{{ item.state | default('present') }}\"\n     groups: \"{{ item.groups | default([]) }}\"\n     users: \"{{ item.users | default([]) }}\"\n   with_items: \"{{ pve_acls }}\""
            }
        ]
    },
    {
        "repo": "NVIDIA/deepops",
        "author_id": "MDQ6VXNlcjY4NzI2OQ==",
        "author_name": "Luke Yeager",
        "committer_id": "MDQ6VXNlcjEwMzQzMA==",
        "committer_name": "Doug Holt",
        "committer_email": "doug.holt@gmail.com",
        "message": "Fix driver PPA package names (#79)\n\nFixes error introduced by 7ef791f4cb0fe65aad3a058ee28fd31a43cd1e96",
        "sha": "644a9dba5ad3bd7893f83918671aa9de4e0832bb",
        "url": "https://api.github.com/repos/NVIDIA/deepops/commits/644a9dba5ad3bd7893f83918671aa9de4e0832bb",
        "parents": [
            "2019d9b0edf0e1abf7a09f56904b7f06f2ed1a13"
        ],
        "files": [
            {
                "sha": "d1e8d279f6ae99e27d7b068981f8fc586c08c734",
                "filename": "playbooks/nvidia-gpu-driver.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/NVIDIA/deepops/blob/644a9dba5ad3bd7893f83918671aa9de4e0832bb/playbooks/nvidia-gpu-driver.yml",
                "raw_url": "https://github.com/NVIDIA/deepops/raw/644a9dba5ad3bd7893f83918671aa9de4e0832bb/playbooks/nvidia-gpu-driver.yml",
                "status": "modified",
                "patch": "@@ -20,8 +20,8 @@\n         update_cache: yes\n         cache_valid_time: 3600\n         state: latest\n-      with_items:\n-        - nvidia-410\n+      # The PPA has different package names for different distros\n+      with_items: \"{{ (ansible_facts['distribution_major_version'] == '18') | ternary(['nvidia-driver-410', 'nvidia-utils-410'], 'nvidia-410') }}\"\n     - name: load nvidia driver\n       modprobe:\n         name: nvidia"
            }
        ]
    },
    {
        "repo": "lean-delivery/ansible-role-sonarqube",
        "author_id": "MDQ6VXNlcjE5NzA0Nzgy",
        "author_name": "Dzmitry Rudnouski",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix for ansible 2.6.*, plugins update, ability to override optional and excluded plugins (#11) (#12)",
        "sha": "0319d599ae1812d73a639756708a829b66ba5a6c",
        "url": "https://api.github.com/repos/lean-delivery/ansible-role-sonarqube/commits/0319d599ae1812d73a639756708a829b66ba5a6c",
        "parents": [
            "418258bbe2faefc49ea8da7dc9d60ad5d339da42"
        ],
        "files": [
            {
                "sha": "5c03b3552cc95f6f58bb9d4ef430155f268cf34c",
                "filename": "tasks/system/Linux.yml",
                "previous_filename": null,
                "additions": 12,
                "deletions": 0,
                "changes": 12,
                "blob_url": "https://github.com/lean-delivery/ansible-role-sonarqube/blob/0319d599ae1812d73a639756708a829b66ba5a6c/tasks/system/Linux.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-sonarqube/raw/0319d599ae1812d73a639756708a829b66ba5a6c/tasks/system/Linux.yml",
                "status": "modified",
                "patch": "@@ -58,12 +58,24 @@\n       list_files: True\n     become_user: \"{{ sonar_user }}\"\n     register: sonar_installation_result\n+    # workaround for ansible 2.6.*, see https://github.com/ansible/ansible/issues/45124\n+    ignore_errors: True\n \n   - name: \"SonarQube installation facts\"\n     set_fact:\n       sonar_installation: \"{{ sonar_path }}/{{ sonar_installation_result.files.0 }}\"\n       distro: \"{{ ansible_facts.system | lower }}\"\n       arch: \"{{ 'x86-32' if ansible_architecture == 'i386' else 'x86-64' }}\"\n+    when: sonar_installation_result.files is defined\n+\n+    # continuation of ansible 2.6.* workaround\n+  - name: \"SonarQube installation facts\"\n+    set_fact:\n+      sonar_installation: \"{{ sonar_path }}/\\\n+      sonarqube-{{ sonar_major_version }}.{{ sonar_minor_version }}/\"\n+      distro: \"{{ ansible_facts.system | lower }}\"\n+      arch: \"{{ 'x86-32' if ansible_architecture == 'i386' else 'x86-64' }}\"\n+    when: sonar_installation_result.files is not defined\n \n   - name: \"Render sonar.properties\"\n     template:"
            },
            {
                "sha": "5c090c30e5823e16f0210f08c60704ffc8e9565c",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-sonarqube/blob/0319d599ae1812d73a639756708a829b66ba5a6c/tasks/main.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-sonarqube/raw/0319d599ae1812d73a639756708a829b66ba5a6c/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -21,5 +21,5 @@\n   delay: 5\n   register: sonar_plugin\n   with_items:\n-    - \"{{ sonar_plugins }}\"\n+    - \"{{ sonar_plugins }} + {{ sonar_optional_plugins }}\"\n   become: True"
            }
        ]
    },
    {
        "repo": "jloh/nagios-nrpe-server",
        "author_id": "MDQ6VXNlcjM2ODk1MzI=",
        "author_name": "jloh",
        "committer_id": "MDQ6VXNlcjM2ODk1MzI=",
        "committer_name": "jloh",
        "committer_email": "github@jloh.co",
        "message": "Closes #23: Actually install nagios-plugins on Debain based OS'\n\nRefs #22\nI originally thought this was a hard dependency but it turns out it isn't at all.",
        "sha": "c33f3410e002f9d8506f0725f56b7d7afa1c5f74",
        "url": "https://api.github.com/repos/jloh/nagios-nrpe-server/commits/c33f3410e002f9d8506f0725f56b7d7afa1c5f74",
        "parents": [
            "96229df8914d81313a37c41fc063cddb8d9a5d49"
        ],
        "files": [
            {
                "sha": "4346665b9013b29788ec163ca0e2ba27753c1f7e",
                "filename": "tasks/packages-Debian.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/jloh/nagios-nrpe-server/blob/c33f3410e002f9d8506f0725f56b7d7afa1c5f74/tasks/packages-Debian.yml",
                "raw_url": "https://github.com/jloh/nagios-nrpe-server/raw/c33f3410e002f9d8506f0725f56b7d7afa1c5f74/tasks/packages-Debian.yml",
                "status": "modified",
                "patch": "@@ -6,3 +6,6 @@\n # Nagios NRPE Server for Debian based OS's\n - name: Install Nagios NRPE Server [Debian]\n   apt: name=nagios-nrpe-server state=present\n+\n+- name: Install nagios-plugins [Debian]\n+  apt: name=nagios-plugins state=present"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fix #15 No more travis_env variable\n\n- Better configuration files to create travis compliance",
        "sha": "3fec379fb9c629de7360f9eee6d320e0ba907c05",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/3fec379fb9c629de7360f9eee6d320e0ba907c05",
        "parents": [
            "addbee435e20e706e7cf5d2f0a3723e17f79b527"
        ],
        "files": [
            {
                "sha": "5a03ce9abd50bd9d9028e72fa82a250b7834a51a",
                "filename": "tasks/section_04_level2.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/3fec379fb9c629de7360f9eee6d320e0ba907c05/tasks/section_04_level2.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/3fec379fb9c629de7360f9eee6d320e0ba907c05/tasks/section_04_level2.yml",
                "status": "modified",
                "patch": "@@ -33,7 +33,7 @@\n     failed_when: '\"0 profiles are loaded\" in aa_status_lines.stdout_lines or \"0 processes are in complain mode.\" not in aa_status_lines.stdout_lines or \"0 processes are unconfined but have a profile defined.\" not in aa_status_lines.stdout_lines'\n         # - '\"0 processes are unconfined but have a profile defined.\" not in aa_status_lines.stdout_lines'\n     changed_when: False\n-    when: travis_env == False and use_apparmor == True\n+    when: use_apparmor == True\n     tags:\n       - section4\n       - section4.5"
            },
            {
                "sha": "def22b71e29a9b9485fc201fc28ff4cb2fc5b3fd",
                "filename": "tasks/section_04_level1.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/3fec379fb9c629de7360f9eee6d320e0ba907c05/tasks/section_04_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/3fec379fb9c629de7360f9eee6d320e0ba907c05/tasks/section_04_level1.yml",
                "status": "modified",
                "patch": "@@ -12,7 +12,7 @@\n         name=fs.suid_dumpable\n         value=0\n         state=present\n-    when: travis_env == False\n+    when: restrict_core_dumps == True\n     tags:\n       - section4\n       - section4.1"
            },
            {
                "sha": "9f75d88c4170f076577720ada65d19c6a2f575bb",
                "filename": "tasks/section_07_level1.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/3fec379fb9c629de7360f9eee6d320e0ba907c05/tasks/section_07_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/3fec379fb9c629de7360f9eee6d320e0ba907c05/tasks/section_07_level1.yml",
                "status": "modified",
                "patch": "@@ -254,7 +254,7 @@\n       - net.ipv6.conf.all.disable_ipv6\n       - net.ipv6.conf.default.disable_ipv6\n       - net.ipv6.conf.lo.disable_ipv6\n-    when: travis_env == False\n+    when: disable_ipv6 == True\n     tags:\n       - section7\n       - section7.3"
            },
            {
                "sha": "beca447b8e213a8875e704b75de7d45b25a1674e",
                "filename": "tasks/section_01_level1.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/3fec379fb9c629de7360f9eee6d320e0ba907c05/tasks/section_01_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/3fec379fb9c629de7360f9eee6d320e0ba907c05/tasks/section_01_level1.yml",
                "status": "modified",
                "patch": "@@ -9,7 +9,7 @@\n \n   - name: 1.1.2 Install Updates, Patches and Additional Security Software (NotScored)\n     apt: upgrade=yes\n-    when: travis_env == False\n+    when: apt_upgrade == False\n     tags:\n       - section1\n       - section1.1"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #43",
        "sha": "4e46e9eb277bc88f285dbc9dd980193e57f7bf48",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/4e46e9eb277bc88f285dbc9dd980193e57f7bf48",
        "parents": [
            "1b857dd321d16eae8442dac8b317135668fa2be5"
        ],
        "files": [
            {
                "sha": "dcaec52544a89fcdb12393ba13a645caf3541c47",
                "filename": "tasks/configure-non-systemd.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 1,
                "changes": 9,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/4e46e9eb277bc88f285dbc9dd980193e57f7bf48/tasks/configure-non-systemd.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/4e46e9eb277bc88f285dbc9dd980193e57f7bf48/tasks/configure-non-systemd.yml",
                "status": "modified",
                "patch": "@@ -1,8 +1,15 @@\n+- name: Combine Docker daemon environment variable configuration\n+  set_fact:\n+    docker_service_envs: \"{{ docker_service_envs | combine(_docker_service_opts) | combine(docker_daemon_envs) }}\"\n+  vars:\n+    _docker_service_opts:\n+      DOCKER_OPTS: \"{{ docker_daemon_opts }}\"\n+\n - name: Setup Docker environment file {{ docker_envs_dir[_docker_os_dist] }}/docker\n   template:\n     src: docker-envs.j2\n     dest: \"{{ docker_envs_dir[_docker_os_dist] }}/docker\"\n   become: yes\n   notify: restart docker\n   vars:\n-    docker_opts: \"{{ docker_daemon_opts }}\"\n\\ No newline at end of file\n+    docker_envs: \"{{ docker_service_envs }}\"\n\\ No newline at end of file"
            },
            {
                "sha": "85d53f9389f83999be040bb0a1d13b2e7486efff",
                "filename": "tasks/configure-systemd.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 1,
                "changes": 9,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/4e46e9eb277bc88f285dbc9dd980193e57f7bf48/tasks/configure-systemd.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/4e46e9eb277bc88f285dbc9dd980193e57f7bf48/tasks/configure-systemd.yml",
                "status": "modified",
                "patch": "@@ -19,14 +19,21 @@\n     systemd_envs_dir: \"{{ docker_envs_dir[_docker_os_dist] }}\"\n     systemd_service_conf: \"{{ _systemd_service_config }}\"\n \n+- name: Combine Docker daemon environment variable configuration\n+  set_fact:\n+    docker_service_envs: \"{{ docker_service_envs | combine(_docker_service_opts) | combine(docker_daemon_envs) }}\"\n+  vars:\n+    _docker_service_opts:\n+      DOCKER_OPTS: \"{{ docker_daemon_opts }}\"\n+\n - name: Setup Docker environment file {{ docker_envs_dir[_docker_os_dist] }}/docker-envs\n   template:\n     src: docker-envs.j2\n     dest: \"{{ docker_envs_dir[_docker_os_dist] }}/docker-envs\"\n   become: yes\n   notify: restart docker\n   vars:\n-    docker_opts: \"{{ docker_daemon_opts }}\"\n+    docker_envs: \"{{ docker_service_envs }}\"\n \n - name: Force daemon reload of systemd\n   systemd: "
            }
        ]
    },
    {
        "repo": "lae/ansible-role-proxmox",
        "author_id": "MDQ6VXNlcjEzMTgwMTM=",
        "author_name": "Musee Ullah",
        "committer_id": "MDQ6VXNlcjEzMTgwMTM=",
        "committer_name": "Musee Ullah",
        "committer_email": "lae@lae.is",
        "message": "PVE upgrades need to be run with dist-upgrade, closes #70",
        "sha": "5ef44db3516be029ec0ca758a34022a9ce4a6f4a",
        "url": "https://api.github.com/repos/lae/ansible-role-proxmox/commits/5ef44db3516be029ec0ca758a34022a9ce4a6f4a",
        "parents": [
            "f85ec2f888b06dd4126775604f14c8d49e7e3ce7"
        ],
        "files": [
            {
                "sha": "339bed850886d88b3be11019bdbd3f2404eaec9a",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lae/ansible-role-proxmox/blob/5ef44db3516be029ec0ca758a34022a9ce4a6f4a/tasks/main.yml",
                "raw_url": "https://github.com/lae/ansible-role-proxmox/raw/5ef44db3516be029ec0ca758a34022a9ce4a6f4a/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -79,7 +79,7 @@\n   apt:\n     update_cache: yes\n     cache_valid_time: 3600\n-    upgrade: yes\n+    upgrade: dist\n   when: \"pve_run_system_upgrades | bool\"\n   retries: 2\n   register: _system_upgrade"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-golang",
        "author_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "author_name": "Karl Hepworth",
        "committer_id": "MDQ6VXNlcjMwNzAyNjQ=",
        "committer_name": "Karl Hepworth",
        "committer_email": "karl.hepworth@gmail.com",
        "message": "Fixes #16, Fixes #17.\n\nSigned-off-by: Karl Hepworth <karl.hepworth@gmail.com>",
        "sha": "69b00e2934f2c2f4e75879eb8ba1235d40649962",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-golang/commits/69b00e2934f2c2f4e75879eb8ba1235d40649962",
        "parents": [
            "43ddc69f3e6a7f3730a3aa97bfd6821f7c6fbb36"
        ],
        "files": [
            {
                "sha": "c42386f4634edcd3a5a8fc0a93f2c936bff5dbf7",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 1,
                "changes": 9,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/69b00e2934f2c2f4e75879eb8ba1235d40649962/tasks/main.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/69b00e2934f2c2f4e75879eb8ba1235d40649962/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -19,4 +19,11 @@\n \n - name: \"Include tasks for GoPM packages\"\n   include: gopm.yml\n-  when: go_install_type == \"gvm\" or go_install_type == \"source\" or go_install_type == \"static\"\n\\ No newline at end of file\n+  when: go_install_type == \"gvm\" or go_install_type == \"source\" or go_install_type == \"static\"\n+\n+- name: \"Reset Go permissions\"\n+  file:\n+    dest: \"{{ go_location }}\"\n+    owner: \"{{ fubarhouse_user }}\"\n+    mode: 0775\n+    recurse: yes\n\\ No newline at end of file"
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjk1MTE=",
        "author_name": "duritong",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "Fix #322 - Add lvm prep steps to pre-install (#326)\n\nIn some environments the rootfs might be very restricted (so you\r\nmust put /var/lib/etcd on a lv) or you might want to enable quotas\r\nfor emptydir (so you must put /var/lib/origin/openshift.local.volumes)\r\non a volume mounted with the gquota option.\r\n\r\nBy using ansible-infra's config-lvm role, we are able to set these\r\nvolumes through the inventory and having casl configuring them\r\nupfront.",
        "sha": "dfbc87a4481d3034ba885d549c7c562e66fb8a03",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/dfbc87a4481d3034ba885d549c7c562e66fb8a03",
        "parents": [
            "f158062db7ae490f7247be33a9958985968ffe3d"
        ],
        "files": [
            {
                "sha": "eb1fab442e49e3a3e5e913e56ad30360a8881dae",
                "filename": "playbooks/openshift/pre-install.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 0,
                "changes": 7,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/dfbc87a4481d3034ba885d549c7c562e66fb8a03/playbooks/openshift/pre-install.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/dfbc87a4481d3034ba885d549c7c562e66fb8a03/playbooks/openshift/pre-install.yml",
                "status": "modified",
                "patch": "@@ -26,6 +26,13 @@\n         ansible_become: True\n       when:\n         - rhsm_register\n+    # NOTE: This shall be before the container storage, so the next step\n+    #       can use all the remaining storage.\n+    - import_role:\n+        name: ../../galaxy/infra-ansible/roles/config-lvm\n+      vars:\n+        ansible_become: True\n+      when: lvm_entries is defined\n     # NOTE: this \"openstack\" role is generic and can be used across all cloud\n     #       providers. We should work with the `openshift-ansible` team to get\n     #       this corrected - i.e.: made generic."
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "haxorof",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "haxorof",
        "committer_email": "bjorn.oscarsson@gmail.com",
        "message": "Fixes #4",
        "sha": "2f1ed84fec270723a1031cdc2b07b7a76a5a3bda",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/2f1ed84fec270723a1031cdc2b07b7a76a5a3bda",
        "parents": [
            "b11c4477d973b0cc87a296f6b028eaf9abab4686"
        ],
        "files": [
            {
                "sha": "9600c1d1c7b551beb3dc0b826c32ba290854a471",
                "filename": "tasks/main-CentOS.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2f1ed84fec270723a1031cdc2b07b7a76a5a3bda/tasks/main-CentOS.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2f1ed84fec270723a1031cdc2b07b7a76a5a3bda/tasks/main-CentOS.yml",
                "status": "modified",
                "patch": "@@ -19,4 +19,7 @@\n   become: true\n   when: yum_repo.changed\n \n+- include: main-Storage.yml\n+  when: docker_setup_devicemapper == true\n+\n - include: main-Generic.yml"
            },
            {
                "sha": "638baddde388ee94327b295544d43e6e0c7b4dd0",
                "filename": "tasks/main-Fedora.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/2f1ed84fec270723a1031cdc2b07b7a76a5a3bda/tasks/main-Fedora.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/2f1ed84fec270723a1031cdc2b07b7a76a5a3bda/tasks/main-Fedora.yml",
                "status": "modified",
                "patch": "@@ -18,4 +18,7 @@\n   become: true\n   changed_when: false\n \n+- include: main-Storage.yml\n+  when: docker_setup_devicemapper == true\n+\n - include: main-Generic.yml\n\\ No newline at end of file"
            }
        ]
    },
    {
        "repo": "HewlettPackard/Docker-SimpliVity",
        "author_id": "MDQ6VXNlcjE0MzIxMjEx",
        "author_name": "Christophe Lehy",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix windows code which opens port 1514 on the ansible box instead of the logger VM (#21)",
        "sha": "421a3fb256fe67f98462b9b3b6e77f49b12c92fc",
        "url": "https://api.github.com/repos/HewlettPackard/Docker-SimpliVity/commits/421a3fb256fe67f98462b9b3b6e77f49b12c92fc",
        "parents": [
            "1823ab8e2ab72e1af24e977c7ae1829ef158a941"
        ],
        "files": [
            {
                "sha": "6e365a783aaa69255dd93d4015415c119cf707f0",
                "filename": "ops/playbooks/splunk_uf.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/HewlettPackard/Docker-SimpliVity/blob/421a3fb256fe67f98462b9b3b6e77f49b12c92fc/ops/playbooks/splunk_uf.yml",
                "raw_url": "https://github.com/HewlettPackard/Docker-SimpliVity/raw/421a3fb256fe67f98462b9b3b6e77f49b12c92fc/ops/playbooks/splunk_uf.yml",
                "status": "modified",
                "patch": "@@ -146,7 +146,6 @@\n   hosts: logger win_worker\n   gather_facts: false\n   connection: local\n-  user: remote\n   become: false\n \n   vars_files:\n@@ -180,6 +179,8 @@\n           immediate: true\n           permanent: true\n           state: enabled\n+        delegate_to: \"{{ groups.logger[0] }}\"\n+        become: true\n         with_items: \"{{ splunk_architecture_syslog_ports }}\"\n \n       when: inventory_hostname in groups.logger"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fix #65 - Replace dots in cron file names\n\nDebian and Ubuntu will ignore cron files with dots in the filenames.\n\nSee http://manpages.ubuntu.com/manpages/trusty/en/man8/cron.8.html",
        "sha": "1ef316fba467bcc9e49b7cd9decd37843f03bc08",
        "url": "https://api.github.com/repos/roots/trellis/commits/1ef316fba467bcc9e49b7cd9decd37843f03bc08",
        "parents": [
            "afbaee2dde5a26458b4d7b6795ae8bf82d56c1ca"
        ],
        "files": [
            {
                "sha": "1faf9f773c26585172cdc0168f5c42fc4112a56f",
                "filename": "roles/wordpress-sites/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/1ef316fba467bcc9e49b7cd9decd37843f03bc08/roles/wordpress-sites/tasks/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/1ef316fba467bcc9e49b7cd9decd37843f03bc08/roles/wordpress-sites/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -77,6 +77,6 @@\n         minute=\"*/15\"\n         user=\"{{ item.user }}\"\n         job=\"curl -s {{ item.env.wp_siteurl }}/wp-cron.php\"\n-        cron_file=\"wordpress_{{ item.site_name }}\"\n+        cron_file=\"wordpress-{{ item.site_name|replace('.', '_') }}\"\n   with_items: wordpress_sites\n   when: item.system_cron|default(False) == True"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #47: Fix warning caused by creating Solr cores as root.",
        "sha": "3848dbe33432b38a7e7ebad0da63826355cf1b4c",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/3848dbe33432b38a7e7ebad0da63826355cf1b4c",
        "parents": [
            "7e0b97a832be19120df08cdfd7ecde793b744468"
        ],
        "files": [
            {
                "sha": "1d50a2c4f3e374c1f080a3ccf380dfd71a83813d",
                "filename": "tasks/cores.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/3848dbe33432b38a7e7ebad0da63826355cf1b4c/tasks/cores.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/3848dbe33432b38a7e7ebad0da63826355cf1b4c/tasks/cores.yml",
                "status": "modified",
                "patch": "@@ -24,3 +24,5 @@\n   shell: \"{{ solr_install_path }}/bin/solr create -c {{ item }}\"\n   when: \"'{{ item }}' not in '{{ solr_cores_current.content }}'\"\n   with_items: \"{{ solr_cores }}\"\n+  become: yes\n+  become_user: \"{{ solr_user }}\""
            }
        ]
    },
    {
        "repo": "anthcourtney/ansible-role-cis-amazon-linux",
        "author_id": "MDQ6VXNlcjI0ODkxOTcy",
        "author_name": "Lorens Kockum",
        "committer_id": "MDQ6VXNlcjI0ODkxOTcy",
        "committer_name": "Lorens Kockum",
        "committer_email": "lorens.kockum@schibsted.com",
        "message": "Fixes #36",
        "sha": "da521ee1d5a6577b12f9b4eecce45b3a6286f03a",
        "url": "https://api.github.com/repos/anthcourtney/ansible-role-cis-amazon-linux/commits/da521ee1d5a6577b12f9b4eecce45b3a6286f03a",
        "parents": [
            "31e7e59aed6155cc3ed6765b81289a65a35ba715"
        ],
        "files": [
            {
                "sha": "45df21e07f19a6bfc1439a97904ada74723590a2",
                "filename": "tasks/level-1/5.5.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/anthcourtney/ansible-role-cis-amazon-linux/blob/da521ee1d5a6577b12f9b4eecce45b3a6286f03a/tasks/level-1/5.5.yml",
                "raw_url": "https://github.com/anthcourtney/ansible-role-cis-amazon-linux/raw/da521ee1d5a6577b12f9b4eecce45b3a6286f03a/tasks/level-1/5.5.yml",
                "status": "modified",
                "patch": "@@ -5,7 +5,7 @@\n \n - name: 5.5 - Ensure access to the su command is restricted\n   lineinfile:\n-    regexp: \"^auth\\\\s+\"\n+    regexp: \"^auth\\\\s.*\\\\spam_wheel.so\\\\s\"\n     line: \"auth required pam_wheel.so use_uid\"\n     dest: \"/etc/pam.d/su\"\n   tags:"
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "gtayzlor@gmail.com",
        "message": "Fix #342 - Weave network instability",
        "sha": "575c54fc21299154b7157de9f10c9072600dc993",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/575c54fc21299154b7157de9f10c9072600dc993",
        "parents": [
            "af3dfdf7cf37437f5609f1a12e4ac7cbaebd4867"
        ],
        "files": [
            {
                "sha": "ae111af148b114fe2029d9cf39517cfb5f260941",
                "filename": "roles/weave/defaults/main.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 1,
                "changes": 8,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/575c54fc21299154b7157de9f10c9072600dc993/roles/weave/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/575c54fc21299154b7157de9f10c9072600dc993/roles/weave/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,12 @@\n ---\n # defaults file for weave\n-weave_bridge: \"10.2.0.1/16\"\n+weave_bridge: \"\n+    {%- for host in groups[weave_server_group] -%}\n+      {%- if host == 'default' or host == inventory_hostname or host == ansible_fqdn or host in ansible_all_ipv4_addresses -%}\n+        10.2.0.{{ loop.index }}/16\n+      {%- endif -%}\n+    {%- endfor -%}\n+\"\n weave_server_group: weave_servers\n weave_docker_subnet: \"\n     {%- for host in groups[weave_server_group] -%}"
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "including OS specific vars is always required (fixes #86)",
        "sha": "dbe5647c4e42252e9e428e50b9b0a3636f94842a",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/dbe5647c4e42252e9e428e50b9b0a3636f94842a",
        "parents": [
            "2a8ca91248bb834daaa8c35f709d6f8158d81a38"
        ],
        "files": [
            {
                "sha": "85b96a58a39f2e87779d5a98a40f2dcb9862d8f1",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 2,
                "changes": 3,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/dbe5647c4e42252e9e428e50b9b0a3636f94842a/tasks/main.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/dbe5647c4e42252e9e428e50b9b0a3636f94842a/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -11,8 +11,7 @@\n - name: Set OS specific variables\n   include_vars: \"{{ ansible_os_family }}.yml\"\n   tags:\n-   - renewkey\n-   - reconfigure\n+   - always\n \n - include: ip-list.yml\n   tags:"
            }
        ]
    },
    {
        "repo": "rocknsm/rock",
        "author_id": "MDQ6VXNlcjEzMTI0ODA=",
        "author_name": "Jeff Geiger",
        "committer_id": "MDQ6VXNlcjEzMTI0ODA=",
        "committer_name": "Jeff Geiger",
        "committer_email": "jeff@jeffgeiger.com",
        "message": "Add GPG info to core CentOS repos when added.\n* Closes #288",
        "sha": "60ccb1b3a21039129b6f0aea5f1f307930a6d5ed",
        "url": "https://api.github.com/repos/rocknsm/rock/commits/60ccb1b3a21039129b6f0aea5f1f307930a6d5ed",
        "parents": [
            "36fa8ea3f1d55a69412d143954bc107129d3a502"
        ],
        "files": [
            {
                "sha": "3e88a1b77d6c3da07c48091937d3b9b0ff43fc4a",
                "filename": "playbooks/roles/sensor-common/tasks/configure.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/rocknsm/rock/blob/60ccb1b3a21039129b6f0aea5f1f307930a6d5ed/playbooks/roles/sensor-common/tasks/configure.yml",
                "raw_url": "https://github.com/rocknsm/rock/raw/60ccb1b3a21039129b6f0aea5f1f307930a6d5ed/playbooks/roles/sensor-common/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -204,6 +204,8 @@\n     enabled: \"{{ rock_online_install }}\"\n     description: \"CentOS-$releasever - {{ item.name | title }}\"\n     mirrorlist: \"{{ item.mirror }}\"\n+    gpgcheck: 1\n+    gpgkey: \"file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7\"\n     file:  CentOS-Base\n   with_items:\n   - { name: base, mirror: \"http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=os&infra=$infra\" }"
            }
        ]
    },
    {
        "repo": "arknoll/ansible-role-selenium",
        "author_id": null,
        "author_name": "arknoll",
        "committer_id": null,
        "committer_name": "arknoll",
        "committer_email": "alex.knoll@acquia.com",
        "message": "Fixes #10 - Alternative selenium directory",
        "sha": "3da74bdb5c5ef2240a1b4c5e8ce839c7196cd6f6",
        "url": "https://api.github.com/repos/arknoll/ansible-role-selenium/commits/3da74bdb5c5ef2240a1b4c5e8ce839c7196cd6f6",
        "parents": [
            "1ca5dbeea04bcaf2f131d2edf67798b4b844eee1"
        ],
        "files": [
            {
                "sha": "292def187e4dcd028081810f3832fdb6a966e602",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/arknoll/ansible-role-selenium/blob/3da74bdb5c5ef2240a1b4c5e8ce839c7196cd6f6/tasks/main.yml",
                "raw_url": "https://github.com/arknoll/ansible-role-selenium/raw/3da74bdb5c5ef2240a1b4c5e8ce839c7196cd6f6/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -5,7 +5,7 @@\n   tags: [configuration, selenium, selenium-create-directory]\n \n - name: download\n-  get_url: \"url=http://selenium-release.storage.googleapis.com/{{ selenium_version | regex_replace('\\\\.[0-9]+$', '') }}/selenium-server-standalone-{{ selenium_version }}.jar dest=/opt/selenium/selenium-server-standalone-{{ selenium_version }}.jar\"\n+  get_url: \"url=http://selenium-release.storage.googleapis.com/{{ selenium_version | regex_replace('\\\\.[0-9]+$', '') }}/selenium-server-standalone-{{ selenium_version }}.jar dest={{ selenium_install_dir }}/selenium/selenium-server-standalone-{{ selenium_version }}.jar\"\n   tags: [configuration, selenium, selenium-download]\n \n - name: Install xvfb"
            }
        ]
    },
    {
        "repo": "lean-delivery/ansible-role-java",
        "author_id": "MDQ6VXNlcjQwMzAwNjQy",
        "author_name": "Timur Gadiev",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix download (#70)\n\n* Fix openjdk fetch\r\n\r\nSigned-off-by: Timur Gadiev <Timur_Gadiev@epam.com>",
        "sha": "003ef19731dd9631e9959ce422ea9e4a6c5becd7",
        "url": "https://api.github.com/repos/lean-delivery/ansible-role-java/commits/003ef19731dd9631e9959ce422ea9e4a6c5becd7",
        "parents": [
            "02a698426c0c87880861589935baa0e7757f7ac6"
        ],
        "files": [
            {
                "sha": "e0bdceb339c95e44de176ec27b350e8a631d0c54",
                "filename": "tasks/win_fetch/openjdk-fallback.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/003ef19731dd9631e9959ce422ea9e4a6c5becd7/tasks/win_fetch/openjdk-fallback.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/003ef19731dd9631e9959ce422ea9e4a6c5becd7/tasks/win_fetch/openjdk-fallback.yml",
                "status": "modified",
                "patch": "@@ -14,7 +14,7 @@\n   set_fact:\n     release_url: >-\n       {{ root_page['content'] |\n-      regex_findall('(https://download\\.oracle\\.com/java/GA/jdk' +\n+      regex_findall('(https://download[\\.\\w]+/java/GA/jdk' +\n       java_major_version|string +\n       '[.\\d]+/[\\d\\w]+/' +\n       java_major_version|string +"
            },
            {
                "sha": "d5627320a9682c247ef5666be54a488a56b2b6ba",
                "filename": "tasks/fetch/openjdk-fallback.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/003ef19731dd9631e9959ce422ea9e4a6c5becd7/tasks/fetch/openjdk-fallback.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/003ef19731dd9631e9959ce422ea9e4a6c5becd7/tasks/fetch/openjdk-fallback.yml",
                "status": "modified",
                "patch": "@@ -13,7 +13,7 @@\n   set_fact:\n     release_url: >-\n       {{ root_page['content']\n-        | regex_findall('(https://download\\.oracle\\.com/java/GA/jdk'\n+        | regex_findall('(https://download[\\.\\w]+/java/GA/jdk'\n           + java_major_version|string + '[.\\d]+/[\\d\\w]+/'\n           + java_major_version|string + '/GPL/openjdk-'\n           + java_major_version|string + '[\\d._]+linux-x64_bin[\\w\\d.]+)')"
            }
        ]
    },
    {
        "repo": "avinetworks/ansible-role-docker",
        "author_id": "MDQ6VXNlcjM1OTE1NTE=",
        "author_name": "Eric Anderson",
        "committer_id": "MDQ6VXNlcjM4NTA2MjM=",
        "committer_name": "Gaurav Rastogi",
        "committer_email": "grastogi@avinetworks.com",
        "message": "fixed legacy as the packages are no longer available (#25)\n\n* removed legacy\r\n\r\n* removed legacy as packages are no longer avail",
        "sha": "eeb65a61a2cd3ed9256f90870f43d2a5a03162c0",
        "url": "https://api.github.com/repos/avinetworks/ansible-role-docker/commits/eeb65a61a2cd3ed9256f90870f43d2a5a03162c0",
        "parents": [
            "5f039cc89d92aec36f7ef4abedec248cc90646c9"
        ],
        "files": [
            {
                "sha": "9d38ce3300978698aad5773e69047defc31057ed",
                "filename": "tasks/other_repo.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 12,
                "changes": 12,
                "blob_url": "https://github.com/avinetworks/ansible-role-docker/blob/eeb65a61a2cd3ed9256f90870f43d2a5a03162c0/tasks/other_repo.yml",
                "raw_url": "https://github.com/avinetworks/ansible-role-docker/raw/eeb65a61a2cd3ed9256f90870f43d2a5a03162c0/tasks/other_repo.yml",
                "status": "modified",
                "patch": "@@ -1,21 +1,9 @@\n ---\n-- name: Docker Legacy | Start Installation | Other repo\n-  package:\n-    name: docker-engine\n-  when:\n-    - docker_repo == \"other\"\n-    - docker_edition == \"legacy\"\n-  register: task_result\n-  until: task_result is success\n-  retries: 10\n-  delay: 2\n-\n - name: Docker | Start Installation | Other repo\n   package:\n     name: \"docker-{{ docker_edition }}\"\n   when:\n     - docker_repo == \"other\"\n-    - docker_edition != \"legacy\"\n   register: task_result\n   until: task_result is success\n   retries: 10"
            },
            {
                "sha": "316e7baf652971c56dcc39a0dc37ec86c7fe0f55",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 7,
                "changes": 16,
                "blob_url": "https://github.com/avinetworks/ansible-role-docker/blob/eeb65a61a2cd3ed9256f90870f43d2a5a03162c0/tasks/main.yml",
                "raw_url": "https://github.com/avinetworks/ansible-role-docker/raw/eeb65a61a2cd3ed9256f90870f43d2a5a03162c0/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -8,6 +8,15 @@\n       \"This role works best with ansible version 2.4 or greater.\n       It is recommended to use the latest ansible version for the best experience.\"\n \n+- name: Docker | Manage OS not supported by docker-ce\n+  fail:\n+    msg: \"This OS is not supported by Docker-CE, and therefor not supported by this role.\"\n+  when:\n+    - docker_edition == \"ce\"\n+    - (ansible_distribution|lower == \"centos\" and ansible_distribution_major_version == \"6\") or\n+      ansible_distribution|lower == \"redhat\" or\n+      ansible_distribution|lower == \"oraclelinux\"\n+\n - name: Docker | Include {{ ansible_distribution }} specific variables\n   include_vars: \"ansible_distribution/{{ ansible_distribution.split(' ', 1)[0]|lower }}.yml\"\n \n@@ -25,13 +34,6 @@\n   include_tasks: \"storage_drivers/{{ docker_storage_driver }}.yml\"\n   when: docker_storage_driver is defined\n \n-- name: Docker | Manage OS not supported by docker-ce\n-  set_fact:\n-    docker_edition: legacy\n-  when: (ansible_distribution|lower == \"centos\" and ansible_distribution_major_version == \"6\") or\n-        (ansible_distribution|lower == \"redhat\" and ansible_distribution_major_version == \"6\") or\n-        (ansible_distribution|lower == \"oraclelinux\" and ansible_distribution_major_version == \"6\")\n-\n - name: Docker | Start Installation\n   include_tasks: \"{{ docker_edition }}/{{ ansible_pkg_mgr }}.yml\"\n   when: docker_repo == \"docker\""
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": "MDQ6VXNlcjExMTY1ODQ4",
        "author_name": "nusenu",
        "committer_id": "MDQ6VXNlcjExMTY1ODQ4",
        "committer_name": "nusenu",
        "committer_email": "nusenu-github@riseup.net",
        "message": "fix ansible-lint spacing [E206] (#193)",
        "sha": "9f2f1160c4dc3fea2f6e81e42ba8a6254ef093db",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/9f2f1160c4dc3fea2f6e81e42ba8a6254ef093db",
        "parents": [
            "7f02cba4441b5367d6916857c9b41f3abae915db"
        ],
        "files": [
            {
                "sha": "27d3f5f8c4469632bd158d52f5894919e55ae7cc",
                "filename": "tasks/ip-list.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/9f2f1160c4dc3fea2f6e81e42ba8a6254ef093db/tasks/ip-list.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/9f2f1160c4dc3fea2f6e81e42ba8a6254ef093db/tasks/ip-list.yml",
                "status": "modified",
                "patch": "@@ -14,7 +14,7 @@\n \n - name: workaround for ansible bug 14829 (2/3)\n   set_fact:\n-    tor_v6ips: \"{{ tor_available_public_ipv6s[0:tor_ipv4_count|int]|ipv6('address') }}\"\n+    tor_v6ips: \"{{ tor_available_public_ipv6s[0:tor_ipv4_count|int] | ipv6('address') }}\"\n \n - name: workaround for ansible bug 14829 (3/3)\n   set_fact:\n@@ -33,4 +33,4 @@\n \n - name: setup IP list (2/2)\n   set_fact:\n-    tor_ips: \"{{ tor_ipsinterm.results | map(attribute='ansible_facts.ips')|list}}\"\n+    tor_ips: \"{{ tor_ipsinterm.results | map(attribute='ansible_facts.ips') | list }}\""
            }
        ]
    },
    {
        "repo": "mikolak-net/ansible-raspi-config",
        "author_id": "MDQ6VXNlcjE3Mjk5MDA=",
        "author_name": "Miko\u0142aj Koziarkiewicz",
        "committer_id": "MDQ6VXNlcjE3Mjk5MDA=",
        "committer_name": "Miko\u0142aj Koziarkiewicz",
        "committer_email": "mikolak-net@users.noreply.github.com",
        "message": "Fixed #1.",
        "sha": "c6c140d3b402a3f91020e8095f8468e2cf8cbf9c",
        "url": "https://api.github.com/repos/mikolak-net/ansible-raspi-config/commits/c6c140d3b402a3f91020e8095f8468e2cf8cbf9c",
        "parents": [
            "584d564218d6e2e63d3ecca157daf817fe4d533c"
        ],
        "files": [
            {
                "sha": "36d7777a3868889ec32147d660a13712208153f2",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 3,
                "changes": 13,
                "blob_url": "https://github.com/mikolak-net/ansible-raspi-config/blob/c6c140d3b402a3f91020e8095f8468e2cf8cbf9c/meta/main.yml",
                "raw_url": "https://github.com/mikolak-net/ansible-raspi-config/raw/c6c140d3b402a3f91020e8095f8468e2cf8cbf9c/meta/main.yml",
                "status": "modified",
                "patch": "@@ -11,6 +11,13 @@ galaxy_info:\n   - development\n   - system\n dependencies:\n-  - { role: \"knopki.locale\", version: \"v1.0.3\", locale_all: \"{{raspi_config_locale}}\" }\n-  - { role: \"Stouts.timezone\", version: \"2.0.1\", timezone_timezone: \"{{raspi_config_timezone}}\" }\n-  - { role: \"Stouts.hostname\", version: \"1.0.3\", hostname_hostname: \"{{raspi_config_hostname}}\" }\n\\ No newline at end of file\n+  - name: \"knopki.locale\"\n+    src: \"git+https://github.com/knopki/ansible-locale.git\"\n+    version: \"a1232f836b5514c58da381d9479640e40d874906\" # includes fix for superfluous locale switch\n+  - role: \"Stouts.timezone\"\n+    version: \"2.0.1\"\n+    timezone_timezone: \"raspi_config_timezone\"\n+    locale_all: \"raspi_config_locale\"\n+  - role: \"Stouts.hostname\"\n+    version: \"1.0.3\"\n+    hostname_hostname: \"raspi_config_hostname\"\n\\ No newline at end of file"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #33: Workaround Solr init script breaking systemd-based service usage.",
        "sha": "71d5d56d024765b5d7f83c76fe2c54978a446674",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/71d5d56d024765b5d7f83c76fe2c54978a446674",
        "parents": [
            "c06d9b4285042fe4fd36c653b6f9236b83dccc43"
        ],
        "files": [
            {
                "sha": "c75f0e59c3dc56a281b1257cb644ff6d7a233b21",
                "filename": "tasks/install.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 0,
                "changes": 6,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/71d5d56d024765b5d7f83c76fe2c54978a446674/tasks/install.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/71d5d56d024765b5d7f83c76fe2c54978a446674/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -13,3 +13,9 @@\n     -s {{ solr_service_name }}\n     -p {{ solr_port }}\n     creates={{ solr_install_dir }}/solr/bin/solr\n+  register: solr_install_script_result\n+\n+# Workaround for bug https://github.com/ansible/ansible-modules-core/issues/915.\n+- name: Ensure solr is stopped (RHEL 7 workaround).\n+  command: service {{ solr_service_name }} stop\n+  when: (ansible_os_family == 'RedHat') and (ansible_distribution_version.split(\".\")[0] == '7') and (solr_install_script_result.changed)"
            }
        ]
    },
    {
        "repo": "cloudalchemy/ansible-fluentd",
        "author_id": "MDQ6VXNlcjM1MzE3NTg=",
        "author_name": "Pawe\u0142 Krupa",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #4 from cloudalchemy/systemd_workaround\n\n@jkrol2 after going through issues in ansible project, I think this is our root cause: https://github.com/ansible/ansible/issues/29520. Package tg-agent installs files for sysvinit (/etc/init.d/td-agent) *and* systemd file (/usr/lib/systemd/system/td-agent.service) and `systemd` module has problems with such installations.\r\n\r\nResolves #1",
        "sha": "59a6248e234c7ea22bb9e8989736023520d54e29",
        "url": "https://api.github.com/repos/cloudalchemy/ansible-fluentd/commits/59a6248e234c7ea22bb9e8989736023520d54e29",
        "parents": [
            "451b4aa57739d595550722949fd2443659011672",
            "4695dc357e09e35a568f49711336cc756f708fb7"
        ],
        "files": [
            {
                "sha": "a38bea3c265e6fe4aac8675d89d171353892ed49",
                "filename": "tasks/configure.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/cloudalchemy/ansible-fluentd/blob/59a6248e234c7ea22bb9e8989736023520d54e29/tasks/configure.yml",
                "raw_url": "https://github.com/cloudalchemy/ansible-fluentd/raw/59a6248e234c7ea22bb9e8989736023520d54e29/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -29,7 +29,7 @@\n \n - name: Create custom configuration\n   template:\n-    src:  \"{{ item }}\"\n+    src:  \"{{ item }}.j2\"\n     dest: \"/etc/td-agent/conf.d/{{ item.split('/')[-1] }}\"\n     owner: td-agent\n     group: td-agent"
            },
            {
                "sha": "9320d39881890c8b1f0477972eda5ea1a6959c27",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/cloudalchemy/ansible-fluentd/blob/59a6248e234c7ea22bb9e8989736023520d54e29/tasks/main.yml",
                "raw_url": "https://github.com/cloudalchemy/ansible-fluentd/raw/59a6248e234c7ea22bb9e8989736023520d54e29/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -18,6 +18,7 @@\n - include: configure.yml\n \n - name: Ensure fluentd (td-agent) service is enabled\n-  systemd:\n+  service:\n     name: td-agent\n     enabled: yes\n+    use: service"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": "MDQ6VXNlcjk3MTc1NQ==",
        "author_name": "Aur\u00e9lien Wailly",
        "committer_id": "MDQ6VXNlcjk3MTc1NQ==",
        "committer_name": "Aur\u00e9lien Wailly",
        "committer_email": "aurelien.wailly@gmail.com",
        "message": "Fixes #44\n\n- Bug with remote logs sending on 127.0.0.1\n- Add new variable to specify local or remote log",
        "sha": "1ab6eab24253634453c2d2ab937b5d3620aa71ae",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/1ab6eab24253634453c2d2ab937b5d3620aa71ae",
        "parents": [
            "4e5f889ccbec1ce7d10466a19c3a2613dc14092b"
        ],
        "files": [
            {
                "sha": "1fd1c3aefe697d2cfc2062e1261c7aa31b240d3d",
                "filename": "tasks/section_08_level1.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/1ab6eab24253634453c2d2ab937b5d3620aa71ae/tasks/section_08_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/1ab6eab24253634453c2d2ab937b5d3620aa71ae/tasks/section_08_level1.yml",
                "status": "modified",
                "patch": "@@ -116,7 +116,7 @@\n        line=\"*.* @@{{Remote_Logs_Host_Address}}\"\n        insertafter=EOF\n        state=present\n-    when: remoteloghost.rc == 1\n+    when: send_rsyslog_remote == True and remoteloghost.rc == 1\n     tags:\n       - section8\n       - section8.2\n@@ -142,7 +142,7 @@\n     with_items:\n         - '$ModLoad imtcp'\n         - '$InputTCPServerRun 514'\n-    when: moadloadpresent.rc == 1\n+    when: send_rsyslog_remote == True and moadloadpresent.rc == 1\n     changed_when: False\n     notify: restart rsyslog\n     tags:"
            }
        ]
    },
    {
        "repo": "fubarhouse/ansible-role-golang",
        "author_id": null,
        "author_name": "Karl Hepworth",
        "committer_id": null,
        "committer_name": "Karl Hepworth",
        "committer_email": "Karl.Hepworth@education.gov.au",
        "message": "Fixes #75",
        "sha": "e91a55152358e890a05cf849abc7d58b8badecc2",
        "url": "https://api.github.com/repos/fubarhouse/ansible-role-golang/commits/e91a55152358e890a05cf849abc7d58b8badecc2",
        "parents": [
            "9f3bd0a4feb65ecf44809ac5403bfa1b7f3f92db"
        ],
        "files": [
            {
                "sha": "ca3176568462ba1641f603bec9c9fdf0d82e0727",
                "filename": "tasks/cleanup.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 0,
                "changes": 6,
                "blob_url": "https://github.com/fubarhouse/ansible-role-golang/blob/e91a55152358e890a05cf849abc7d58b8badecc2/tasks/cleanup.yml",
                "raw_url": "https://github.com/fubarhouse/ansible-role-golang/raw/e91a55152358e890a05cf849abc7d58b8badecc2/tasks/cleanup.yml",
                "status": "modified",
                "patch": "@@ -6,6 +6,12 @@\n     state: absent\n   failed_when: false\n \n+- name: \"Go-Lang | Removing GOPATH\"\n+  file:\n+    path: \"{{ GOPATH }}\"\n+    state: absent\n+  failed_when: false\n+\n - name: \"Go-Lang | Removing GOBOOTSTRAP\"\n   file:\n     path: \"{{ GOROOT_BOOTSTRAP }}\""
            }
        ]
    },
    {
        "repo": "CSCfi/ansible-role-slurm",
        "author_id": null,
        "author_name": "Lu\u00eds Alves",
        "committer_id": null,
        "committer_name": "Lu\u00eds Alves",
        "committer_email": "luis.alves@csc.fi",
        "message": "Closes #11\n\n- Changing user's home while the user is running anything will break the playbook. I propose not setting any home dir.",
        "sha": "347f82d005c0e13be1f919585e06c655fc26c2c1",
        "url": "https://api.github.com/repos/CSCfi/ansible-role-slurm/commits/347f82d005c0e13be1f919585e06c655fc26c2c1",
        "parents": [
            "1a7f29393a97b07c92deba14cc09ad9e6175a546"
        ],
        "files": [
            {
                "sha": "996d3467f0744debd37591327d54e09f6662437f",
                "filename": "tasks/common.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/CSCfi/ansible-role-slurm/blob/347f82d005c0e13be1f919585e06c655fc26c2c1/tasks/common.yml",
                "raw_url": "https://github.com/CSCfi/ansible-role-slurm/raw/347f82d005c0e13be1f919585e06c655fc26c2c1/tasks/common.yml",
                "status": "modified",
                "patch": "@@ -42,7 +42,7 @@\n     when: nis_server\n    \n   - name: add slurm unix user\n-    user: name=slurm shell=/sbin/nologin createhome=no home=/ system=yes append=yes group=slurm\n+    user: name=slurm shell=/sbin/nologin createhome=no system=yes append=yes group=slurm state=present\n     when: nis_server\n \n   - name: write all slurm logs handled by rsyslog to one file"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bjorn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bjorn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #109",
        "sha": "c2df7c9d9f5b8008d0f9b2b12ca6c8f086a41108",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/c2df7c9d9f5b8008d0f9b2b12ca6c8f086a41108",
        "parents": [
            "f6f8b96af47f0dd32d9e52cf43116cf05910ce7c"
        ],
        "files": [
            {
                "sha": "0640ca8f692e1da3f929066bd4ac7c6e5a1531d6",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/c2df7c9d9f5b8008d0f9b2b12ca6c8f086a41108/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/c2df7c9d9f5b8008d0f9b2b12ca6c8f086a41108/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -105,6 +105,7 @@\n \n     - name: Setup Docker package repositories\n       include_tasks: setup-repository.yml\n+      when: docker_setup_repos | bool\n       tags: [\"install\"]\n \n     - name: Install Docker"
            }
        ]
    },
    {
        "repo": "lean-delivery/ansible-role-java",
        "author_id": "MDQ6VXNlcjQwMzAwNjQy",
        "author_name": "Timur Gadiev",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix default fallback (#88)\n\n* Test java ver\r\n\r\n* Add ga release detection\r\n\r\n* Add amazon linux tests\r\n\r\n* Fix verify\r\n\r\n* Add Windows openjdk fallback\r\n\r\n* Fix java_download_path\r\n\r\nSigned-off-by: Timur Gadiev <Timur_Gadiev@epam.com>",
        "sha": "892b2386950bf02321ff63298bd7f2c6864faab3",
        "url": "https://api.github.com/repos/lean-delivery/ansible-role-java/commits/892b2386950bf02321ff63298bd7f2c6864faab3",
        "parents": [
            "5906ccb7ae3a7d39924368356deb5d17f45184fc"
        ],
        "files": [
            {
                "sha": "b077be8b6e619accc50a7d4c69236f9c97e98e0e",
                "filename": "tasks/Linux/fetch/zulu-fallback.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/zulu-fallback.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/zulu-fallback.yml",
                "status": "modified",
                "patch": "@@ -24,7 +24,7 @@\n   - name: 'Download artifact from {{ release_url[0] }}'\n     get_url:\n       url: '{{ release_url[0] }}'\n-      dest: '{{ download_path }}'\n+      dest: '{{ java_download_path }}'\n       checksum: 'md5:{{ checksum[0] }}'\n     register: file_downloaded\n     retries: 20"
            },
            {
                "sha": "388e8270b3eb0ae20924b478d6a59f8c54b92b0f",
                "filename": "tasks/Win32NT/fetch/web.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/web.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/web.yml",
                "status": "modified",
                "patch": "@@ -3,7 +3,7 @@\n   win_get_url:\n     url: '{{ transport_web }}'\n     dest: >-\n-      {{ download_path }}\\{{ (transport_web | urlsplit('path')).split('/')[-1] }}\n+      {{ java_download_path }}\\{{ (transport_web | urlsplit('path')).split('/')[-1] }}\n     force: false\n   register: file_downloaded\n   retries: 5"
            },
            {
                "sha": "a7425708f691a73345558f219456c9e98fa8963e",
                "filename": "tasks/Linux/fetch/web.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/web.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/web.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n - name: Download artifact from web\n   get_url:\n     url: '{{ transport_web }}'\n-    dest: '{{ download_path }}'\n+    dest: '{{ java_download_path }}'\n   register: file_downloaded\n   retries: 5\n   delay: 2"
            },
            {
                "sha": "a91d851372ffca8a92ee7f12834e511a14049025",
                "filename": "tasks/Win32NT/fetch/security-fetch/security-winfetch-web.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/security-fetch/security-winfetch-web.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/security-fetch/security-winfetch-web.yml",
                "status": "modified",
                "patch": "@@ -3,7 +3,7 @@\n   win_get_url:\n     url: '{{ java_unlimited_policy_url }}'\n     dest: >-\n-      {{ download_path }}\\{{ (java_unlimited_policy_url\n+      {{ java_download_path }}\\{{ (java_unlimited_policy_url\n         | urlsplit('path')).split('/')[-1] }}\n     force: false\n   register: policy_file_downloaded"
            },
            {
                "sha": "3208285bbef12ebf0a66d4cd669a882d35ac5fda",
                "filename": "tasks/Linux/fetch/sapjvm-fallback.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/sapjvm-fallback.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/sapjvm-fallback.yml",
                "status": "modified",
                "patch": "@@ -17,7 +17,7 @@\n - name: 'Download artifact from {{ release_url[0] }}'\n   get_url:\n     url: '{{ sapjvm_root_page }}/{{ release_url[0] }}'\n-    dest: '{{ download_path }}'\n+    dest: '{{ java_download_path }}'\n     headers:\n       Cookie: eula_3_1_agreed=tools.hana.ondemand.com/developer-license-3_1.txt\n   register: file_downloaded"
            },
            {
                "sha": "0c411a69d34de1e274b279b9c47dfc9041916a61",
                "filename": "tasks/Win32NT/install/sapjvm_tarball.yml",
                "previous_filename": null,
                "additions": 37,
                "deletions": 23,
                "changes": 60,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/install/sapjvm_tarball.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/install/sapjvm_tarball.yml",
                "status": "modified",
                "patch": "@@ -6,31 +6,45 @@\n \n - name: Install java from tarball\n   block:\n-  - name: Mkdir for java installation\n-    win_file:\n-      path: '{{ java_path }}\\{{ java_folder }}'\n-      state: directory\n+    - name: Mkdir for java installation\n+      win_file:\n+        path: '{{ java_path }}\\{{ java_folder }}'\n+        state: directory\n \n-  - name: Create temporary directory\n-    win_tempfile:\n-      state: directory\n-    register: temp_dir_path\n+    - name: Create temporary directory\n+      win_tempfile:\n+        state: directory\n+      register: temp_dir_path\n \n-  - name: Unarchive to temporary directory\n-    win_unzip:\n-      src: '{{ java_artifact }}'\n-      dest: '{{ temp_dir_path }}'\n+    - name: Unarchive to temporary directory\n+      win_unzip:\n+        src: '{{ java_artifact }}'\n+        dest: '{{ temp_dir_path }}'\n \n-  - name: Find java_folder in temp\n-    win_find:\n-      paths: '{{ temp_dir_path }}'\n-      recurse: false\n-      file_type: directory\n-    register: java_temp_folder\n+    - name: Find java_folder in temp\n+      win_find:\n+        paths: '{{ temp_dir_path }}'\n+        recurse: false\n+        file_type: directory\n+      register: java_temp_folder\n \n-  - name: Copy from temporary directory\n-    win_copy:\n-      src: '{{ java_temp_folder.files | map(attribute=\"path\") | list | last }}\\'\n-      dest: '{{ java_path }}\\{{ java_folder }}'\n-      remote_src: true\n+    - name: Copy from temporary directory\n+      win_copy:\n+        src: '{{ java_temp_folder.files | map(attribute=\"path\") | list | last }}\\'\n+        dest: '{{ java_path }}\\{{ java_folder }}'\n+        remote_src: true\n+\n+    - name: Check choco\n+      win_chocolatey:\n+        name: chocolatey\n+        state: present\n+\n+    # https://help.sap.com/viewer/65de2977205c403bbc107264b8eccf4b/Cloud/en-US/76137f42711e1014839a8273b0e91070.html\n+    - name: 'Install vcredist package prior to using SAP JVM'\n+      win_chocolatey:\n+        name: vcredist2013\n+      register: choco_install\n+      retries: 15\n+      delay: 5\n+      until: choco_install is succeeded\n   when: not java_folder_bin.stat.exists"
            },
            {
                "sha": "1c899585b0a887d149a183218fb2befdb99845f1",
                "filename": "tasks/Linux/system.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 2,
                "changes": 3,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/system.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/system.yml",
                "status": "modified",
                "patch": "@@ -3,7 +3,7 @@\n   block:\n     - name: Install requirements\n       package:\n-        name: '{{ requirements }}'\n+        name: '{{ java_package_requirements }}'\n         state: present\n       register: installed_packages\n       until: installed_packages is succeeded\n@@ -17,7 +17,6 @@\n         - 'install/{{ ansible_os_family }}.yml'\n       loop_control:\n         loop_var: install_task\n-      ignore_errors: true\n \n     - name: Find java_folder\n       find:"
            },
            {
                "sha": "9a3f717c8fae226b9a9e8adf524b721e5c7622fe",
                "filename": "tasks/Linux/fetch/security-fetch/security-fetch-local.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/security-fetch/security-fetch-local.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/security-fetch/security-fetch-local.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n - name: Copy security policy artifact to destination\n   copy:\n     src: '{{ java_unlimited_policy_transport_local }}'\n-    dest: '{{ download_path }}'\n+    dest: '{{ java_download_path }}'\n   register: policy_file_downloaded\n   retries: 5\n   delay: 2"
            },
            {
                "sha": "30bf01be9656d2b8028e33b5c3dab3591489041f",
                "filename": "tasks/Linux/fetch/s3.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/s3.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/s3.yml",
                "status": "modified",
                "patch": "@@ -3,7 +3,7 @@\n   aws_s3:\n     bucket: '{{ transport_s3_bucket }}'\n     object: '{{ transport_s3_path }}'\n-    dest: '{{ download_path }}/{{ transport_s3_path | basename }}'\n+    dest: '{{ java_download_path }}/{{ transport_s3_path | basename }}'\n     aws_access_key: '{{ transport_s3_aws_access_key }}'\n     aws_secret_key: '{{ transport_s3_aws_secret_key }}'\n     mode: get\n@@ -15,4 +15,4 @@\n - name: Set downloaded artifact vars\n   set_fact:\n     file_downloaded:\n-      dest: '{{ download_path }}/{{ transport_s3_path | basename }}'\n+      dest: '{{ java_download_path }}/{{ transport_s3_path | basename }}'"
            },
            {
                "sha": "634f286caee070770883b5eaacad23033fa685a2",
                "filename": "tasks/Win32NT/system.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 0,
                "changes": 6,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/system.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/system.yml",
                "status": "modified",
                "patch": "@@ -16,6 +16,12 @@\n     use_regex: true\n   register: java_dir\n \n+- name: Find java_folders\n+  win_find:\n+    paths: '{{ java_path }}'\n+    recurse: true\n+  register: java_dirs\n+\n - name: Set actual java directory\n   set_fact:\n     java_act_path: \"{{ java_dir.files | map(attribute='path') | list | last }}\""
            },
            {
                "sha": "5f9ffe66e17c9791f02825e4be8c5dec92990e55",
                "filename": "tasks/Win32NT/fetch/sapjvm-fallback.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/sapjvm-fallback.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/sapjvm-fallback.yml",
                "status": "modified",
                "patch": "@@ -14,12 +14,12 @@\n           + '[\\d.]+-windows-x64.zip)')\n       }}\n \n-- name: 'Download artifact '\n+- name: Download sapjvm artifact\n   win_get_url:\n     url: '{{ sapjvm_root_page }}/{{ release_url[0] }}'\n     headers:\n       Cookie: eula_3_1_agreed=tools.hana.ondemand.com/developer-license-3_1.txt\n-    dest: '{{ download_path }}'\n+    dest: '{{ java_download_path }}'\n     force: false\n   register: file_downloaded\n   retries: 20"
            },
            {
                "sha": "f421a24af4ec2621d2856842ec477aab5fe5453f",
                "filename": "tasks/Linux/fetch/openjdk-fallback.yml",
                "previous_filename": null,
                "additions": 22,
                "deletions": 4,
                "changes": 26,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/openjdk-fallback.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/openjdk-fallback.yml",
                "status": "modified",
                "patch": "@@ -1,16 +1,34 @@\n ---\n - name: 'Fetch root page {{ openjdk_root_page }}'\n   uri:\n-    url: '{{ openjdk_root_page }}/{{ java_major_version }}/'\n+    url: '{{ openjdk_root_page }}'\n     return_content: true\n   register: root_page\n \n+- name: Find GA release version\n+  set_fact:\n+    java_major_version: >-\n+      {{ root_page['content']\n+        | regex_findall('Ready for use:.*>JDK ([\\d]+)<')\n+        | first\n+      }}\n+\n+- name: Out java_major_version\n+  debug:\n+    var: java_major_version\n+\n+- name: Fetch GA release page\n+  uri:\n+    url: '{{ openjdk_root_page }}/{{ java_major_version }}/'\n+    return_content: true\n+  register: ga_release_page\n+\n - name: Find release url\n   set_fact:\n     release_url: >-\n-      {{ root_page['content']\n+      {{ ga_release_page['content']\n         | regex_findall('(https://download[\\.\\w]+/java/GA/jdk'\n-          + java_major_version|string + '[.\\d]+/[\\d\\w]+/'\n+          + java_major_version|string + '[.\\d]*/[\\d\\w]+/'\n           + '[.\\d]+/GPL/openjdk-'\n           + java_major_version|string + '[\\d._]+linux-x64_bin[\\w\\d.]+)')\n       }}\n@@ -29,7 +47,7 @@\n - name: 'Download artifact from {{ release_url[0] }}'\n   get_url:\n     url: '{{ release_url[0] }}'\n-    dest: '{{ download_path }}'\n+    dest: '{{ java_download_path }}'\n     checksum: 'sha256:{{ artifact_checksum.content }}'\n   register: file_downloaded\n   retries: 20"
            },
            {
                "sha": "47b4585cfee8d9a2ca3bd06f9cc5ed22a3878a17",
                "filename": "tasks/Win32NT/fetch/adoptopenjdk-fallback.yml",
                "previous_filename": null,
                "additions": 22,
                "deletions": 30,
                "changes": 52,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/adoptopenjdk-fallback.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/adoptopenjdk-fallback.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,5 @@\n ---\n-- name: 'Fetch download page'\n+- name: Fetch download page\n   win_uri:\n     url: \"{{ adoptopenjdk_api_page }}\\\n       info/releases/\\\n@@ -12,14 +12,14 @@\n     follow_redirects: all\n   register: download_page\n \n-- name: 'Find release url'\n+- name: Find release url\n   set_fact:\n     release_url: >-\n       {{ download_page['content'] |\n       regex_findall('(https://github.com/AdoptOpenJDK/.*\\.zip[.sha256.txt]*)')\n       }}\n \n-- name: 'Exit if AdobtOpenJDK version is not found'\n+- name: Exit if AdobtOpenJDK version is not found\n   fail:\n     msg: 'AdoptOpenJDK version {{ java_major_version }} not found'\n   when: release_url[0] is not defined\n@@ -32,33 +32,25 @@\n \n - name: 'Get artifact checksum from file {{ release_url[1] }}'\n   set_fact:\n-    artifact_checksum: >-\n-      {{ artifact_checksum_file['content'] |\n-      regex_search('([^\\s]+)')\n-      }}\n-\n-- name: 'Set artifact basename'\n-  set_fact:\n-    artifact_url: '{{ release_url[0] }}'\n-    artifact_basename: \"{{ (release_url[0] | urlsplit('path')).split('/')[-1] }}\"\n-\n-- name: 'Get {{ checksum_alg }} checksum of file'\n-  win_stat:\n-    path: '{{ download_path }}\\{{ artifact_basename }}'\n-    get_checksum: true\n-    checksum_algorithm: '{{ checksum_alg }}'\n-  register: artifact\n-\n-- name: 'Download with checksum validation'\n-  include_tasks: fetch_checksum.yml\n-  when: |\n-    not artifact.stat.exists | bool\n-    or artifact.stat.checksum != artifact_checksum\n+    artifact_checksum:\n+      content: >-\n+        {{ artifact_checksum_file['content'] |\n+          regex_search('([^\\s]+)')\n+        }}\n+\n+- name: 'Download artifact from {{ release_url[0] }}'\n+  win_get_url:\n+    url: '{{ release_url[0] }}'\n+    dest: '{{ java_download_path }}'\n+    force: true\n+    checksum: '{{ artifact_checksum.content }}'\n+    checksum_algorithm: sha256\n+  register: file_downloaded\n   retries: 20\n   delay: 5\n-  until: artifact.stat.checksum == artifact_checksum\n+  until: file_downloaded is succeeded\n+  when: ansible_version.full is version('2.8.0', '>=')\n \n-- name: 'Set downloaded artifact vars'\n-  set_fact:\n-    file_downloaded:\n-      dest: '{{ artifact.stat.path }}'\n+- name: Old fetch (Ansible < 2.8)\n+  include_tasks: fetch_fallback_old.yml\n+  when: ansible_version.full is version('2.8.0', '<')"
            },
            {
                "sha": "4b80962e325aaecc2da6b438474426b9541e7df5",
                "filename": "tasks/Linux/fetch/security-fetch/security-fetch-oracle-fallback.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/security-fetch/security-fetch-oracle-fallback.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/security-fetch/security-fetch-oracle-fallback.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n - name: Download security policy artifact from Oracle OTN\n   get_url:\n     url: '{{ fallback_oracle_security_policy_artifacts[java_major_version|int] }}'\n-    dest: '{{ download_path }}'\n+    dest: '{{ java_download_path }}'\n     mode: 0755\n     headers:\n       Cookie: >-"
            },
            {
                "sha": "2bb988448bf49568509575b2985ac70e42b3b8dc",
                "filename": "tasks/Win32NT/fetch/openjdk-fallback.yml",
                "previous_filename": null,
                "additions": 38,
                "deletions": 29,
                "changes": 67,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/openjdk-fallback.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/openjdk-fallback.yml",
                "status": "modified",
                "patch": "@@ -1,18 +1,36 @@\n ---\n-- name: 'Fetch root page {{ java_root_page }}'\n+- name: 'Fetch root page {{ openjdk_root_page }}'\n+  win_uri:\n+    url: '{{ openjdk_root_page }}'\n+    return_content: true\n+  register: root_page\n+\n+- name: Find GA release version\n+  set_fact:\n+    java_major_version: >-\n+      {{ root_page['content']\n+        | regex_findall('Ready for use:.*>JDK ([\\d]+)<')\n+        | first\n+      }}\n+\n+- name: Out java_major_version\n+  debug:\n+    var: java_major_version\n+\n+- name: Fetch GA release page\n   win_uri:\n     url: '{{ openjdk_root_page }}/{{ java_major_version }}/'\n     return_content: true\n     follow_redirects: all\n-  register: root_page\n+  register: ga_release_page\n \n - name: Find release url\n   set_fact:\n     release_url: >-\n-      {{ root_page['content'] |\n+      {{ ga_release_page['content'] |\n       regex_findall('(https://download[\\.\\w]+/java/GA/jdk' +\n       java_major_version|string +\n-      '[.\\d]+/[\\d\\w]+/' +\n+      '[.\\d]*/[\\d\\w]+/' +\n       '[.\\d]+/GPL/openjdk-' +\n       java_major_version|string +\n       '[\\d._]+windows-x64_bin[\\w\\d.]+)')\n@@ -29,28 +47,19 @@\n     return_content: true\n   register: artifact_checksum\n \n-- name: Set artifact basename\n-  set_fact:\n-    artifact_url: '{{ release_url[0] }}'\n-    artifact_basename: \"{{ (release_url[0] | urlsplit('path')).split('/')[-1] }}\"\n-\n-- name: 'Get {{ checksum_alg }} checksum of file'\n-  win_stat:\n-    path: '{{ download_path }}\\{{ artifact_basename }}'\n-    get_checksum: true\n-    checksum_algorithm: '{{ checksum_alg }}'\n-  register: artifact\n-\n-- name: Download with checksum validation\n-  include_tasks: fetch_checksum.yml\n-  when: |\n-    not artifact.stat.exists\n-    or artifact.stat.checksum != artifact_checksum.content\n-  retries: 15\n-  delay: 2\n-  until: artifact.stat.checksum == artifact_checksum.content\n-\n-- name: Set downloaded artifact vars\n-  set_fact:\n-    file_downloaded:\n-      dest: '{{ artifact.stat.path }}'\n+- name: 'Download artifact from {{ release_url[0] }}'\n+  win_get_url:\n+    url: '{{ release_url[0] }}'\n+    dest: '{{ java_download_path }}'\n+    force: true\n+    checksum: '{{ artifact_checksum.content }}'\n+    checksum_algorithm: sha256\n+  register: file_downloaded\n+  retries: 20\n+  delay: 5\n+  until: file_downloaded is succeeded\n+  when: ansible_version.full is version('2.8.0', '>=')\n+\n+- name: Old fetch (Ansible < 2.8)\n+  include_tasks: fetch_fallback_old.yml\n+  when: ansible_version.full is version('2.8.0', '<')"
            },
            {
                "sha": "f49335b92676307b2917ed8ba5fc14918e277121",
                "filename": "tasks/Win32NT/fetch/security-fetch/security-winfetch-oracle-fallback.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 2,
                "changes": 3,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/security-fetch/security-winfetch-oracle-fallback.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/security-fetch/security-winfetch-oracle-fallback.yml",
                "status": "modified",
                "patch": "@@ -3,9 +3,8 @@\n   win_get_url:\n     url: '{{ fallback_oracle_security_policy_artifacts[java_major_version|int] }}'\n     dest: >-\n-      {{ download_path }}\\{{ (fallback_oracle_security_policy_artifacts[java_major_version|int]\n+      {{ java_download_path }}\\{{ (fallback_oracle_security_policy_artifacts[java_major_version|int]\n         | urlsplit('path')).split('/')[-1] }}\n-    mode: 0755\n     headers:\n       Cookie: 'oraclelicense=accept-securebackup-cookie'\n     force: false"
            },
            {
                "sha": "aeb19aff80ab35b2f96c988c40576875d3981797",
                "filename": "tasks/Linux/fetch/security-fetch/security-fetch-s3.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/security-fetch/security-fetch-s3.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/security-fetch/security-fetch-s3.yml",
                "status": "modified",
                "patch": "@@ -3,7 +3,7 @@\n   aws_s3:\n     bucket: '{{ java_unlimited_policy_transport_s3_bucket }}'\n     object: '{{ java_unlimited_policy_transport_s3_path }}'\n-    dest: \"{{ download_path }}/\\\n+    dest: \"{{ java_download_path }}/\\\n       {{ java_unlimited_policy_transport_s3_path|basename }}\"\n     aws_access_key: '{{ transport_s3_aws_access_key }}'\n     aws_secret_key: '{{ transport_s3_aws_secret_key }}'\n@@ -15,5 +15,5 @@\n - name: Downloaded security policy artifact\n   set_fact:\n     security_policy_java_artifact: >\n-      {{ download_path }}/{{ java_unlimited_policy_transport_s3_path\n+      {{ java_download_path }}/{{ java_unlimited_policy_transport_s3_path\n                              | basename }}"
            },
            {
                "sha": "45b3998a181551dd87ca694f58812b0aca998d28",
                "filename": "tasks/Linux/fetch/security-fetch/security-fetch-web.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/security-fetch/security-fetch-web.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/security-fetch/security-fetch-web.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n - name: Download security policy artifact from web\n   get_url:\n     url: '{{ java_unlimited_policy_url }}'\n-    dest: '{{ download_path }}'\n+    dest: '{{ java_download_path }}'\n   register: policy_file_downloaded\n   retries: 3\n   delay: 2"
            },
            {
                "sha": "8c28c7ebbe725c2ccf726a39d2e9263fd58b2106",
                "filename": "tasks/Win32NT/fetch/local.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/local.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/local.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n - name: Copy artifact to destination\n   win_copy:\n     src: '{{ transport_local }}'\n-    dest: '{{ download_path }}\\'\n+    dest: '{{ java_download_path }}\\'\n   register: file_downloaded\n   retries: 5\n   delay: 2"
            },
            {
                "sha": "ab7bc4fdf7c71966ae738bf6c05ec00e519ee23e",
                "filename": "tasks/Win32NT/fetch/zulu-fallback.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/zulu-fallback.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/zulu-fallback.yml",
                "status": "modified",
                "patch": "@@ -28,7 +28,7 @@\n \n   - name: 'Get {{ checksum_alg }} checksum of file'\n     win_stat:\n-      path: '{{ download_path }}\\{{ artifact_basename }}'\n+      path: '{{ java_download_path }}\\{{ artifact_basename }}'\n       get_checksum: true\n       checksum_algorithm: '{{ checksum_alg }}'\n     register: artifact"
            },
            {
                "sha": "ee4d6746b44114fc557a675a2eeb7182f1d8a34b",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/meta/main.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/meta/main.yml",
                "status": "modified",
                "patch": "@@ -20,6 +20,10 @@ galaxy_info:\n       versions:\n         - \"6\"\n         - \"7\"\n+    - name: \"Amazon\"\n+      versions:\n+        - \"2017.12\"\n+        - \"Candidate\"\n     - name: \"Windows\"\n       versions:\n         - \"all\""
            },
            {
                "sha": "962b887b19d9682a42e535dff9a1943be1a8d8e5",
                "filename": "tasks/Linux/fetch/local.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/local.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/local.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n - name: Copy artifact to destination\n   copy:\n     src: '{{ transport_local }}'\n-    dest: '{{ download_path }}'\n+    dest: '{{ java_download_path }}'\n   register: file_downloaded\n   retries: 5\n   delay: 2"
            },
            {
                "sha": "8b2f6721b3113b665688926630d91da3d0f20e8e",
                "filename": "tasks/Win32NT/fetch/fetch_checksum.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/fetch_checksum.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/fetch_checksum.yml",
                "status": "modified",
                "patch": "@@ -2,12 +2,12 @@\n - name: 'Download artifact from {{ artifact_url }}'\n   win_get_url:\n     url: '{{ artifact_url }}'\n-    dest: '{{ download_path }}\\{{ artifact_basename }}'\n+    dest: '{{ java_download_path }}\\{{ artifact_basename }}'\n     force: true\n \n - name: 'Get {{ checksum_alg }} checksum of file'\n   win_stat:\n-    path: '{{ download_path }}\\{{ artifact_basename }}'\n+    path: '{{ java_download_path }}\\{{ artifact_basename }}'\n     get_checksum: true\n     checksum_algorithm: '{{ checksum_alg }}'\n   register: artifact"
            },
            {
                "sha": "58954bf08c9ca695f62ac6eb3972a8aa94bb4760",
                "filename": "tasks/Linux/fetch/adoptopenjdk-fallback.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/adoptopenjdk-fallback.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Linux/fetch/adoptopenjdk-fallback.yml",
                "status": "modified",
                "patch": "@@ -40,7 +40,7 @@\n - name: 'Download artifact from {{ release_url[0] }}'\n   get_url:\n     url: '{{ release_url[0] }}'\n-    dest: '{{ download_path }}'\n+    dest: '{{ java_download_path }}'\n     checksum: 'sha256:{{ artifact_checksum }}'\n   register: file_downloaded\n   retries: 20"
            },
            {
                "sha": "d336e253039efc864e0ce9f5132acefe4c46ace1",
                "filename": "tasks/Win32NT/fetch/security-fetch/security-winfetch-local.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/lean-delivery/ansible-role-java/blob/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/security-fetch/security-winfetch-local.yml",
                "raw_url": "https://github.com/lean-delivery/ansible-role-java/raw/892b2386950bf02321ff63298bd7f2c6864faab3/tasks/Win32NT/fetch/security-fetch/security-winfetch-local.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n - name: Copy security policy artifact to destination\n   win_copy:\n     src: '{{ java_unlimited_policy_transport_local }}'\n-    dest: '{{ download_path }}'\n+    dest: '{{ java_download_path }}'\n   register: policy_file_downloaded\n   retries: 5\n   delay: 2"
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjY3ODg5OA==",
        "author_name": "Brian Tomlinson",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "Fix #310, byo node gluster var fix (#311)\n\n* Update  in sample inventories\r\n\r\n* Applies to #310. Don't set fact.\r\n\r\nDon't set fact based on 'cns_node_glusterfs_volume' unless\r\n'glusterfs_devices' is undefined or of zero length. This is the\r\nfirst task outlined in #310.",
        "sha": "a2f9b0bd7bac6ce820356e44c9fa10e8ce7ae7a2",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/a2f9b0bd7bac6ce820356e44c9fa10e8ce7ae7a2",
        "parents": [
            "d0f6ac2771e1c1c802abae8654c93e90828a312c"
        ],
        "files": [
            {
                "sha": "af0068a8b88b3c08d7dda6d45d25b8ccd9c3f6f0",
                "filename": "playbooks/openshift/pre-install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/a2f9b0bd7bac6ce820356e44c9fa10e8ce7ae7a2/playbooks/openshift/pre-install.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/a2f9b0bd7bac6ce820356e44c9fa10e8ce7ae7a2/playbooks/openshift/pre-install.yml",
                "status": "modified",
                "patch": "@@ -72,4 +72,4 @@\n     - set_fact:\n        glusterfs_devices:\n          - \"{{ hostvars['localhost'].cns_node_glusterfs_volume }}\"\n-\n+      when: glusterfs_devices is not defined or (glusterfs_devices | default([]) | length == 0)"
            }
        ]
    },
    {
        "repo": "viasite-ansible/ansible-role-zsh",
        "author_id": "MDQ6VXNlcjMwMjcxMjY=",
        "author_name": "Stanislav Popov",
        "committer_id": "MDQ6VXNlcjMwMjcxMjY=",
        "committer_name": "Stanislav Popov",
        "committer_email": "popstas@gmail.com",
        "message": "fix: skip early compinit execute on Ubuntu\n\nCloses #9",
        "sha": "f581c7b9b12baa881bb60098dcafcc75f1a90b93",
        "url": "https://api.github.com/repos/viasite-ansible/ansible-role-zsh/commits/f581c7b9b12baa881bb60098dcafcc75f1a90b93",
        "parents": [
            "ee84bf3683ab39974404f67735d0f402f3ae5f9d"
        ],
        "files": [
            {
                "sha": "8de2e5df3c91495619ba9068a1e29d77691ec09d",
                "filename": "tasks/configure.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 0,
                "changes": 8,
                "blob_url": "https://github.com/viasite-ansible/ansible-role-zsh/blob/f581c7b9b12baa881bb60098dcafcc75f1a90b93/tasks/configure.yml",
                "raw_url": "https://github.com/viasite-ansible/ansible-role-zsh/raw/f581c7b9b12baa881bb60098dcafcc75f1a90b93/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -38,3 +38,11 @@\n   user:\n     name: \"{{ zsh_user }}\"\n     shell: /bin/zsh\n+\n+- name: Add skip_global_compinit for disable early compinit call in Ubuntu\n+  lineinfile:\n+    regexp: \"skip_global_compinit=1\"\n+    line: \"skip_global_compinit=1\"\n+    dest: /etc/zsh/zshenv\n+    state: present\n+  when: ansible_distribution == 'Ubuntu'"
            }
        ]
    },
    {
        "repo": "RedHat-EMEA-SSA-Team/stc",
        "author_id": "MDQ6VXNlcjE0NDYxMjY=",
        "author_name": "Natale Vinto",
        "committer_id": "MDQ6VXNlcjE0NDYxMjY=",
        "committer_name": "Natale Vinto",
        "committer_email": "nvinto@redhat.com",
        "message": "Fix typo resolves #55",
        "sha": "ce0921cf63ee0aec70d171a4ade5e2acb6739c4c",
        "url": "https://api.github.com/repos/RedHat-EMEA-SSA-Team/stc/commits/ce0921cf63ee0aec70d171a4ade5e2acb6739c4c",
        "parents": [
            "786ebef5fb8b9dcbf1a7f45f5ed106ced683570a"
        ],
        "files": [
            {
                "sha": "934dde6d4fd48b4887af50cd994392a0755d4615",
                "filename": "playbooks/roles/check_glusterfs/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/RedHat-EMEA-SSA-Team/stc/blob/ce0921cf63ee0aec70d171a4ade5e2acb6739c4c/playbooks/roles/check_glusterfs/tasks/main.yml",
                "raw_url": "https://github.com/RedHat-EMEA-SSA-Team/stc/raw/ce0921cf63ee0aec70d171a4ade5e2acb6739c4c/playbooks/roles/check_glusterfs/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -11,6 +11,6 @@\n - name: Signal if NTP is not enable or synchronized\n   debug:\n     msg: |\n-      {{ ntp_enable.stdout }}\n+      {{ ntp_enabled.stdout }}\n   when: ntp_enabled.rc != 0 or ntp_synchronized.rc != 0\n "
            }
        ]
    },
    {
        "repo": "iiab/iiab",
        "author_id": "MDQ6VXNlcjI0NTg5MDc=",
        "author_name": "A Holt",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #399 from holta/master\n\nfix roles/iiab-admin/tasks/main.yml typos for Raspbian With Desktop\r\n\r\ncloses #398",
        "sha": "4004d6c4dd98d1ecd2406a82fc2a82eff4ad06c9",
        "url": "https://api.github.com/repos/iiab/iiab/commits/4004d6c4dd98d1ecd2406a82fc2a82eff4ad06c9",
        "parents": [
            "352a0540d163efd2d44b60e9ea7ef88441f8ad2f",
            "7f7436a99024a735e9e281daa6a2867ae2229686"
        ],
        "files": [
            {
                "sha": "25c38471730781bb4a47a7b7171a4c05e9837756",
                "filename": "roles/iiab-admin/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/iiab/iiab/blob/4004d6c4dd98d1ecd2406a82fc2a82eff4ad06c9/roles/iiab-admin/tasks/main.yml",
                "raw_url": "https://github.com/iiab/iiab/raw/4004d6c4dd98d1ecd2406a82fc2a82eff4ad06c9/roles/iiab-admin/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -31,9 +31,9 @@\n - name: Do the same if running on raspbian\n   template: src=lxde_ssh_warn.sh\n             dest=/home/pi/.config/lxsession/LXDE-pi/\n-  when: lx.stat.isdir is defined and lx.staat.isdir and is_rpi and is_debuntu\n+  when: lx.stat.isdir is defined and lx.stat.isdir and is_rpi and is_debuntu\n \n - name: put a autostart line to check for default password in LXDE\n   lineinfile: line=@/home/pi/.config/lxsession/LXDE-pi/lxde_ssh_warn.sh\n               dest=/home/pi/.config/lxsession/LXDE-pi/autostart\n-  when: lx.stat.isdir is defined and lx.staat.isdir and is_rpi and is_debuntu\n+  when: lx.stat.isdir is defined and lx.stat.isdir and is_rpi and is_debuntu"
            }
        ]
    },
    {
        "repo": "zzet/ansible-rbenv-role",
        "author_id": "MDQ6VXNlcjEwMjMyMDMz",
        "author_name": "MatthiasWinkelmann",
        "committer_id": "MDQ6VXNlcjUxMDc4OA==",
        "committer_name": "Andrew Kumanyaev",
        "committer_email": "me@zzet.org",
        "message": "fixes permission error when installing rbenv system-wide (#62)\n\n* fixes permission error when installing rbenv system-wide",
        "sha": "7c574f3b148b4df43177a5c0fc398ce4bea6ae3e",
        "url": "https://api.github.com/repos/zzet/ansible-rbenv-role/commits/7c574f3b148b4df43177a5c0fc398ce4bea6ae3e",
        "parents": [
            "f4c9663fd9cba1b0bd8c3526cbc47c01bac36efd"
        ],
        "files": [
            {
                "sha": "7b33bac707303b6e19f32cdde3bce60c84841f1b",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 30,
                "deletions": 25,
                "changes": 55,
                "blob_url": "https://github.com/zzet/ansible-rbenv-role/blob/7c574f3b148b4df43177a5c0fc398ce4bea6ae3e/tasks/main.yml",
                "raw_url": "https://github.com/zzet/ansible-rbenv-role/raw/7c574f3b148b4df43177a5c0fc398ce4bea6ae3e/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -13,28 +13,31 @@\n \n \n - name: checkout rbenv_repo for system\n+  become: yes\n   git: >\n     repo={{ rbenv_repo }}\n     dest={{ rbenv_root }}\n     version={{ rbenv.version }}\n-    accept_hostkey=true\n+    accept_hostkey=yes\n     force=yes\n   when: rbenv.env == \"system\"\n   tags:\n     - rbenv\n \n - name: create plugins directory for system\n+  become: yes\n   file: state=directory path={{ rbenv_root }}/plugins\n   when: rbenv.env == \"system\"\n   tags:\n     - rbenv\n \n - name: install plugins for system\n+  become: yes\n   git: >\n     repo={{ item.repo }}\n     dest={{ rbenv_root }}/plugins/{{ item.name }}\n     version={{ item.version }}\n-    accept_hostkey=true\n+    accept_hostkey=yes\n     force=yes\n   with_items: \"{{ rbenv_plugins }}\"\n   when: rbenv.env == \"system\"\n@@ -46,23 +49,23 @@\n     repo={{ rbenv_repo }}\n     dest={{ rbenv_root }}\n     version={{ rbenv.version }}\n-    accept_hostkey=true\n+    accept_hostkey=yes\n     force=yes\n   with_items: \"{{ rbenv_users }}\"\n-  become: true\n+  become: yes\n   become_user: \"{{ item }}\"\n   when: rbenv.env != \"system\"\n-  ignore_errors: true\n+  ignore_errors: yes\n   tags:\n     - rbenv\n \n - name: create plugins directory for selected users\n   file: state=directory path={{ rbenv_root }}/plugins\n   with_items: \"{{ rbenv_users }}\"\n-  become: true\n+  become: yes\n   become_user: \"{{ item }}\"\n   when: rbenv.env != \"system\"\n-  ignore_errors: true\n+  ignore_errors: yes\n   tags:\n     - rbenv\n \n@@ -71,21 +74,21 @@\n     repo={{ item[1].repo }}\n     dest={{ rbenv_root }}/plugins/{{ item[1].name }}\n     version={{ item[1].version }}\n-    accept_hostkey=true\n+    accept_hostkey=yes\n     force=yes\n   with_nested:\n     - \"{{ rbenv_users }}\"\n     - \"{{ rbenv_plugins }}\"\n-  become: true\n+  become: yes\n   become_user: \"{{ item[0] }}\"\n   when: rbenv.env != \"system\"\n-  ignore_errors: true\n+  ignore_errors: yes\n   tags:\n     - rbenv\n \n - name: add rbenv initialization to profile system-wide\n   template: src=rbenv.sh.j2 dest=/etc/profile.d/rbenv.sh owner=root group=root mode=0755\n-  become: true\n+  become: yes\n   when:\n     - ansible_os_family != 'OpenBSD'\n   tags:\n@@ -94,44 +97,44 @@\n - name: set default-gems for select users\n   copy: src=default-gems dest={{ rbenv_root }}/default-gems\n   with_items: \"{{ rbenv_users }}\"\n-  become: true\n+  become: yes\n   become_user: \"{{ item }}\"\n   when:\n     - not \"system\" == \"{{ rbenv.env }}\"\n     - default_gems_file is not defined\n-  ignore_errors: true\n+  ignore_errors: yes\n   tags:\n     - rbenv\n \n - name: set custom default-gems for select users\n   copy: src={{ default_gems_file }} dest={{ rbenv_root }}/default-gems\n   with_items: \"{{ rbenv_users }}\"\n-  become: true\n+  become: yes\n   become_user: \"{{ item }}\"\n   when:\n     - not \"system\" == \"{{ rbenv.env }}\"\n     - default_gems_file is defined\n-  ignore_errors: true\n+  ignore_errors: yes\n   tags:\n     - rbenv\n \n - name: set gemrc for select users\n   copy: src=gemrc dest=~/.gemrc\n   with_items: \"{{ rbenv_users }}\"\n-  become: true\n+  become: yes\n   become_user: \"{{ item }}\"\n   when: rbenv.env != \"system\"\n-  ignore_errors: true\n+  ignore_errors: yes\n   tags:\n     - rbenv\n \n - name: set vars for select users\n   copy: src=vars dest={{ rbenv_root }}/vars\n   with_items: \"{{ rbenv_users }}\"\n-  become: true\n+  become: yes\n   become_user: \"{{ item }}\"\n   when: rbenv.env != \"system\"\n-  ignore_errors: true\n+  ignore_errors: yes\n   tags:\n     - rbenv\n \n@@ -147,6 +150,7 @@\n \n - name: install ruby {{ rbenv.ruby_version }} for system\n   shell: bash -lc \"rbenv install {{ rbenv.ruby_version }}\"\n+  become: yes\n   when:\n     - rbenv.env == \"system\"\n     - ruby_installed.rc != 0\n@@ -164,6 +168,7 @@\n     - rbenv\n \n - name: set ruby {{ rbenv.ruby_version }} for system\n+  become: yes\n   shell: bash -lc \"rbenv global {{ rbenv.ruby_version }} && rbenv rehash\"\n   when:\n     - rbenv.env == \"system\"\n@@ -173,7 +178,7 @@\n \n - name: check ruby {{ rbenv.ruby_version }} installed for select users\n   shell: $SHELL -lc \"rbenv versions | grep {{ rbenv.ruby_version }}\"\n-  become: true\n+  become: yes\n   become_user: \"{{ item }}\"\n   with_items: \"{{ rbenv_users }}\"\n   when: rbenv.env != \"system\"\n@@ -186,21 +191,21 @@\n \n - name: install ruby {{ rbenv.ruby_version }} for select users\n   shell: $SHELL -lc \"rbenv install {{ rbenv.ruby_version }}\"\n-  become: true\n+  become: yes\n   become_user: \"{{ item[1] }}\"\n   with_together:\n     - \"{{ ruby_installed.results }}\"\n     - \"{{ rbenv_users }}\"\n   when:\n     - rbenv.env != \"system\"\n     - item[0].rc != 0\n-  ignore_errors: true\n+  ignore_errors: yes\n   tags:\n     - rbenv\n \n - name: check if user ruby version is {{ rbenv.ruby_version }}\n   shell: $SHELL -lc \"rbenv version | cut -d ' ' -f 1 | grep -Fx '{{ rbenv.ruby_version }}'\"\n-  become: true\n+  become: yes\n   become_user: \"{{ item }}\"\n   with_items: \"{{ rbenv_users }}\"\n   when: rbenv.env != \"system\"\n@@ -213,14 +218,14 @@\n \n - name: set ruby {{ rbenv.ruby_version }} for select users\n   shell: $SHELL -lc \"rbenv global {{ rbenv.ruby_version }} && rbenv rehash\"\n-  become: true\n+  become: yes\n   become_user: \"{{ item[1] }}\"\n   with_together:\n     - \"{{ ruby_selected.results }}\"\n     - \"{{ rbenv_users }}\"\n   when:\n     - rbenv.env != \"system\"\n     - item[0].rc != 0\n-  ignore_errors: true\n+  ignore_errors: yes\n   tags:\n     - rbenv"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fixes #374 - Remove composer vendor/bin from $PATH\n\nRemoving since it exposes a privilege escalation vulnerability.",
        "sha": "8e7fe9e75620032dc87aaaf28329a4471e3fc52c",
        "url": "https://api.github.com/repos/roots/trellis/commits/8e7fe9e75620032dc87aaaf28329a4471e3fc52c",
        "parents": [
            "790265fdf6eca378828e9afbe3b823eb5dc09f11"
        ],
        "files": [
            {
                "sha": "cc2e282cc9d118d36a51d6ae779f7728983c7d56",
                "filename": "roles/composer/tasks/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 7,
                "changes": 7,
                "blob_url": "https://github.com/roots/trellis/blob/8e7fe9e75620032dc87aaaf28329a4471e3fc52c/roles/composer/tasks/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/8e7fe9e75620032dc87aaaf28329a4471e3fc52c/roles/composer/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -10,13 +10,6 @@\n   register: composer_update_result\n   changed_when: composer_update_result | success and 'already using composer version' not in composer_update_result.stderr\n \n-- name: add Composer vendor binary path\n-  lineinfile:\n-    dest: /etc/environment\n-    regexp: ^PATH=\"(((?!:./vendor/bin).)*)\"\n-    line: PATH=\"\\1:./vendor/bin\"\n-    backrefs: yes\n-\n - name: Composer config github-oauth\n   command: composer config -g github-oauth.github.com {{ composer_github_oauth_token }}\n   when: composer_github_oauth_token is defined"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #52: Solr 6.3.0 temporary files permissions fix.",
        "sha": "8697b27085612cde54f2a9486f00e3d1b996a8f4",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/8697b27085612cde54f2a9486f00e3d1b996a8f4",
        "parents": [
            "dbb2cd21013287aab42227b0ea14184ec53971c4"
        ],
        "files": [
            {
                "sha": "aa32ea430b8f0dfdd6c46e29e7c90543c6a83dc9",
                "filename": "tasks/install.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/8697b27085612cde54f2a9486f00e3d1b996a8f4/tasks/install.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/8697b27085612cde54f2a9486f00e3d1b996a8f4/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -3,6 +3,9 @@\n   yum: name=lsof state=present\n   when: ansible_os_family == \"RedHat\"\n \n+- name: Ensure setfacl support is present.\n+  package: name=acl state=present\n+\n - name: Run Solr installation script.\n   shell: >\n     {{ solr_workspace }}/{{ solr_filename }}/bin/install_solr_service.sh"
            }
        ]
    },
    {
        "repo": "elastic/ansible-elasticsearch",
        "author_id": "MDQ6VXNlcjg1ODIzNTE=",
        "author_name": "Julien Mailleret",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "fix ''dict object has no attribute dict_keys\" issue with python3 (#578)\n\nIn Python2, the dict.keys(), dict.values(), and dict.items() methods returns a list. Jinja2 returns that to Ansible via a string representation that Ansible can turn back into a list. In Python3, those methods return a dictionary view object.\r\nresource: https://docs.ansible.com/ansible/2.4/playbooks_python_version.html#dictionary-views",
        "sha": "5b1d028bd2f81e343f7dc90c4f5b8b23ad8e80e5",
        "url": "https://api.github.com/repos/elastic/ansible-elasticsearch/commits/5b1d028bd2f81e343f7dc90c4f5b8b23ad8e80e5",
        "parents": [
            "b137ebd6ec29b77e28d8eab667b0f9c81aeb4c68"
        ],
        "files": [
            {
                "sha": "f20c2d2e0d10b39e8c98d4b993e8562374d1bce1",
                "filename": "tasks/elasticsearch-parameters.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/elastic/ansible-elasticsearch/blob/5b1d028bd2f81e343f7dc90c4f5b8b23ad8e80e5/tasks/elasticsearch-parameters.yml",
                "raw_url": "https://github.com/elastic/ansible-elasticsearch/raw/5b1d028bd2f81e343f7dc90c4f5b8b23ad8e80e5/tasks/elasticsearch-parameters.yml",
                "status": "modified",
                "patch": "@@ -22,8 +22,8 @@\n     - es_api_basic_auth_password is not defined\n \n - name: set fact file_reserved_users\n-  set_fact: file_reserved_users={{ es_users.file.keys() | intersect (reserved_xpack_users) }}\n-  when: es_users is defined and es_users.file is defined and (es_users.file.keys() | length > 0) and (es_users.file.keys() | intersect (reserved_xpack_users) | length > 0)\n+  set_fact: file_reserved_users={{ es_users.file.keys() | list | intersect (reserved_xpack_users) }}\n+  when: es_users is defined and es_users.file is defined and (es_users.file.keys() | list | length > 0) and (es_users.file.keys() | list | intersect (reserved_xpack_users) | length > 0)\n \n - name: fail when changing users through file realm\n   fail:"
            },
            {
                "sha": "ab77be1cbb35f90fba39992bcf6f1214982d0c09",
                "filename": "tasks/xpack/security/elasticsearch-security-file.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/elastic/ansible-elasticsearch/blob/5b1d028bd2f81e343f7dc90c4f5b8b23ad8e80e5/tasks/xpack/security/elasticsearch-security-file.yml",
                "raw_url": "https://github.com/elastic/ansible-elasticsearch/raw/5b1d028bd2f81e343f7dc90c4f5b8b23ad8e80e5/tasks/xpack/security/elasticsearch-security-file.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,6 @@\n ---\n - name: set fact manage_file_users\n-  set_fact: manage_file_users=es_users is defined and es_users.file is defined and es_users.file.keys() | length > 0\n+  set_fact: manage_file_users=es_users is defined and es_users.file is defined and es_users.file.keys() | list | length > 0\n \n - name: Check if old users file exists\n   stat:\n@@ -35,7 +35,7 @@\n   check_mode: no\n \n - name: set fact users_to_remove\n-  set_fact: users_to_remove={{ current_file_users.stdout_lines | difference (es_users.file.keys()) }}\n+  set_fact: users_to_remove={{ current_file_users.stdout_lines | difference (es_users.file.keys() | list) }}\n   when: manage_file_users\n \n #Remove users\n@@ -51,7 +51,7 @@\n     ES_HOME: \"{{es_home}}\"\n \n - name: set fact users_to_add\n-  set_fact: users_to_add={{ es_users.file.keys() | difference (current_file_users.stdout_lines) }}\n+  set_fact: users_to_add={{ es_users.file.keys() | list | difference (current_file_users.stdout_lines) }}\n   when: manage_file_users\n \n #Add users\n@@ -72,7 +72,7 @@\n   become: yes\n   command: >\n     {{es_home}}/bin/{{es_xpack_users_command}} passwd {{ item }} -p {{es_users.file[item].password}}\n-  with_items: \"{{ es_users.file.keys() | default([]) }}\"\n+  with_items: \"{{ es_users.file.keys() | list }}\"\n   when: manage_file_users\n   #Currently no easy way to figure out if the password has changed or to know what it currently is so we can skip.\n   changed_when: False"
            },
            {
                "sha": "6235952eca5fc2e428d3e7fedd592f191ea0e5c5",
                "filename": "tasks/xpack/security/elasticsearch-security-native.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 10,
                "changes": 20,
                "blob_url": "https://github.com/elastic/ansible-elasticsearch/blob/5b1d028bd2f81e343f7dc90c4f5b8b23ad8e80e5/tasks/xpack/security/elasticsearch-security-native.yml",
                "raw_url": "https://github.com/elastic/ansible-elasticsearch/raw/5b1d028bd2f81e343f7dc90c4f5b8b23ad8e80e5/tasks/xpack/security/elasticsearch-security-native.yml",
                "status": "modified",
                "patch": "@@ -7,14 +7,14 @@\n \n - name: set fact manage_native_users to true\n   set_fact: manage_native_users=true\n-  when: es_users is defined and es_users.native is defined and es_users.native.keys() | length > 0\n+  when: es_users is defined and es_users.native is defined and es_users.native.keys() | list | length > 0\n \n - name: set fact manage_native_role to false\n   set_fact: manage_native_roles=false\n \n - name: set fact manange_native_roles to true\n   set_fact: manage_native_roles=true\n-  when: es_roles is defined and es_roles.native is defined and es_roles.native.keys() | length > 0\n+  when: es_roles is defined and es_roles.native is defined and es_roles.native.keys() | list | length > 0\n \n #If the node has just has security installed it maybe either stopped or started 1. if stopped, we need to start to load native realms 2. if started, we need to restart to load\n \n@@ -37,7 +37,7 @@\n \n #Current users not inc. those reserved\n - name: set fact current_users equals user_list_response.json.keys not including reserved\n-  set_fact: current_users={{ user_list_response.json.keys() | difference (reserved_users) }}\n+  set_fact: current_users={{ user_list_response.json.keys() | list | difference (reserved_users) }}\n   when: manage_native_users\n \n #We are changing the es_api_basic_auth_username password, so we need to do it first and update the param\n@@ -67,7 +67,7 @@\n \n #Identify users that are present in ES but not declared and thus should be removed\n - name: set fact users_to_remove\n-  set_fact: users_to_remove={{ current_users | difference ( native_users.keys() ) }}\n+  set_fact: users_to_remove={{ current_users | difference ( native_users.keys() | list) }}\n   when: manage_native_users\n \n #Delete all non required users NOT inc. reserved\n@@ -83,7 +83,7 @@\n   with_items: \"{{ users_to_remove | default([]) }}\"\n \n - name: set fact users_to_ignore\n-  set_fact: users_to_ignore={{ native_users.keys() | intersect (reserved_users) }}\n+  set_fact: users_to_ignore={{ native_users.keys() | list | intersect (reserved_users) }}\n   when: manage_native_users\n \n - name: debug message\n@@ -107,7 +107,7 @@\n   with_items: \"{{ users_to_ignore | default([]) }}\"\n \n - name: set fact users_to_modify\n-  set_fact: users_to_modify={{ native_users.keys() | difference (reserved_users) }}\n+  set_fact: users_to_modify={{ native_users.keys() | list | difference (reserved_users) }}\n   when: manage_native_users\n \n #Overwrite all other users NOT inc. those reserved\n@@ -146,11 +146,11 @@\n   when: manage_native_roles\n \n - name: set fact current roles\n-  set_fact: current_roles={{ role_list_response.json.keys() | difference (reserved_roles) }}\n+  set_fact: current_roles={{ role_list_response.json.keys() | list | difference (reserved_roles) }}\n   when: manage_native_roles\n \n - name: set fact roles to ignore\n-  set_fact: roles_to_ignore={{ es_roles.native.keys() | intersect (reserved_roles) | default([]) }}\n+  set_fact: roles_to_ignore={{ es_roles.native.keys() | list | intersect (reserved_roles) | default([]) }}\n   when: manage_native_roles\n \n - name: debug message\n@@ -159,7 +159,7 @@\n   when: manage_native_roles and roles_to_ignore | length > 0\n \n - name: set fact roles_to_remove\n-  set_fact: roles_to_remove={{ current_roles | difference ( es_roles.native.keys()  ) }}\n+  set_fact: roles_to_remove={{ current_roles | difference ( es_roles.native.keys() | list) }}\n   when: manage_native_roles\n \n #Delete all non required roles NOT inc. reserved\n@@ -175,7 +175,7 @@\n   with_items: \"{{roles_to_remove | default([]) }}\"\n \n - name: set fact roles_to_modify\n-  set_fact: roles_to_modify={{ es_roles.native.keys() | difference (reserved_roles) }}\n+  set_fact: roles_to_modify={{ es_roles.native.keys() | list | difference (reserved_roles) }}\n   when: manage_native_roles\n \n #Update other roles - NOT inc. reserved roles"
            }
        ]
    },
    {
        "repo": "lae/ansible-role-netbox",
        "author_id": "MDQ6VXNlcjEzMTgwMTM=",
        "author_name": "Musee Ullah",
        "committer_id": "MDQ6VXNlcjEzMTgwMTM=",
        "committer_name": "Musee Ullah",
        "committer_email": "lae@lae.is",
        "message": "Ansible 2.5.x+ support, fixes #25\n\nMerge branch 'hotfix/ansible2.5' into master",
        "sha": "ceaeab700e4c0f852d9878ad9cc5ac107ca9f09c",
        "url": "https://api.github.com/repos/lae/ansible-role-netbox/commits/ceaeab700e4c0f852d9878ad9cc5ac107ca9f09c",
        "parents": [
            "9d50da809318d679a553f5db289cd69306179adc",
            "ab7e407f6c441110f68417b7071f50c2a3785197"
        ],
        "files": [
            {
                "sha": "ed36c642a818bcd831e6421ef3435ba2e67c3bd0",
                "filename": "tasks/generate_secret_key.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/lae/ansible-role-netbox/blob/ceaeab700e4c0f852d9878ad9cc5ac107ca9f09c/tasks/generate_secret_key.yml",
                "raw_url": "https://github.com/lae/ansible-role-netbox/raw/ceaeab700e4c0f852d9878ad9cc5ac107ca9f09c/tasks/generate_secret_key.yml",
                "status": "modified",
                "patch": "@@ -3,6 +3,8 @@\n   shell: \"{{ netbox_current_path }}/netbox/generate_secret_key.py | tr -d $'\\n' > {{ netbox_shared_path }}/generated_secret_key\"\n   args:\n     creates: \"{{ netbox_shared_path }}/generated_secret_key\"\n+  become: True\n+  become_user: \"{{ netbox_user }}\"\n \n - name: Load saved SECRET_KEY\n   slurp:"
            },
            {
                "sha": "cdba1b86779b1520d0d009be69ab4a6176511cc0",
                "filename": "tasks/deploy_netbox.yml",
                "previous_filename": null,
                "additions": 44,
                "deletions": 24,
                "changes": 68,
                "blob_url": "https://github.com/lae/ansible-role-netbox/blob/ceaeab700e4c0f852d9878ad9cc5ac107ca9f09c/tasks/deploy_netbox.yml",
                "raw_url": "https://github.com/lae/ansible-role-netbox/raw/ceaeab700e4c0f852d9878ad9cc5ac107ca9f09c/tasks/deploy_netbox.yml",
                "status": "modified",
                "patch": "@@ -3,6 +3,8 @@\n   file:\n     path: \"{{ item }}\"\n     state: directory\n+    owner: \"{{ netbox_user }}\"\n+    group: \"{{ netbox_group }}\"\n   with_items:\n     - \"{{ netbox_releases_path }}\"\n     - \"{{ netbox_shared_path }}\"\n@@ -28,11 +30,15 @@\n     requirements: \"{{ netbox_current_path }}/requirements.txt\"\n     virtualenv: \"{{ netbox_virtualenv_path }}\"\n     virtualenv_python: \"{{ netbox_python3_binary if (netbox_python == 3) else netbox_python2_binary }}\"\n+  become: True\n+  become_user: \"{{ netbox_user }}\"\n \n - name: Generate NetBox configuration file\n   template:\n     src: templates/configuration.py.j2\n     dest: \"{{ netbox_shared_path }}/configuration.py\"\n+    owner: \"{{ netbox_user }}\"\n+    group: \"{{ netbox_group }}\"\n     mode: 0640\n   notify:\n     - reload netbox.service\n@@ -42,11 +48,15 @@\n     pip:\n       name: django-auth-ldap\n       virtualenv: \"{{ netbox_virtualenv_path }}\"\n+    become: True\n+    become_user: \"{{ netbox_user }}\"\n \n   - name: Generate LDAP configuration for NetBox if enabled\n     template:\n       src: \"{{ netbox_ldap_config_template }}\"\n       dest: \"{{ netbox_shared_path }}/ldap_config.py\"\n+      owner: \"{{ netbox_user }}\"\n+      group: \"{{ netbox_group }}\"\n       mode: 0640\n     notify:\n       - reload netbox.service\n@@ -59,17 +69,23 @@\n     virtualenv: \"{{ netbox_virtualenv_path }}\"\n   when:\n     - netbox_napalm_enabled\n+  become: True\n+  become_user: \"{{ netbox_user }}\"\n \n - name: Symlink NetBox configuration file into the active NetBox release\n   file:\n     src: \"{{ netbox_shared_path }}/configuration.py\"\n     dest: \"{{ netbox_config_path }}/configuration.py\"\n+    owner: \"{{ netbox_user }}\"\n+    group: \"{{ netbox_group }}\"\n     state: link\n \n - name: Symlink/Remove NetBox LDAP configuration file into/from the active NetBox release\n   file:\n     src: \"{{ netbox_shared_path }}/ldap_config.py\"\n     dest: \"{{ netbox_config_path }}/ldap_config.py\"\n+    owner: \"{{ netbox_user }}\"\n+    group: \"{{ netbox_group }}\"\n     state: \"{{ 'link' if netbox_ldap_enabled else 'absent' }}\"\n   notify:\n     - reload netbox.service\n@@ -85,30 +101,34 @@\n   when:\n     - (netbox_stable and netbox_stable_version | version_compare('2.1.4', '<')) or (netbox_git and __netbox_git_contains_media_root_change.rc == 1)\n \n-- name: Run database migrations for NetBox\n-  django_manage:\n-    command: migrate\n-    app_path: \"{{ netbox_current_path }}/netbox\"\n-    virtualenv: \"{{ netbox_virtualenv_path }}\"\n+- block:\n+  - name: Run database migrations for NetBox\n+    django_manage:\n+      command: migrate\n+      app_path: \"{{ netbox_current_path }}/netbox\"\n+      virtualenv: \"{{ netbox_virtualenv_path }}\"\n \n-- name: Create a super user for NetBox\n-  shell: \"printf '{{ netbox_superuser_script }}' | {{ netbox_virtualenv_path }}/bin/python {{ netbox_current_path }}/netbox/manage.py shell\"\n-  register: __netbox_superuser_result\n-  changed_when: \"'changed' in __netbox_superuser_result.stdout\"\n-  when:\n-    - not netbox_ldap_enabled\n+  - name: Create a super user for NetBox\n+    shell: \"printf '{{ netbox_superuser_script }}' | {{ netbox_virtualenv_path }}/bin/python {{ netbox_current_path }}/netbox/manage.py shell\"\n+    register: __netbox_superuser_result\n+    changed_when: \"'changed' in __netbox_superuser_result.stdout\"\n+    when:\n+      - not netbox_ldap_enabled\n \n-- name: Generate static assets for NetBox\n-  django_manage:\n-    command: collectstatic\n-    app_path: \"{{ netbox_current_path }}/netbox\"\n-    virtualenv: \"{{ netbox_virtualenv_path }}\"\n+  - name: Generate static assets for NetBox\n+    django_manage:\n+      command: collectstatic\n+      app_path: \"{{ netbox_current_path }}/netbox\"\n+      virtualenv: \"{{ netbox_virtualenv_path }}\"\n \n-- name: Populate NetBox with initial data\n-  django_manage:\n-    command: loaddata\n-    fixtures: initial_data\n-    app_path: \"{{ netbox_current_path }}/netbox\"\n-    virtualenv: \"{{ netbox_virtualenv_path }}\"\n-  when:\n-    - netbox_load_initial_data\n+  - name: Populate NetBox with initial data\n+    django_manage:\n+      command: loaddata\n+      fixtures: initial_data\n+      app_path: \"{{ netbox_current_path }}/netbox\"\n+      virtualenv: \"{{ netbox_virtualenv_path }}\"\n+    when:\n+      - netbox_load_initial_data\n+\n+  become: True\n+  become_user: \"{{ netbox_user }}\""
            },
            {
                "sha": "9741127c4a63a2eb82f9e8c9b653bc787f0d3514",
                "filename": "tasks/install_via_git.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 0,
                "changes": 8,
                "blob_url": "https://github.com/lae/ansible-role-netbox/blob/ceaeab700e4c0f852d9878ad9cc5ac107ca9f09c/tasks/install_via_git.yml",
                "raw_url": "https://github.com/lae/ansible-role-netbox/raw/ceaeab700e4c0f852d9878ad9cc5ac107ca9f09c/tasks/install_via_git.yml",
                "status": "modified",
                "patch": "@@ -5,10 +5,14 @@\n     dest: \"{{ netbox_git_repo_path }}\"\n     version: \"{{ netbox_git_version }}\"\n   register: __netbox_git_repo\n+  become: True\n+  become_user: \"{{ netbox_user }}\"\n \n - name: Create git deployment directory for NetBox\n   file:\n     path: \"{{ netbox_git_deploy_path }}\"\n+    owner: \"{{ netbox_user }}\"\n+    group: \"{{ netbox_group }}\"\n     state: directory\n \n - name: Check existence of commit 643f64d, affecting MEDIA_ROOT\n@@ -41,9 +45,13 @@\n     - reload netbox.service\n   when:\n     - __netbox_git_repo | changed\n+  become: True\n+  become_user: \"{{ netbox_user }}\"\n \n - name: Symlink git repository to current NetBox directory\n   file:\n     src: \"{{ netbox_git_deploy_path }}\"\n     dest: \"{{ netbox_current_path }}\"\n+    owner: \"{{ netbox_user }}\"\n+    group: \"{{ netbox_group }}\"\n     state: link"
            },
            {
                "sha": "e29567273b7e64597f8940601e7e290c8a8478e0",
                "filename": "tasks/install_via_stable.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/lae/ansible-role-netbox/blob/ceaeab700e4c0f852d9878ad9cc5ac107ca9f09c/tasks/install_via_stable.yml",
                "raw_url": "https://github.com/lae/ansible-role-netbox/raw/ceaeab700e4c0f852d9878ad9cc5ac107ca9f09c/tasks/install_via_stable.yml",
                "status": "modified",
                "patch": "@@ -4,12 +4,16 @@\n     src: \"{{ netbox_stable_uri }}\"\n     dest: \"{{ netbox_releases_path }}\"\n     creates: \"{{ netbox_stable_path }}\"\n+    owner: \"{{ netbox_user }}\"\n+    group: \"{{ netbox_group }}\"\n     remote_src: True\n \n - name: Symlink stable release to current NetBox directory\n   file:\n     src: \"{{ netbox_stable_path }}\"\n     dest: \"{{ netbox_current_path }}\"\n+    owner: \"{{ netbox_user }}\"\n+    group: \"{{ netbox_group }}\"\n     state: link\n   notify:\n     - reload netbox.service"
            },
            {
                "sha": "ddbc107042b24eda13b8553e9d317ba2c408b012",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 2,
                "changes": 2,
                "blob_url": "https://github.com/lae/ansible-role-netbox/blob/ceaeab700e4c0f852d9878ad9cc5ac107ca9f09c/tasks/main.yml",
                "raw_url": "https://github.com/lae/ansible-role-netbox/raw/ceaeab700e4c0f852d9878ad9cc5ac107ca9f09c/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -51,8 +51,6 @@\n     - netbox_database_host is defined\n \n - include: deploy_netbox.yml\n-  become: True\n-  become_user: \"{{ netbox_user }}\"\n \n - name: Install uWSGI via pip\n   pip:"
            }
        ]
    },
    {
        "repo": "RedHat-EMEA-SSA-Team/stc",
        "author_id": "MDQ6VXNlcjM2NjA0",
        "author_name": "Robert Bohne",
        "committer_id": "MDQ6VXNlcjM2NjA0",
        "committer_name": "Robert Bohne",
        "committer_email": "robert.bohne@redhat.com",
        "message": "Fixed Issue #73 - do not remove ~/.ssh/known_hosts  anymore",
        "sha": "2f16ef611509cb3ee9885ae4558e98568ff00808",
        "url": "https://api.github.com/repos/RedHat-EMEA-SSA-Team/stc/commits/2f16ef611509cb3ee9885ae4558e98568ff00808",
        "parents": [
            "f0706344c63eba72b033128f955157e95dbcc95c"
        ],
        "files": [
            {
                "sha": "2ac61eddffcf567f80298b669a46aad6d1a28cb1",
                "filename": "playbooks/prepare_ssh.yml",
                "previous_filename": null,
                "additions": 11,
                "deletions": 12,
                "changes": 23,
                "blob_url": "https://github.com/RedHat-EMEA-SSA-Team/stc/blob/2f16ef611509cb3ee9885ae4558e98568ff00808/playbooks/prepare_ssh.yml",
                "raw_url": "https://github.com/RedHat-EMEA-SSA-Team/stc/raw/2f16ef611509cb3ee9885ae4558e98568ff00808/playbooks/prepare_ssh.yml",
                "status": "modified",
                "patch": "@@ -17,20 +17,19 @@\n   vars_files:\n   - \"{{file_env}}\"\n   tasks:\n-  - set_fact:\n-      ssh_dir: /root/.ssh\n-    when: ssh_user == 'root'\n-  - set_fact:\n-      ssh_dir: \"/home/{{ssh_user}}/.ssh\"\n-    when: ssh_user != 'root'\n-  - name: Remove old known_hosts\n-    file:\n-      path: \"{{ssh_dir}}/known_hosts\"\n-      state: absent\n   - name: Add key to authorized_keys\n     authorized_key:\n       user: \"{{ssh_user}}\"\n       state: present\n-      key: \"{{ lookup('file', ssh_dir+'/id_rsa.pub') }}\"\n+      key: \"{{ lookup('file', '~/.ssh/id_rsa.pub') }}\"\n+  - name: Fetch hostkey\n+    connection: local\n+    command: \"ssh-keyscan {{ inventory_hostname }}\"\n+    register: hostkey\n   - name: Run ssh-keyscan to add keys to known_hosts\n-    local_action: \"shell ssh-keyscan {{ inventory_hostname }} >> {{ssh_dir}}/known_hosts\"\n+    connection: local\n+    known_hosts:\n+      name: \"{{ inventory_hostname }}\"\n+      key: \"{{ item }}\"\n+    with_items: \"{{ hostkey.stdout_lines }}\"\n+    when: hostkey.rc == 0"
            }
        ]
    },
    {
        "repo": "florianutz/Ubuntu1604-CIS",
        "author_id": "MDQ6VXNlcjExOTYwNTg=",
        "author_name": "James Bach",
        "committer_id": "MDQ6VXNlcjEzNjgzNzQz",
        "committer_name": "Florian Utz",
        "committer_email": "florianutz@users.noreply.github.com",
        "message": "Fix grub handler (#17)",
        "sha": "38891b177e6fe36630e927ca0a4aa6ff245413eb",
        "url": "https://api.github.com/repos/florianutz/Ubuntu1604-CIS/commits/38891b177e6fe36630e927ca0a4aa6ff245413eb",
        "parents": [
            "0ce35bc96dee3ef3b4ddb7f5b2dad08b854f2575"
        ],
        "files": [
            {
                "sha": "acd6e50847fa46e8f5aeae2b1d49ce8c4c87d0bd",
                "filename": "handlers/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/38891b177e6fe36630e927ca0a4aa6ff245413eb/handlers/main.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/38891b177e6fe36630e927ca0a4aa6ff245413eb/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -38,7 +38,7 @@\n \n - name: generate new grub config\n   become: true\n-  command: grub2-mkconfig -o \"{{ grub_cfg.stat.lnk_source }}\"\n+  command: grub-mkconfig -o \"{{ grub_cfg.stat.path }}\"\n \n - name: restart firewalld\n   become: true"
            },
            {
                "sha": "72fcf39d155dd20912816d19b9aeb5c2d0e07518",
                "filename": "tasks/prelim.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/florianutz/Ubuntu1604-CIS/blob/38891b177e6fe36630e927ca0a4aa6ff245413eb/tasks/prelim.yml",
                "raw_url": "https://github.com/florianutz/Ubuntu1604-CIS/raw/38891b177e6fe36630e927ca0a4aa6ff245413eb/tasks/prelim.yml",
                "status": "modified",
                "patch": "@@ -210,3 +210,8 @@\n   register: rhnsd_service_status\n   changed_when: false\n   check_mode: false\n+\n+- name: \"PRELIM | Check the grub configuration\"\n+  stat:\n+    path: /boot/grub/grub.cfg\n+  register: grub_cfg"
            }
        ]
    },
    {
        "repo": "m4rcu5nl/ansible-role-zerotier",
        "author_id": "MDQ6VXNlcjEzMDgxNjYz",
        "author_name": "Marcus Meurs",
        "committer_id": "MDQ6VXNlcjEzMDgxNjYz",
        "committer_name": "Marcus Meurs",
        "committer_email": "marcusmeurs@gmail.com",
        "message": "Resolved errors in check-mode\n\nFixes #3",
        "sha": "c90f7556c2d394de74a744df7eea1c19fa69a8f0",
        "url": "https://api.github.com/repos/m4rcu5nl/ansible-role-zerotier/commits/c90f7556c2d394de74a744df7eea1c19fa69a8f0",
        "parents": [
            "9b6296e678f5f1354c787e545439a9ad8ea284a3"
        ],
        "files": [
            {
                "sha": "fc3a08f452c5a078c04f9e467b938fa22d265fde",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/m4rcu5nl/ansible-role-zerotier/blob/c90f7556c2d394de74a744df7eea1c19fa69a8f0/tasks/main.yml",
                "raw_url": "https://github.com/m4rcu5nl/ansible-role-zerotier/raw/c90f7556c2d394de74a744df7eea1c19fa69a8f0/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -5,6 +5,7 @@\n - name: Check for successfully joined networks\n   shell: zerotier-cli listnetworks | grep 'OK'| awk '{print $3}'\n   register: joinednetworks\n+  check_mode: yes\n \n - include_tasks: join_network.yml\n   when:"
            },
            {
                "sha": "26e0213eaa048913e249fb609345b80ee6bb5bdf",
                "filename": "tasks/join_network.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/m4rcu5nl/ansible-role-zerotier/blob/c90f7556c2d394de74a744df7eea1c19fa69a8f0/tasks/join_network.yml",
                "raw_url": "https://github.com/m4rcu5nl/ansible-role-zerotier/raw/c90f7556c2d394de74a744df7eea1c19fa69a8f0/tasks/join_network.yml",
                "status": "modified",
                "patch": "@@ -29,5 +29,6 @@\n \n   when:\n   - zerotier_accesstoken is defined\n+  - not ansible_check_mode\n   tags:\n   - configuration"
            },
            {
                "sha": "3249a31021736b628216b1a276ad3042fffbf3bd",
                "filename": "tasks/install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/m4rcu5nl/ansible-role-zerotier/blob/c90f7556c2d394de74a744df7eea1c19fa69a8f0/tasks/install.yml",
                "raw_url": "https://github.com/m4rcu5nl/ansible-role-zerotier/raw/c90f7556c2d394de74a744df7eea1c19fa69a8f0/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -36,6 +36,7 @@\n \n   when:\n   - zerotier_repo|succeeded\n+  - not ansible_check_mode\n   tags:\n   - installation\n   - packages"
            }
        ]
    },
    {
        "repo": "StackStorm/ansible-st2",
        "author_id": "MDQ6VXNlcjE1MzM4MTg=",
        "author_name": "armab",
        "committer_id": "MDQ6VXNlcjE1MzM4MTg=",
        "committer_name": "armab",
        "committer_email": "armab@users.noreply.github.com",
        "message": "Merge pull request #23 from armab/18-mysql-to-postgresql\n\nMove from MySQL to PostgreSQL for Mistral\r\ncloses #18, closes #8, fixes #25",
        "sha": "82afe0627db4b05dacb3111563e876f74edd89b0",
        "url": "https://api.github.com/repos/StackStorm/ansible-st2/commits/82afe0627db4b05dacb3111563e876f74edd89b0",
        "parents": [
            "e8eb28b4b4b1c4fb2490b8198570166b9ca23ab2",
            "ce1177a17abafd0e681c57a4e7333c0e7c2f5455"
        ],
        "files": [
            {
                "sha": "12db42bf90412963e6eddcfcc17a39810b492a2f",
                "filename": "roles/mistral/tasks/sync.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/tasks/sync.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/tasks/sync.yml",
                "status": "modified",
                "patch": "@@ -2,3 +2,4 @@\n   shell: /opt/openstack/mistral/.venv/bin/python ./tools/sync_db.py --config-file /etc/mistral/mistral.conf\n   args:\n     chdir: /opt/openstack/mistral\n+    creates: /etc/mistral/database_setup.lock"
            },
            {
                "sha": "9e3a35742194d6565a390de34e73bfa462ebae44",
                "filename": "roles/mistral/tasks/config.yml",
                "previous_filename": null,
                "additions": 0,
                "deletions": 6,
                "changes": 6,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/tasks/config.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/tasks/config.yml",
                "status": "modified",
                "patch": "@@ -29,9 +29,3 @@\n     dest: /etc/init/mistral.conf\n   notify:\n     - restart mistral\n-\n-- name: Enable the service\n-  sudo: true\n-  service:\n-    name: mysql\n-    enabled: yes"
            },
            {
                "sha": "7fc8e317a733f132b8b6fa4d87e7d5aa18a24bd1",
                "filename": "roles/mistral/vars/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/vars/main.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/vars/main.yml",
                "status": "modified",
                "patch": "@@ -7,3 +7,5 @@ mistral_branches:\n     then: st2-0.8.1\n   - if: 0.9.0\n     then: st2-0.9.0\n+  - if: 0.13\n+    then: st2-0.13.0"
            },
            {
                "sha": "c460d09606a3f186d380d6d258cf7615742fae2a",
                "filename": "roles/mistral/tasks/install_actions.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/tasks/install_actions.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/tasks/install_actions.yml",
                "status": "modified",
                "patch": "@@ -13,6 +13,6 @@\n \n - name: Install Mistral actions\n   sudo: true\n-  shell: /opt/openstack/mistral/.venv/bin/python setup.py develop\n+  shell: /opt/openstack/mistral/.venv/bin/python setup.py install\n   args:\n     chdir: /etc/mistral/actions/st2mistral"
            },
            {
                "sha": "5493082be6cd2b672046bd6b5641dc00a0f84b86",
                "filename": "roles/mistral/tasks/install_deps.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/tasks/install_deps.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/tasks/install_deps.yml",
                "status": "modified",
                "patch": "@@ -10,9 +10,9 @@\n     - libffi-dev\n     - libxml2-dev\n     - libxslt1-dev\n+    - libpq-dev\n     - python-dev\n     - python-pip\n-    - libmysqlclient-dev\n \n - name: Install pip virtualenv\n   sudo: true"
            },
            {
                "sha": "3811d186813881df1e4668427f7facff4c07d55a",
                "filename": "roles/mistral/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/defaults/main.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1 +1 @@\n-version: 0.9.0\n+version: 0.13"
            },
            {
                "sha": "1a20a8fdec4e0b0259b12f56e0522c84cbf62138",
                "filename": "roles/mistral/tasks/install_mistral.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 7,
                "changes": 9,
                "blob_url": "https://github.com/StackStorm/ansible-st2/blob/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/tasks/install_mistral.yml",
                "raw_url": "https://github.com/StackStorm/ansible-st2/raw/82afe0627db4b05dacb3111563e876f74edd89b0/roles/mistral/tasks/install_mistral.yml",
                "status": "modified",
                "patch": "@@ -10,21 +10,16 @@\n     repo: https://github.com/StackStorm/mistral.git\n     version: \"{{ mistral_branch }}\"\n     dest: /opt/openstack/mistral\n+    force: yes\n \n - name: Install requirements\n   sudo: true\n   pip:\n     requirements: /opt/openstack/mistral/requirements.txt\n     virtualenv: /opt/openstack/mistral/.venv\n \n-- name: Install additional requirements\n-  sudo: true\n-  pip:\n-    name: mysql-python\n-    virtualenv: /opt/openstack/mistral/.venv\n-\n - name: Install Mistral\n   sudo: true\n-  shell: /opt/openstack/mistral/.venv/bin/python setup.py develop\n+  shell: /opt/openstack/mistral/.venv/bin/python setup.py install\n   args:\n     chdir: /opt/openstack/mistral"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjMxMzI0Mzg=",
        "author_name": "Evgeny Aleksandrov",
        "committer_id": "MDQ6VXNlcjE3MDQ0NTYx",
        "committer_name": "Jack Ivanov",
        "committer_email": "17044561+jackivanov@users.noreply.github.com",
        "message": "Fix typo (#960)",
        "sha": "87836e0358c3ae7e408aaae1b6fb11b7a4850064",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/87836e0358c3ae7e408aaae1b6fb11b7a4850064",
        "parents": [
            "9fdbfb0977147beba8fc681a46413e22018b2615"
        ],
        "files": [
            {
                "sha": "003c4761305433b15a94227502407ec5fb608bfe",
                "filename": "roles/vpn/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/trailofbits/algo/blob/87836e0358c3ae7e408aaae1b6fb11b7a4850064/roles/vpn/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/87836e0358c3ae7e408aaae1b6fb11b7a4850064/roles/vpn/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -15,7 +15,7 @@\n     - name: Install strongSwan\n       package: name=strongswan state=present\n \n-    - include_tasks: ipec_configuration.yml\n+    - include_tasks: ipsec_configuration.yml\n     - include_tasks: openssl.yml\n       tags: update-users\n     - include_tasks: distribute_keys.yml"
            },
            {
                "sha": "cc7c21ec0f83e9aeadbb6ab03634edbfd8d9a51c",
                "filename": "roles/vpn/tasks/ipsec_configuration.yml",
                "previous_filename": "roles/vpn/tasks/ipec_configuration.yml",
                "additions": 0,
                "deletions": 0,
                "changes": 0,
                "blob_url": "https://github.com/trailofbits/algo/blob/87836e0358c3ae7e408aaae1b6fb11b7a4850064/roles/vpn/tasks/ipsec_configuration.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/87836e0358c3ae7e408aaae1b6fb11b7a4850064/roles/vpn/tasks/ipsec_configuration.yml",
                "status": "renamed",
                "patch": null
            }
        ]
    },
    {
        "repo": "CSCfi/fgci-ansible",
        "author_id": null,
        "author_name": "Lu\u00eds Alves",
        "committer_id": null,
        "committer_name": "Lu\u00eds Alves",
        "committer_email": "luis.alves@csc.fi",
        "message": "closes #16\n\n - removes ansible-role-fgci-admin role\n - creates virt storage pool\n - removes setting inventory_hostname\n - dont set root_pssword\n - create virt pool once with run_once",
        "sha": "ba79c2af736ef34960a94cd3226ec8f0e019787e",
        "url": "https://api.github.com/repos/fgci-org/fgci-ansible/commits/ba79c2af736ef34960a94cd3226ec8f0e019787e",
        "parents": [
            "4096f71c5fabe7a5bf42f308dc7ce8e3cdf4efe1"
        ],
        "files": [
            {
                "sha": "1d15abbdf9948d62c3927217e6e1a7af3ac8953f",
                "filename": "roles/provision_vm/tasks/main.yml",
                "previous_filename": null,
                "additions": 34,
                "deletions": 6,
                "changes": 40,
                "blob_url": "https://github.com/fgci-org/fgci-ansible/blob/ba79c2af736ef34960a94cd3226ec8f0e019787e/roles/provision_vm/tasks/main.yml",
                "raw_url": "https://github.com/fgci-org/fgci-ansible/raw/ba79c2af736ef34960a94cd3226ec8f0e019787e/roles/provision_vm/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,21 +1,49 @@\n ---\n - name: copy over kickstart file\n-  template: src=\"kickstart.cfg\" dest=\"{{ kickstart_tempdir }}/{{ inventory_hostname }}.ks\"\n+  template: src=\"kickstart.cfg\" dest=\"{{ kickstart_tempdir }}/{{ ansible_hostname }}.ks\"\n   sudo: yes\n   delegate_to: \"{{ hyper }}\"\n \n - name: copy over virt-install script\n-  template: src=\"virt-install.sh\" dest=\"{{ kickstart_tempdir }}/{{ inventory_hostname }}-install.sh\"\n+  template: src=\"virt-install.sh\" dest=\"{{ kickstart_tempdir }}/{{ ansible_hostname }}-install.sh\"\n   sudo: yes\n   delegate_to: \"{{ hyper }}\"\n \n+- name: creates VM disks directory\n+  file: path={{ libvirt_pool_path }} state=directory owner=qemu group=qemu mode=0770\n+  run_once: true\n+  delegate_to: \"{{ hyper }}\"\n+\n+- name: Check libvirt storage pool\n+  command: /usr/bin/virsh pool-info {{ libvirt_pool_name }}\n+  register: libvirt_pool_check\n+  run_once: true\n+  ignore_errors: true\n+  delegate_to: \"{{ hyper }}\"\n+\n+- name: Define libvirt storage pool\n+  command: /usr/bin/virsh pool-define-as {{ libvirt_pool_name }} {{ libvirt_pool_type }} --target {{ libvirt_pool_path }}\n+  run_once: true\n+  when: libvirt_pool_check.rc == 1\n+  delegate_to: \"{{ hyper }}\"\n+\n+- name: Start libvirt storage pool\n+  command: /usr/bin/virsh pool-start {{ libvirt_pool_name }}\n+  run_once: true\n+  delegate_to: \"{{ hyper }}\"\n+\n+- name: set libvirt storage pool autostart\n+  command: /usr/bin/virsh pool-autostart {{ libvirt_pool_name }}\n+  run_once: true\n+  delegate_to: \"{{ hyper }}\"\n+\n - name: run virt-install script\n-  command: \"bash {{ kickstart_tempdir }}/{{ inventory_hostname }}-install.sh\"\n+  command: \"bash {{ kickstart_tempdir }}/{{ ansible_hostname }}-install.sh\"\n   sudo: yes\n   #environment: env_virt_install\n   environment: { http_proxy: \"\" }\n   args:\n-    creates: \"/etc/libvirt/qemu/{{ inventory_hostname }}.xml\"\n+    creates: \"/etc/libvirt/qemu/{{ ansible_hostname }}.xml\"\n   delegate_to: \"{{ hyper }}\"\n \n - name: wait for VM to become available before continuing\n@@ -27,9 +55,9 @@\n   delegate_to: \"{{ hyper }}\"\n \n - name: Remove kickstart file\n-  file: path=\"{{ kickstart_tempdir }}/{{ inventory_hostname }}.ks\" state=absent\n+  file: path=\"{{ kickstart_tempdir }}/{{ ansible_hostname }}.ks\" state=absent\n   delegate_to: \"{{ hyper }}\"\n \n - name: Remove install script\n-  file: path=\"{{ kickstart_tempdir }}/{{ inventory_hostname }}-install.sh\" state=absent\n+  file: path=\"{{ kickstart_tempdir }}/{{ ansible_hostname }}-install.sh\" state=absent\n   delegate_to: \"{{ hyper }}\""
            }
        ]
    },
    {
        "repo": "iiab/iiab",
        "author_id": "MDQ6VXNlcjI0NTg5MDc=",
        "author_name": "A Holt",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Merge pull request #420 from jvonau/sugar\n\nNodejs 6.X - npm is not available standalone\r\n\r\ncloses #419",
        "sha": "380a9dc7e4456910878c7fdc53d04da50d8e4645",
        "url": "https://api.github.com/repos/iiab/iiab/commits/380a9dc7e4456910878c7fdc53d04da50d8e4645",
        "parents": [
            "4e4926255fccd7d9424d9fe21d828e69713e7149",
            "908bb54145aa0e321fca37cee06b6176f686688c"
        ],
        "files": [
            {
                "sha": "bc41f0977993efbd0ce7910e44c96cf2e624f47d",
                "filename": "roles/sugarizer/tasks/main.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 15,
                "changes": 22,
                "blob_url": "https://github.com/iiab/iiab/blob/380a9dc7e4456910878c7fdc53d04da50d8e4645/roles/sugarizer/tasks/main.yml",
                "raw_url": "https://github.com/iiab/iiab/raw/380a9dc7e4456910878c7fdc53d04da50d8e4645/roles/sugarizer/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -12,20 +12,24 @@\n         src={{ sugarizer_location }}/{{ sugarizer_version }}\n         state=link\n \n+- name: Set up apt sources on is_debuntu\n+  shell: curl -sL https://deb.nodesource.com/setup_6.x | bash -\n+  when: internet_available and is_debuntu\n+\n - name: Install sugarizer required packages - is_debuntu\n   package: name={{ item }}\n            state=present\n-  with_items:\n-    - node-gyp\n   when: internet_available and is_debuntu\n+  with_items:\n+    - nodejs\n \n - name: Install npm non is_debuntu\n   package: name={{ item }}\n            state=present\n+  when: internet_available and not is_debuntu\n   with_items:\n     - nodejs\n     - npm\n-  when: internet_available and not is_debuntu\n \n # attempting to reinstall npn is broken on raspbian 9\n - name: check for sugarizer already installed\n@@ -37,18 +41,6 @@\n      npm_exists: True\n   when: npm.stat.exists is defined and npm.stat.exists\n \n-- name: Set up apt sources on is_debuntu\n-  shell: curl -sL https://deb.nodesource.com/setup_6.x | bash -\n-  when: internet_available and is_debuntu\n-\n-- name: Actually get it installed on is_debuntu\n-  package: name={{ item }}\n-           state=present\n-  with_items:\n-    - nodejs\n-    - npm\n-  when: internet_available and is_debuntu\n-\n - name: Create systemd files and copy our ini file \n   template: src={{ item.src }}\n             dest={{ item.dest }}"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-php-xdebug",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #9: A few php .ini files are in the wrong place on Ubuntu.",
        "sha": "54430da1067241aa5fcd13a3e02c676a762a7db3",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-php-xdebug/commits/54430da1067241aa5fcd13a3e02c676a762a7db3",
        "parents": [
            "25a54626dd06a22faa2c622732ab84db89736f78"
        ],
        "files": [
            {
                "sha": "e9d725848624557bc9921c5b1d62a737d6bb742c",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 20,
                "changes": 21,
                "blob_url": "https://github.com/geerlingguy/ansible-role-php-xdebug/blob/54430da1067241aa5fcd13a3e02c676a762a7db3/tasks/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-php-xdebug/raw/54430da1067241aa5fcd13a3e02c676a762a7db3/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -37,23 +37,4 @@\n     creates={{ php_xdebug_module_path }}/xdebug.so\n   notify: restart webserver\n \n-- name: Copy xdebug INI into php.d folder.\n-  template:\n-    src: xdebug.ini.j2\n-    dest: \"{{ php_extension_conf_path }}/xdebug.ini\"\n-    owner: root\n-    group: root\n-    mode: 0644\n-  notify: restart webserver\n-\n-- name: Check for separate cli php conf.d directory.\n-  stat: path=/etc/php5/cli/conf.d\n-  register: php_cli_path\n-  when: php_xdebug_cli_enable\n-\n-- name: Symlink xdebug.ini into separate cli directory if it exists.\n-  file:\n-    src: \"{{ php_extension_conf_path }}/xdebug.ini\"\n-    dest: /etc/php5/cli/conf.d/xdebug.ini\n-    state: link\n-  when: php_xdebug_cli_enable and php_cli_path.stat.isdir is defined and php_cli_path.stat.isdir\n+- include: configure.yml"
            }
        ]
    },
    {
        "repo": "brianshumate/ansible-consul",
        "author_id": "MDQ6VXNlcjEwNjcxNTU5",
        "author_name": "Bas Meijer",
        "committer_id": "MDQ6VXNlcjEwNjcxNTU5",
        "committer_name": "Bas Meijer",
        "committer_email": "bas.meijer@me.com",
        "message": "Fix for #325 for Consul > 1.4.0",
        "sha": "47eb83c431cc68262d286df231c98c0a927b1e8a",
        "url": "https://api.github.com/repos/brianshumate/ansible-consul/commits/47eb83c431cc68262d286df231c98c0a927b1e8a",
        "parents": [
            "ba9f7d378ad95ef9bb2be6c768dd83e81244b795"
        ],
        "files": [
            {
                "sha": "f3cf636f5b2e0ccf1ab10e9cfea6ab9bb4f4dbd4",
                "filename": "tasks/acl.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/brianshumate/ansible-consul/blob/47eb83c431cc68262d286df231c98c0a927b1e8a/tasks/acl.yml",
                "raw_url": "https://github.com/brianshumate/ansible-consul/raw/47eb83c431cc68262d286df231c98c0a927b1e8a/tasks/acl.yml",
                "status": "modified",
                "patch": "@@ -49,8 +49,8 @@\n     - name: Read ACL replication token from previously boostrapped server\n       shell: >\n         cat {{ consul_config_path }}/config.json |\n-        grep \"acl_replication_token\" |\n-        sed -E 's/\"acl_replication_token\": \"(.+)\",?/\\1/' |\n+        grep \"replication\" |\n+        sed -E 's/\"replication\": \"(.+)\",?/\\1/' |\n         sed 'is/^ *//;s/ *$//'\n       changed_when: false\n       check_mode: false"
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjMyNDQwNg==",
        "author_name": "Jacob Wilder",
        "committer_id": null,
        "committer_name": "Jack Ivanov",
        "committer_email": "gunph1ld@users.noreply.github.com",
        "message": "Fixed the azure role for situations where the user does not use a ~/.azure/credentials file (#242)",
        "sha": "7b468fae79817115e97d087cbaebf59daecaa60b",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/7b468fae79817115e97d087cbaebf59daecaa60b",
        "parents": [
            "9a5801f43407af6c32e64d9425636812c2b2c152"
        ],
        "files": [
            {
                "sha": "53d54a6e21e824fa4d9f51d6f7e1f7d24131147a",
                "filename": "roles/cloud-azure/tasks/main.yml",
                "previous_filename": null,
                "additions": 16,
                "deletions": 8,
                "changes": 24,
                "blob_url": "https://github.com/trailofbits/algo/blob/7b468fae79817115e97d087cbaebf59daecaa60b/roles/cloud-azure/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/7b468fae79817115e97d087cbaebf59daecaa60b/roles/cloud-azure/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -5,17 +5,21 @@\n \n - name: Create a resource group\n   azure_rm_resourcegroup:\n-    secret: \"{{ azure_secret | default(lookup('env','AZURE_CLIENT_ID')) }}\"\n-    tenant: \"{{ azure_tenant | default(lookup('env','AZURE_SECRET')) }}\"\n-    client_id: \"{{ azure_client_id | default(lookup('env','AZURE_SUBSCRIPTION_ID')) }}\"\n-    subscription_id: \"{{ azure_subscription_id | default(lookup('env','AZURE_TENANT')) }}\"\n+    secret: \"{{ azure_secret | default(lookup('env','AZURE_SECRET')) }}\"\n+    tenant: \"{{ azure_tenant | default(lookup('env','AZURE_TENANT')) }}\"\n+    client_id: \"{{ azure_client_id | default(lookup('env','AZURE_CLIENT_ID')) }}\"\n+    subscription_id: \"{{ azure_subscription_id | default(lookup('env','AZURE_SUBSCRIPTION_ID')) }}\"\n     name: \"{{ resource_group }}\"\n     location: \"{{ region }}\"\n     tags:\n         service: algo\n \n - name: Create a virtual network\n   azure_rm_virtualnetwork:\n+    secret: \"{{ azure_secret | default(lookup('env','AZURE_SECRET')) }}\"\n+    tenant: \"{{ azure_tenant | default(lookup('env','AZURE_TENANT')) }}\"\n+    client_id: \"{{ azure_client_id | default(lookup('env','AZURE_CLIENT_ID')) }}\"\n+    subscription_id: \"{{ azure_subscription_id | default(lookup('env','AZURE_SUBSCRIPTION_ID')) }}\"\n     resource_group: \"{{ resource_group }}\"\n     name: algo_net\n     address_prefixes: \"10.10.0.0/16\"\n@@ -24,6 +28,10 @@\n \n - name: Create a subnet\n   azure_rm_subnet:\n+    secret: \"{{ azure_secret | default(lookup('env','AZURE_SECRET')) }}\"\n+    tenant: \"{{ azure_tenant | default(lookup('env','AZURE_TENANT')) }}\"\n+    client_id: \"{{ azure_client_id | default(lookup('env','AZURE_CLIENT_ID')) }}\"\n+    subscription_id: \"{{ azure_subscription_id | default(lookup('env','AZURE_SUBSCRIPTION_ID')) }}\"\n     resource_group: \"{{ resource_group }}\"\n     name: algo_subnet\n     address_prefix: \"10.10.0.0/24\"\n@@ -33,10 +41,10 @@\n \n - name: Create an instance\n   azure_rm_virtualmachine:\n-    secret: \"{{ azure_secret | default(lookup('env','AZURE_CLIENT_ID')) }}\"\n-    tenant: \"{{ azure_tenant | default(lookup('env','AZURE_SECRET')) }}\"\n-    client_id: \"{{ azure_client_id | default(lookup('env','AZURE_SUBSCRIPTION_ID')) }}\"\n-    subscription_id: \"{{ azure_subscription_id | default(lookup('env','AZURE_TENANT')) }}\"\n+    secret: \"{{ azure_secret | default(lookup('env','AZURE_SECRET')) }}\"\n+    tenant: \"{{ azure_tenant | default(lookup('env','AZURE_TENANT')) }}\"\n+    client_id: \"{{ azure_client_id | default(lookup('env','AZURE_CLIENT_ID')) }}\"\n+    subscription_id: \"{{ azure_subscription_id | default(lookup('env','AZURE_SUBSCRIPTION_ID')) }}\"\n     resource_group: \"{{ resource_group }}\"\n     admin_username: ubuntu\n     virtual_network: algo_net"
            }
        ]
    },
    {
        "repo": "brianshumate/ansible-consul",
        "author_id": "MDQ6VXNlcjEwNjcxNTU5",
        "author_name": "Bas Meijer",
        "committer_id": "MDQ6VXNlcjEwNjcxNTU5",
        "committer_name": "Bas Meijer",
        "committer_email": "bas.meijer@me.com",
        "message": "Fix for #256 Consul not reloaded when TLS files change.",
        "sha": "2d322855b30a749b9a180331af2500e834e7155d",
        "url": "https://api.github.com/repos/brianshumate/ansible-consul/commits/2d322855b30a749b9a180331af2500e834e7155d",
        "parents": [
            "53f9bc7e6a098557bf13ade27a1ec9206a39708c"
        ],
        "files": [
            {
                "sha": "1deacc3ec3bdd440336d9d7676f550069d0493aa",
                "filename": "tasks/tls.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/brianshumate/ansible-consul/blob/2d322855b30a749b9a180331af2500e834e7155d/tasks/tls.yml",
                "raw_url": "https://github.com/brianshumate/ansible-consul/raw/2d322855b30a749b9a180331af2500e834e7155d/tasks/tls.yml",
                "status": "modified",
                "patch": "@@ -18,6 +18,7 @@\n         owner: \"{{ consul_user }}\"\n         group: \"{{ consul_group }}\"\n         mode: 0644\n+      notify: restart consul\n \n     - name: Copy server certificate\n       copy:\n@@ -27,6 +28,7 @@\n         owner: \"{{ consul_user }}\"\n         group: \"{{ consul_group }}\"\n         mode: 0644\n+      notify: restart consul\n \n     - name: Copy server key\n       copy:\n@@ -36,5 +38,6 @@\n         owner: \"{{ consul_user }}\"\n         group: \"{{ consul_group }}\"\n         mode: 0600\n+      notify: restart consul\n \n   when: consul_tls_copy_keys | bool"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bjorn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bjorn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #110",
        "sha": "17c5fca09ba6483118164c64b326bebf50426cfe",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/17c5fca09ba6483118164c64b326bebf50426cfe",
        "parents": [
            "85225262433ef633502568ddf4af026ab0276bc6"
        ],
        "files": [
            {
                "sha": "e0128e73ceb513510707b5680fd69f66188a7366",
                "filename": "tasks/install-docker.yml",
                "previous_filename": null,
                "additions": 11,
                "deletions": 0,
                "changes": 11,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/17c5fca09ba6483118164c64b326bebf50426cfe/tasks/install-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/17c5fca09ba6483118164c64b326bebf50426cfe/tasks/install-docker.yml",
                "status": "modified",
                "patch": "@@ -28,6 +28,17 @@\n       (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version | int < 16) or\n       (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version | int == 17)\n \n+- name: Do workaround to handle CentOS/RHEL 8 installation issues\n+  set_fact:\n+    _docker_packages:\n+      - \"https://download.docker.com/linux/centos/7/x86_64/stable/Packages/containerd.io-1.2.10-3.2.el7.x86_64.rpm\"\n+      - docker-ce-cli\n+      - docker-ce\n+  when:\n+    - _docker_packages is not defined\n+    - _docker_os_dist == \"CentOS\" or _docker_os_dist == \"RedHat\"\n+    - _docker_os_dist_major_version | int > 7\n+\n - name: Ensure Docker CE is installed\n   become: true\n   package:"
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjEwNTU3MzE4",
        "author_name": "Dan Jurgensmeyer",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "fix dup registry on OSP (#168)\n\n* fix dup registry on OSP\r\n\r\n* registry dup v2\r\n\r\n* documentation cleanup",
        "sha": "f92ebbef856e59bd4563d4b5b69ee75a95ec89d5",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/f92ebbef856e59bd4563d4b5b69ee75a95ec89d5",
        "parents": [
            "1b78e048b0eec3ce34b75f32800bef93e8a2a4cd"
        ],
        "files": [
            {
                "sha": "331bf8ce154d36a089592f479f561be6a5d0c7fa",
                "filename": "playbooks/openshift/cinder-registry.yml",
                "previous_filename": null,
                "additions": 15,
                "deletions": 8,
                "changes": 23,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/f92ebbef856e59bd4563d4b5b69ee75a95ec89d5/playbooks/openshift/cinder-registry.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/f92ebbef856e59bd4563d4b5b69ee75a95ec89d5/playbooks/openshift/cinder-registry.yml",
                "status": "modified",
                "patch": "@@ -1,20 +1,27 @@\n---- \n+---\n # Create a volume for the registry\n - hosts: localhost\n-  roles: \n+  vars:\n+    osp_volumes:\n+    - name: \"{{ full_dns_domain }}-registry\"\n+      display_description: \"Registry Vol\"\n+      display_name: \"{{ full_dns_domain }}-registry\"\n+      size: \"{{ openshift_hosted_registry_storage_volume_size | default(20) }}\"\n+      purpose: \"ose_registry\"\n+  roles:\n   - infra-ansible/roles/osp/admin-volume\n \n - hosts: OSEv3\n   tasks:\n-  - name: \"set registry volumeID fact\"\n-    set_fact: \n+  - name: \"set cinder registry storage facts\"\n+    set_fact:\n       openshift_hosted_registry_storage_openstack_volumeID: \"{{ disk.volume.id }}\"\n       openshift_hosted_registry_storage_volume_size: \"{{ disk.volume.size }}Gi\"\n-    with_items: \n+      openshift_hosted_registry_storage_access_modes: \"{{ openshift_hosted_registry_storage_access_modes | default(\\\"['ReadWriteOnce']\\\") }}\"\n+      openshift_hosted_registry_storage_openstack_filesystem: \"{{ openshift_hosted_registry_storage_openstack_filesystem | default('ext4')}}\"\n+    with_items:\n     -  \"{{ hostvars['localhost'].os_volumes.results }}\"\n-    when: \n+    when:\n     - disk.item.purpose  == \"ose_registry\"\n     loop_control:\n       loop_var: disk\n-\n-"
            },
            {
                "sha": "66a4ff8585349375f87e788bd2e7a2ec3a4374b9",
                "filename": "playbooks/openshift/post-provision-openstack.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/f92ebbef856e59bd4563d4b5b69ee75a95ec89d5/playbooks/openshift/post-provision-openstack.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/f92ebbef856e59bd4563d4b5b69ee75a95ec89d5/playbooks/openshift/post-provision-openstack.yml",
                "status": "modified",
                "patch": "@@ -21,4 +21,4 @@\n   - openshift_hosted_registry_storage_kind is defined\n   - openshift_hosted_registry_storage_kind == \"openstack\"\n   - openshift_hosted_registry_storage_openstack_volumeID is not defined\n-\n+  "
            }
        ]
    },
    {
        "repo": "kubevirt/kubevirt-ansible",
        "author_id": "MDQ6VXNlcjk3NDQwMw==",
        "author_name": "Richard Su",
        "committer_id": "MDQ6VXNlcjE1MDU2ODQ=",
        "committer_name": "Lukas Bednar",
        "committer_email": "lukyn17@gmail.com",
        "message": "Fix \"kubeadm join\" in multi node environment (#224)\n\n/etc/kubernetes/pki/ca.crt resides only the master node. The previous\r\ntasks to join nodes were failing because it was attempting to read the\r\nmissing ca.crt file.\r\n\r\nThis patch saves the join command as a fact and reads this fact on\r\nnon-master nodes to join them.\r\n\r\nFixes: https://github.com/kubevirt/kubevirt-ansible/issues/223",
        "sha": "4dbc5dfafd3ef6afc5b9476fd1597f839c8cbc01",
        "url": "https://api.github.com/repos/kubevirt/kubevirt-ansible/commits/4dbc5dfafd3ef6afc5b9476fd1597f839c8cbc01",
        "parents": [
            "1be9f17cd1ddd36e2cce29412c2e8ebc27b680d7"
        ],
        "files": [
            {
                "sha": "5e04edfbfb4b793afe9b132be563ee22530287b5",
                "filename": "roles/kubernetes-node/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 4,
                "changes": 6,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/4dbc5dfafd3ef6afc5b9476fd1597f839c8cbc01/roles/kubernetes-node/tasks/main.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/4dbc5dfafd3ef6afc5b9476fd1597f839c8cbc01/roles/kubernetes-node/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,7 +1,5 @@\n ---\n-- name: retrieve token ca cert hash\n-  shell: openssl x509 -pubkey -in /etc/kubernetes/pki/ca.crt | openssl rsa -pubin -outform der 2>/dev/null | openssl dgst -sha256 -hex | sed 's/^.* //'\n-  register: sha\n \n - name: deploy host as kubernetes node\n-  command: \"kubeadm join --token {{ kubernetes_token }} {{ groups['masters'][0] }}:6443 --discovery-token-ca-cert-hash sha256:{{sha.stdout}} --ignore-preflight-errors=all\"\n+  command: \"{{ hostvars[groups['masters'][0]]['joincommand'] }}\"\n+"
            },
            {
                "sha": "c9ac955e5d463ac0f5a752ede9d8104408a6c157",
                "filename": "roles/kubernetes-master/tasks/main.yml",
                "previous_filename": null,
                "additions": 5,
                "deletions": 1,
                "changes": 6,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/4dbc5dfafd3ef6afc5b9476fd1597f839c8cbc01/roles/kubernetes-master/tasks/main.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/4dbc5dfafd3ef6afc5b9476fd1597f839c8cbc01/roles/kubernetes-master/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -20,5 +20,9 @@\n     mode: 0755\n \n - name: deploy kubernetes\n-  shell: /root/deploy_kubernetes.sh\n+  shell: /root/deploy_kubernetes.sh | grep \"kubeadm join\"\n+  register: kubeadm_join_command\n+\n+- name: set join command as fact\n+  set_fact: joincommand=\"{{kubeadm_join_command.stdout}}\"\n "
            }
        ]
    },
    {
        "repo": "UnderGreen/ansible-role-mongodb",
        "author_id": "MDQ6VXNlcjI2NTY3Mzc=",
        "author_name": "Sergei Antipov",
        "committer_id": "MDQ6VXNlcjI2NTY3Mzc=",
        "committer_name": "Sergei Antipov",
        "committer_email": "s.antipov@2gis.ru",
        "message": "Fixed issue #3",
        "sha": "d25113e8fab871b2ead95ca976c5a43e4759ea26",
        "url": "https://api.github.com/repos/UnderGreen/ansible-role-mongodb/commits/d25113e8fab871b2ead95ca976c5a43e4759ea26",
        "parents": [
            "ec4de12ae75f7191a5f71aa775e0344679ea1477"
        ],
        "files": [
            {
                "sha": "a78702622a74ad0fde534669f16be4af249741ff",
                "filename": "tasks/auth_initialization.yml",
                "previous_filename": null,
                "additions": 11,
                "deletions": 11,
                "changes": 22,
                "blob_url": "https://github.com/UnderGreen/ansible-role-mongodb/blob/d25113e8fab871b2ead95ca976c5a43e4759ea26/tasks/auth_initialization.yml",
                "raw_url": "https://github.com/UnderGreen/ansible-role-mongodb/raw/d25113e8fab871b2ead95ca976c5a43e4759ea26/tasks/auth_initialization.yml",
                "status": "modified",
                "patch": "@@ -3,7 +3,7 @@\n - include: auth_initialization_ald.yml\n   when: ansible_local.mongodb.mongodb.mongodb_login_port is defined\n \n-- name: create administrative user siteRootAdmin\n+- name: create administrative user siteUserAdmin\n   mongodb_user:\n     database: admin\n     name: \"{{ item.name }}\"\n@@ -12,14 +12,14 @@\n     login_host: 127.0.0.1\n   with_items:\n     - {\n-      name: \"{{ mongodb_root_admin_name }}\",\n-      password: \"{{ mongodb_root_admin_password }}\",\n-      roles: \"root\"\n+      name: \"{{ mongodb_user_admin_name }}\",\n+      password: \"{{ mongodb_user_admin_password }}\",\n+      roles: \"userAdminAnyDatabase\"\n       }\n-  register: rootadmin_user_result\n+  register: useradmin_user_result\n   when: ansible_local.mongodb.mongodb.mongodb_login_port is undefined\n \n-- name: create administrative user siteUserAdmin\n+- name: create administrative user siteRootAdmin\n   mongodb_user:\n     database: admin\n     name: \"{{ item.name }}\"\n@@ -28,11 +28,11 @@\n     login_host: 127.0.0.1\n   with_items:\n     - {\n-      name: \"{{ mongodb_user_admin_name }}\",\n-      password: \"{{ mongodb_user_admin_password }}\",\n-      roles: \"userAdminAnyDatabase\"\n+      name: \"{{ mongodb_root_admin_name }}\",\n+      password: \"{{ mongodb_root_admin_password }}\",\n+      roles: \"root\"\n       }\n-  register: useradmin_user_result\n+  register: rootadmin_user_result\n   when: ansible_local.mongodb.mongodb.mongodb_login_port is undefined\n \n - name: create normal users\n@@ -59,5 +59,5 @@\n - name: Create facts file for mongodb\n   copy:\n     dest: /etc/ansible/facts.d/mongodb.fact\n-    content: \"[mongodb]\\nmongodb_login_port={{ mongodb_conf_port }}\\n\"\n+    content: \"[mongodb]\\nmongodb_login_port={{ mongodb_conf_port }}\\n\\n\"\n   when: rootadmin_user_result|changed or useradmin_user_result|changed"
            },
            {
                "sha": "5fd7ead47a88000ab4e1f1e771b62abca1cbb4ae",
                "filename": "tasks/auth_initialization_ald.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 8,
                "changes": 18,
                "blob_url": "https://github.com/UnderGreen/ansible-role-mongodb/blob/d25113e8fab871b2ead95ca976c5a43e4759ea26/tasks/auth_initialization_ald.yml",
                "raw_url": "https://github.com/UnderGreen/ansible-role-mongodb/raw/d25113e8fab871b2ead95ca976c5a43e4759ea26/tasks/auth_initialization_ald.yml",
                "status": "modified",
                "patch": "@@ -1,4 +1,4 @@\n-- name: create administrative user siteRootAdmin port=yes\n+- name: create administrative user siteUserAdmin port=yes\n   mongodb_user:\n     database: admin\n     name: \"{{ item.name }}\"\n@@ -8,24 +8,26 @@\n     login_port: \"{{ ansible_local.mongodb.mongodb.mongodb_login_port }}\"\n   with_items:\n     - {\n-      name: \"{{ mongodb_root_admin_name }}\",\n-      password: \"{{ mongodb_root_admin_password }}\",\n-      roles: \"root\"\n+      name: \"{{ mongodb_user_admin_name }}\",\n+      password: \"{{ mongodb_user_admin_password }}\",\n+      roles: \"userAdminAnyDatabase\"\n       }\n \n-- name: create administrative user siteUserAdmin port=yes\n+- name: create administrative user siteRootAdmin port=yes\n   mongodb_user:\n     database: admin\n     name: \"{{ item.name }}\"\n     password: \"{{ item.password }}\"\n     roles: \"{{ item.roles }}\"\n     login_host: 127.0.0.1\n     login_port: \"{{ ansible_local.mongodb.mongodb.mongodb_login_port }}\"\n+    login_user: \"{{ mongodb_user_admin_name }}\"\n+    login_password: \"{{ mongodb_user_admin_password }}\"\n   with_items:\n     - {\n-      name: \"{{ mongodb_user_admin_name }}\",\n-      password: \"{{ mongodb_user_admin_password }}\",\n-      roles: \"userAdminAnyDatabase\"\n+      name: \"{{ mongodb_root_admin_name }}\",\n+      password: \"{{ mongodb_root_admin_password }}\",\n+      roles: \"root\"\n       }\n \n - name: create normal users"
            }
        ]
    },
    {
        "repo": "ansible-ThoTeam/nexus3-oss",
        "author_id": "MDQ6VXNlcjExNDU2NDQ2",
        "author_name": "Alexander Evseev",
        "committer_id": "MDQ6VXNlcjE3Njc3Ng==",
        "committer_name": "Olivier Clavel",
        "committer_email": "olivier.clavel@gmail.com",
        "message": "Fix for Python 3.x SELinux packages on RHEL/CentOS 8 (#234)",
        "sha": "ccab58ae5d697bb64abd86558f79c34161d2fb00",
        "url": "https://api.github.com/repos/ansible-ThoTeam/nexus3-oss/commits/ccab58ae5d697bb64abd86558f79c34161d2fb00",
        "parents": [
            "fef51771c066386c3ba52991802d95e2e1391a64"
        ],
        "files": [
            {
                "sha": "7c9b0c487d405d0846fcbfbe96f33a4be3fe5a2e",
                "filename": "tasks/selinux-RedHat.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/ansible-ThoTeam/nexus3-oss/blob/ccab58ae5d697bb64abd86558f79c34161d2fb00/tasks/selinux-RedHat.yml",
                "raw_url": "https://github.com/ansible-ThoTeam/nexus3-oss/raw/ccab58ae5d697bb64abd86558f79c34161d2fb00/tasks/selinux-RedHat.yml",
                "status": "modified",
                "patch": "@@ -3,6 +3,8 @@\n - name: Make sure we have the necessary yum packages available for selinux\n   yum:\n     name:\n-      - libselinux-python\n-      - libsemanage-python\n+      - libselinux-python{{ py_suffix }}\n+      - libsemanage-python{{ py_suffix }}\n     state: present\n+  vars:\n+    py_suffix: '{{ \"3\" if ansible_python.version.major == 3 else \"\" }}'"
            }
        ]
    },
    {
        "repo": "mrlesmithjr/ansible-manage-lvm",
        "author_id": "MDQ6VXNlcjQwMDYxNDk=",
        "author_name": "Larry Smith Jr",
        "committer_id": "MDQ6VXNlcjQwMDYxNDk=",
        "committer_name": "Larry Smith Jr",
        "committer_email": "mrlesmithjr@gmail.com",
        "message": "Fixes issue #8\n\nSigned-off-by: Larry Smith Jr <mrlesmithjr@gmail.com>",
        "sha": "0d255cb5ce9e6016a503203c2ed39a70fb0ccd9c",
        "url": "https://api.github.com/repos/mrlesmithjr/ansible-manage-lvm/commits/0d255cb5ce9e6016a503203c2ed39a70fb0ccd9c",
        "parents": [
            "9844b5fd473d42de4ec418abc1c157d261f038c0"
        ],
        "files": [
            {
                "sha": "0df6b7a5e3d4af8de71e7cd19185be6ad0811b6f",
                "filename": "tasks/manage_lvm.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/mrlesmithjr/ansible-manage-lvm/blob/0d255cb5ce9e6016a503203c2ed39a70fb0ccd9c/tasks/manage_lvm.yml",
                "raw_url": "https://github.com/mrlesmithjr/ansible-manage-lvm/raw/0d255cb5ce9e6016a503203c2ed39a70fb0ccd9c/tasks/manage_lvm.yml",
                "status": "modified",
                "patch": "@@ -63,7 +63,7 @@\n   when: lvm.changed and item.1.filesystem == \"swap\"\n \n - name: manage_lvm | resizing btrfs\n-  shell: \"btrfs filesystem resize max {{ item.1.mntp }}\"\"\n+  shell: \"btrfs filesystem resize max {{ item.1.mntp }}\"\n   with_subelements:\n     - \"{{ lvm_groups }}\"\n     - lvnames"
            }
        ]
    },
    {
        "repo": "openshift/openshift-ansible-contrib",
        "author_id": "MDQ6VXNlcjYzODUxODU=",
        "author_name": "Matt Bruzek",
        "committer_id": "MDQ6VXNlcjEwNDMzOQ==",
        "committer_name": "Tomas Sedovic",
        "committer_email": "tomas@sedovic.cz",
        "message": "Fix docker role warnings (#819)\n\n* Removed the curly braces in the when statement of the docker role main.yml.\r\n\r\n* Fixing the indent on the when clause.",
        "sha": "c2d2cb9e38bef2181e7ec07293d05ba4595d0d33",
        "url": "https://api.github.com/repos/openshift/openshift-ansible-contrib/commits/c2d2cb9e38bef2181e7ec07293d05ba4595d0d33",
        "parents": [
            "99eb1124a889eee7b5a71f45015599b368d166de"
        ],
        "files": [
            {
                "sha": "460bad4b168177d91763e4239055e8ece101661a",
                "filename": "roles/docker/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/openshift/openshift-ansible-contrib/blob/c2d2cb9e38bef2181e7ec07293d05ba4595d0d33/roles/docker/tasks/main.yml",
                "raw_url": "https://github.com/openshift/openshift-ansible-contrib/raw/c2d2cb9e38bef2181e7ec07293d05ba4595d0d33/roles/docker/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -18,7 +18,7 @@\n - name: \"Set Docker Storage fact if already configured\"\n   set_fact:\n     docker_storage_setup: true\n-    when: pvs.stdout | search(docker_storage_block_device ~ '.*' ~ docker_storage_volume_group)\n+  when: pvs.stdout | search(docker_storage_block_device ~ '.*' ~ docker_storage_volume_group)\n \n - name: \"Configure Docker Storage Setup\"\n   template:"
            }
        ]
    },
    {
        "repo": "lae/ansible-role-proxmox",
        "author_id": "MDQ6VXNlcjEzMTgwMTM=",
        "author_name": "Musee Ullah",
        "committer_id": "MDQ6VXNlcjEzMTgwMTM=",
        "committer_name": "Musee Ullah",
        "committer_email": "lae@lae.is",
        "message": "Update subscription removal patches for PVE 4.x/5.x, fixes #24",
        "sha": "d3afb2af6d65f33d5091b01590d2cbd9ebf98c6b",
        "url": "https://api.github.com/repos/lae/ansible-role-proxmox/commits/d3afb2af6d65f33d5091b01590d2cbd9ebf98c6b",
        "parents": [
            "f247f50b97e495ea81b18eefcd65c86d21c306ff"
        ],
        "files": [
            {
                "sha": "4682d20dceac0403b658777882c09a866358fe00",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 3,
                "changes": 9,
                "blob_url": "https://github.com/lae/ansible-role-proxmox/blob/d3afb2af6d65f33d5091b01590d2cbd9ebf98c6b/tasks/main.yml",
                "raw_url": "https://github.com/lae/ansible-role-proxmox/raw/d3afb2af6d65f33d5091b01590d2cbd9ebf98c6b/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -89,13 +89,16 @@\n \n   - name: Remove subscription check wrapper function in web UI\n     patch:\n-      src: 00_remove_checked_command.patch\n-      dest: /usr/share/pve-manager/js/pvemanagerlib.js\n+      src: \"00_remove_checked_command_{{ ansible_distribution_release }}.patch\"\n+      basedir: /\n+      strip: 1\n       backup: yes\n     when:\n-      - \"'pve-no-subscription' in pve_repository_line\"\n       - pve_remove_subscription_warning\n \n+  when:\n+    - \"'pve-no-subscription' in pve_repository_line\"\n+\n - include: kernel_updates.yml\n \n - include: ipmi_watchdog.yml"
            }
        ]
    },
    {
        "repo": "nginxinc/ansible-role-nginx",
        "author_id": "MDQ6VXNlcjE1NjU0NTI1",
        "author_name": "Alessandro Fael Garcia",
        "committer_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "committer_name": "GitHub",
        "committer_email": "noreply@github.com",
        "message": "Fix OSS Alpine installation and add Alpine test coverage (#190)",
        "sha": "59e0170313922c2092ea9754f7f89914ac359c4b",
        "url": "https://api.github.com/repos/nginxinc/ansible-role-nginx/commits/59e0170313922c2092ea9754f7f89914ac359c4b",
        "parents": [
            "16f21c5c7c51314eea1d023a46bcaad8c889cd46"
        ],
        "files": [
            {
                "sha": "86e4d001ad3be37722b87d1eb25e81a6f1ae1885",
                "filename": "tasks/opensource/setup-alpine.yml",
                "previous_filename": null,
                "additions": 12,
                "deletions": 2,
                "changes": 14,
                "blob_url": "https://github.com/nginxinc/ansible-role-nginx/blob/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/opensource/setup-alpine.yml",
                "raw_url": "https://github.com/nginxinc/ansible-role-nginx/raw/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/opensource/setup-alpine.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,16 @@\n ---\n-- name: \"(Install: Alpine Linux) Add NGINX Plus Repository\"\n+- name: \"(Install: Alpine) Set Default APK NGINX Repository\"\n+  set_fact:\n+    default_repository: >-\n+      https://nginx.org/packages/{{ (nginx_branch == 'mainline')\n+      | ternary('mainline/', '') }}alpine/v{{ ansible_distribution_version.split('.')[0] }}.{{ ansible_distribution_version.split('.')[1] }}/main\n+\n+- name: \"(Install: Alpine) Set APK NGINX Repository\"\n+  set_fact:\n+    repository: \"{{ nginx_repository | default(default_repository) }}\"\n+\n+- name: \"(Install: Alpine) Add NGINX Repository\"\n   lineinfile:\n     path: /etc/apk/repositories\n     insertafter: EOF\n-    line: \"{{ nginx_repository.alpine }}\"\n+    line: \"{{ repository }}\""
            },
            {
                "sha": "be74eb98fd7d419ba65eff68e0a89ea8c4a88630",
                "filename": "tasks/plus/install-plus.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 6,
                "changes": 12,
                "blob_url": "https://github.com/nginxinc/ansible-role-nginx/blob/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/plus/install-plus.yml",
                "raw_url": "https://github.com/nginxinc/ansible-role-nginx/raw/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/plus/install-plus.yml",
                "status": "modified",
                "patch": "@@ -1,21 +1,21 @@\n ---\n - import_tasks: setup-license.yml\n \n+- import_tasks: setup-alpine.yml\n+  when: ansible_os_family == \"Alpine\"\n+\n - import_tasks: setup-debian.yml\n   when: ansible_os_family == \"Debian\"\n \n+- import_tasks: setup-freebsd.yml\n+  when: ansible_os_family == \"FreeBSD\"\n+\n - import_tasks: setup-redhat.yml\n   when: ansible_os_family == \"RedHat\"\n \n - import_tasks: setup-suse.yml\n   when: ansible_os_family == \"Suse\"\n \n-- import_tasks: setup-freebsd.yml\n-  when: ansible_os_family == \"FreeBSD\"\n-\n-- import_tasks: setup-alpine.yml\n-  when: ansible_os_family == \"Alpine\"\n-\n - name: \"(Install: All OSs) Install NGINX Plus\"\n   package:\n     name: \"nginx-plus{{ nginx_version | default('') }}\""
            },
            {
                "sha": "131634d4e614066337dd36ba981b9bd9f36358f2",
                "filename": "tasks/keys/apk-key.yml",
                "previous_filename": null,
                "additions": 9,
                "deletions": 1,
                "changes": 10,
                "blob_url": "https://github.com/nginxinc/ansible-role-nginx/blob/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/keys/apk-key.yml",
                "raw_url": "https://github.com/nginxinc/ansible-role-nginx/raw/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/keys/apk-key.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,13 @@\n ---\n+- name: \"(Install: APK OSs) Set Default APK NGINX Signing Key URL\"\n+  set_fact:\n+    default_keysite: https://nginx.org/keys/nginx_signing.rsa.pub\n+\n+- name: \"(Install: APK OSs) Set APK NGINX Signing Key URL\"\n+  set_fact:\n+    keysite: \"{{ nginx_signing_key | default(default_keysite) }}\"\n+\n - name: \"(Install: APK OSs) Download NGINX Signing Key\"\n   get_url:\n-    url: https://nginx.org/keys/nginx_signing.rsa.pub\n+    url: \"{{ keysite }}\"\n     dest: /etc/apk/keys/nginx_signing.rsa.pub"
            },
            {
                "sha": "a7f9bd3443c924e20ee75efac6f11b1b132fd1d9",
                "filename": "tasks/opensource/setup-suse.yml",
                "previous_filename": null,
                "additions": 11,
                "deletions": 1,
                "changes": 12,
                "blob_url": "https://github.com/nginxinc/ansible-role-nginx/blob/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/opensource/setup-suse.yml",
                "raw_url": "https://github.com/nginxinc/ansible-role-nginx/raw/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/opensource/setup-suse.yml",
                "status": "modified",
                "patch": "@@ -1,5 +1,15 @@\n ---\n+- name: \"(Install: SUSE) Set Default SUSE NGINX Repository\"\n+  set_fact:\n+    default_repository: >-\n+      https://nginx.org/packages/{{ (nginx_branch == 'mainline')\n+      | ternary('mainline/', '') }}sles/{{ ansible_distribution_major_version }}\n+\n+- name: \"(Install: SUSE) Set SUSE NGINX Repository\"\n+  set_fact:\n+    repository: \"{{ nginx_repository | default(default_repository) }}\"\n+\n - name: \"(Install: SUSE) Add NGINX Repository\"\n   zypper_repository:\n     name: \"nginx-{{ nginx_branch }}\"\n-    repo: \"{{ nginx_repository.suse }}\"\n+    repo: \"{{ repository }}\""
            },
            {
                "sha": "51364af265aa8169ed509cfb0fc9c6daa26382a5",
                "filename": "tasks/opensource/setup-redhat.yml",
                "previous_filename": null,
                "additions": 12,
                "deletions": 1,
                "changes": 13,
                "blob_url": "https://github.com/nginxinc/ansible-role-nginx/blob/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/opensource/setup-redhat.yml",
                "raw_url": "https://github.com/nginxinc/ansible-role-nginx/raw/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/opensource/setup-redhat.yml",
                "status": "modified",
                "patch": "@@ -1,8 +1,19 @@\n ---\n+- name: \"(Install: CentOS/RedHat) Set Default YUM NGINX Repository\"\n+  set_fact:\n+    default_repository: >-\n+      https://nginx.org/packages/{{ (nginx_branch == 'mainline')\n+      | ternary('mainline/', '') }}{{ (ansible_distribution == \"RedHat\")\n+      | ternary('rhel', 'centos') }}/{{ ansible_distribution_major_version }}/$basearch/\n+\n+- name: \"(Install: CentOS/RedHat) Set YUM NGINX Repository\"\n+  set_fact:\n+    repository: \"{{ nginx_repository | default(default_repository) }}\"\n+\n - name: \"(Install: CentOS/RedHat) Add NGINX Repository\"\n   yum_repository:\n     name: nginx\n-    baseurl: \"{{ nginx_repository.redhat }}\"\n+    baseurl: \"{{ repository }}\"\n     description: NGINX Repository\n     enabled: yes\n     gpgcheck: yes"
            },
            {
                "sha": "2650b16e6e9a8f1fffc59d20b7fef13e9655bf24",
                "filename": "tasks/opensource/install-oss-linux.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/nginxinc/ansible-role-nginx/blob/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/opensource/install-oss-linux.yml",
                "raw_url": "https://github.com/nginxinc/ansible-role-nginx/raw/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/opensource/install-oss-linux.yml",
                "status": "modified",
                "patch": "@@ -2,6 +2,9 @@\n - name: \"(Install: Linux) Configure NGINX repo\"\n   block:\n \n+    - import_tasks: setup-alpine.yml\n+      when: ansible_os_family == \"Alpine\"\n+\n     - import_tasks: setup-debian.yml\n       when: ansible_os_family == \"Debian\"\n "
            },
            {
                "sha": "3b6046f610f61aa717ed7fe4fb4b4f11e2dce4ca",
                "filename": "tasks/opensource/setup-debian.yml",
                "previous_filename": null,
                "additions": 15,
                "deletions": 1,
                "changes": 16,
                "blob_url": "https://github.com/nginxinc/ansible-role-nginx/blob/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/opensource/setup-debian.yml",
                "raw_url": "https://github.com/nginxinc/ansible-role-nginx/raw/59e0170313922c2092ea9754f7f89914ac359c4b/tasks/opensource/setup-debian.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,20 @@\n ---\n+- name: \"(Install: Debian/Ubuntu) Set Default APT NGINX Repository\"\n+  set_fact:\n+    default_repository:\n+      - >-\n+        deb https://nginx.org/packages/{{ (nginx_branch == 'mainline')\n+        | ternary('mainline/', '') }}{{ ansible_distribution | lower }}/ {{ ansible_distribution_release }} nginx\n+      - >-\n+        deb-src https://nginx.org/packages/{{ (nginx_branch == 'mainline')\n+        | ternary('mainline/', '') }}{{ ansible_distribution | lower }}/ {{ ansible_distribution_release }} nginx\n+\n+- name: \"(Install: Debian/Ubuntu) Set APT NGINX Repository\"\n+  set_fact:\n+    repository: \"{{ nginx_repository | default(default_repository) }}\"\n+\n - name: \"(Install: Debian/Ubuntu) Add NGINX Repository\"\n   apt_repository:\n     repo: \"{{ item }}\"\n   with_items:\n-    - \"{{ nginx_repository.debian }}\"\n+    - \"{{ repository }}\""
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fix #482 - Multisite is-installed deploy check\n\nOptionally add the `--network` option to properly check if a site is\ninstalled after deploys for both normal and multisite installs.\n\nRef: http://wp-cli.org/commands/core/is-installed/",
        "sha": "aec670bf22681f81d100c9dbdc6b502c19dab779",
        "url": "https://api.github.com/repos/roots/trellis/commits/aec670bf22681f81d100c9dbdc6b502c19dab779",
        "parents": [
            "a8cdb8bd610db76f4f3afa4831d7db624d22e3fc"
        ],
        "files": [
            {
                "sha": "017bef2cc525db952684ab0ab74406ef4b0a6ab6",
                "filename": "roles/deploy/hooks/finalize-after.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/aec670bf22681f81d100c9dbdc6b502c19dab779/roles/deploy/hooks/finalize-after.yml",
                "raw_url": "https://github.com/roots/trellis/raw/aec670bf22681f81d100c9dbdc6b502c19dab779/roles/deploy/hooks/finalize-after.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,6 @@\n ---\n - name: WordPress Installed?\n-  command: wp core is-installed\n+  command: wp core is-installed {{ project.multisite.enabled | default(false) | ternary('--network', '') }}\n   args:\n     chdir: \"{{ deploy_helper.new_release_path }}\"\n   register: wp_installed"
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "fix for #11\nThis avoids troubles if the relay operator migrated the datadir\nfrom another server but forgot to fix filepermissions.",
        "sha": "25268594e4bf662f487ddd8792c22b93b27160fc",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/25268594e4bf662f487ddd8792c22b93b27160fc",
        "parents": [
            "7a3aa0de9bf76ff1b18e6da304031150e4550142"
        ],
        "files": [
            {
                "sha": "492991728f4d67dbfeefed516a2998d2d43791eb",
                "filename": "tasks/configure.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/25268594e4bf662f487ddd8792c22b93b27160fc/tasks/configure.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/25268594e4bf662f487ddd8792c22b93b27160fc/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -6,6 +6,7 @@\n     state=directory\n     owner={{ tor_user }}\n     mode=0700\n+    recurse=yes\n   with_nested:\n    - \"{{ tor_ips }}\"\n    - \"{{ tor_ports }}\""
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #40",
        "sha": "a487a430fdb2fa9a230f98722d9ebf48d1d6764b",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/a487a430fdb2fa9a230f98722d9ebf48d1d6764b",
        "parents": [
            "a10c5f4577e6e74feb1fadec4bcbab039b8b180a"
        ],
        "files": [
            {
                "sha": "657d1f456b60e91235ab02828d9566de61c2bdc9",
                "filename": "tasks/checks/distribution-checks.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/checks/distribution-checks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/checks/distribution-checks.yml",
                "status": "modified",
                "patch": "@@ -26,7 +26,7 @@\n - name: Fail if kernel version is lower than 3.10\n   fail:\n     msg: \"Kernel version 3.10 or later is required!\"\n-  when: ansible_kernel | version_compare(\"3.10\", '<')\n+  when: ansible_kernel is version_compare(\"3.10\", '<')\n \n - name: Fail if this roles does not support the distribution\n   fail:"
            },
            {
                "sha": "72a7e31cc9ce860951f48df9c33f30ee51258a51",
                "filename": "tasks/setup-repository.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/setup-repository.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/setup-repository.yml",
                "status": "modified",
                "patch": "@@ -11,7 +11,7 @@\n     update_cache: yes\n   changed_when: false\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n   when: _docker_os_dist == \"Ubuntu\" or\n         _docker_os_dist == \"Debian\"\n \n@@ -23,7 +23,7 @@\n   with_items:\n     - \"{{ docker_repository_related_packages[_docker_os_dist] }}\"\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n   when: _docker_os_dist == \"Ubuntu\" or\n         _docker_os_dist == \"Debian\" or\n         _docker_os_dist == \"CentOS\" or\n@@ -35,7 +35,7 @@\n     url: https://download.docker.com/linux/{{ _docker_os_dist|lower }}/gpg\n     state: present\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n   when: (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version > '14') or\n         (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version > '7')\n "
            },
            {
                "sha": "33f7e603914eba9ce3530ad0dbb77c877c90e371",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/meta/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/meta/main.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@ galaxy_info:\n   author: Bjorn Oscarsson\n   company: none\n   description: \"Installs and configures Docker Community Edition (CE)\"\n-  min_ansible_version: 2.4\n+  min_ansible_version: 2.5\n   license: MIT\n   platforms:\n   - name: Fedora"
            },
            {
                "sha": "8ad537c6e6e891190fef8fca38f0af21935e9b20",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -34,7 +34,7 @@\n - name: Temporary handling of deprecated variable docker_pkg_name\n   set_fact:\n     docker_version: \"{{ docker_pkg_name | regex_replace('^docker-ce.(.+)$', '\\\\1') }}\"\n-  when: docker_pkg_name | match('docker-ce' + docker_os_pkg_version_separator[_docker_os_dist])\n+  when: docker_pkg_name is match('docker-ce' + docker_os_pkg_version_separator[_docker_os_dist])\n   tags: [\"always\"]\n \n - name: Compatibility and distribution checks"
            },
            {
                "sha": "212a57e1edb23ba29c33a964c25eea86acda5675",
                "filename": "tasks/configure-docker/configure-systemd.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/configure-docker/configure-systemd.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/configure-docker/configure-systemd.yml",
                "status": "modified",
                "patch": "@@ -41,6 +41,6 @@\n   systemd:\n     daemon_reload: yes\n   notify: restart docker\n-  when: _systemd_docker_dropin|changed\n+  when: _systemd_docker_dropin is changed\n   tags:\n     - skip_ansible_lint\n\\ No newline at end of file"
            },
            {
                "sha": "26c01c2e65b7ccbfde25a2004c811bc732b27bc8",
                "filename": "tasks/bug-tweaks/lvm-thinpool.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/bug-tweaks/lvm-thinpool.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/bug-tweaks/lvm-thinpool.yml",
                "status": "modified",
                "patch": "@@ -4,7 +4,7 @@\n     name: lvm2\n     state: present\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n \n - name: Create LVM volume group\n   become: true\n@@ -36,7 +36,7 @@\n     lv: '{{ pool.name }}meta'\n     size: '{{ pool.metadata_size }}'\n     vg: '{{ pool.volume_group }}'\n-  when: _datavolume_created | changed\n+  when: _datavolume_created is changed\n \n - name: Convert data volume to thinpool\n   become: true\n@@ -47,6 +47,6 @@\n         -c 512K\n         --thinpool \"{{ pool.volume_group }}/{{ pool.name }}\"\n         --poolmetadata \"{{ pool.volume_group }}/{{ pool.name }}meta\"\n-  when: _datavolume_created | changed\n+  when: _datavolume_created is changed\n   tags:\n     - skip_ansible_lint\n\\ No newline at end of file"
            },
            {
                "sha": "7cbb77952473c7af8ee3809a830c9dbf735af545",
                "filename": "tasks/install-docker.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/install-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/install-docker.yml",
                "status": "modified",
                "patch": "@@ -15,7 +15,7 @@\n       - docker-ce\n   when:\n     - docker_version != ''\n-    - docker_version | match('17.') or docker_version | match('18.03') or docker_version | match('18.06')\n+    - docker_version is match('17.') or docker_version is match('18.03') or docker_version is match('18.06')\n \n - name: Ensure some kind of compatibility for no longer officially supported distributions since Docker CE 18.09\n   set_fact:\n@@ -30,9 +30,9 @@\n - name: Ensure Docker CE is installed\n   become: true\n   package:\n-    name: \"{{ (item | search('docker')) | ternary((item + _docker_version_string | default('')), item) }}\"\n+    name: \"{{ (item is search('docker')) | ternary((item + _docker_version_string | default('')), item) }}\"\n     state: \"{{ _docker_pkg_state | default('present') }}\"\n   with_items: \"{{ _docker_packages | default(docker_packages) }}\"\n   register: _pkg_result\n-  until: _pkg_result|succeeded\n+  until: _pkg_result is succeeded\n   notify: restart docker"
            },
            {
                "sha": "55a5384ce2a71df8faa8d659b6d0d4894ab97577",
                "filename": "tasks/bug-tweaks.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/bug-tweaks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/a487a430fdb2fa9a230f98722d9ebf48d1d6764b/tasks/bug-tweaks.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n   include_tasks: bug-tweaks/bug-centos7-resource-busy.yml\n   when:\n     - _docker_os_dist == \"CentOS\" or _docker_os_dist == \"RedHat\"\n-    - ansible_kernel | version_compare('4', '<')\n+    - ansible_kernel is version_compare('4', '<')\n \n - name: Best effort handling to directlvm for Debian 8 to get uniform behavior across distributions\n   include_tasks: bug-tweaks/tweak-debian8-directlvm.yml"
            }
        ]
    },
    {
        "repo": "dev-sec/ansible-os-hardening",
        "author_id": null,
        "author_name": "Sebastian Gumprich",
        "committer_id": null,
        "committer_name": "Sebastian Gumprich",
        "committer_email": "sebastian.gumprich@38.de",
        "message": "add rhel7 pam_pwquality. fix #73",
        "sha": "723205f8f257f89edf6d665ac8b5a8eaa9964f70",
        "url": "https://api.github.com/repos/dev-sec/ansible-os-hardening/commits/723205f8f257f89edf6d665ac8b5a8eaa9964f70",
        "parents": [
            "f7774d150341f16d9a334acd302ca9c2a56c4db1"
        ],
        "files": [
            {
                "sha": "b2774456b37cba6dabe6e6bffe7011b34b942d91",
                "filename": "tasks/pam.yml",
                "previous_filename": null,
                "additions": 8,
                "deletions": 4,
                "changes": 12,
                "blob_url": "https://github.com/dev-sec/ansible-os-hardening/blob/723205f8f257f89edf6d665ac8b5a8eaa9964f70/tasks/pam.yml",
                "raw_url": "https://github.com/dev-sec/ansible-os-hardening/raw/723205f8f257f89edf6d665ac8b5a8eaa9964f70/tasks/pam.yml",
                "status": "modified",
                "patch": "@@ -31,7 +31,7 @@\n   when: (ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu') and not os_auth_pam_passwdqc_enable\n \n - name: install tally2\n-  apt: name='libpam-modules' state=installed\n+  apt: name='libpam-modules' state='installed'\n   when: (ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu') and not os_auth_pam_passwdqc_enable and os_auth_retries > 0\n \n - name: configure tally2\n@@ -43,12 +43,16 @@\n   when: (ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu') and not os_auth_pam_passwdqc_enable and os_auth_retries == 0\n \n - name: remove pam_cracklib, because it does not play nice with passwdqc\n-  yum: name='{{os_packages_pam_cracklib}}' state=absent\n-  when: (ansible_distribution == 'RedHat' or ansible_distribution == 'Oracle Linux') and os_auth_pam_passwdqc_enable\n+  yum: name='{{os_packages_pam_cracklib}}' state='absent'\n+  when: ((ansible_distribution == 'RedHat' or ansible_distribution == 'Oracle Linux' and ansible_distribution_version <= '7')) and os_auth_pam_passwdqc_enable\n \n - name: install the package for strong password checking\n   yum: name='{{os_packages_pam_passwdqc}}' state='installed'\n-  when: (ansible_distribution == 'RedHat' or ansible_distribution == 'Oracle Linux') and os_auth_pam_passwdqc_enable\n+  when: ((ansible_distribution == 'RedHat' or ansible_distribution == 'Oracle Linux' and ansible_distribution_version <= '7')) and os_auth_pam_passwdqc_enable\n+\n+- name: install pam_pwquality on rhel7, replacement for pam_passwdqc and pam_cracklib\n+  yum: name='{{os_packages_pam_pwquality}}' state='installed'\n+  when: ((ansible_distribution == 'RedHat' or ansible_distribution == 'Oracle Linux' and ansible_distribution_version >= '7')) and os_auth_pam_passwdqc_enable\n \n - name: remove passwdqc\n   yum: name='{{os_packages_pam_passwdqc}}' state='absent'"
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bj\u00f6rn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bj\u00f6rn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #74 and #75",
        "sha": "93b060f3b89ba5b6c3a12f3c5c011d73a67272a0",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/93b060f3b89ba5b6c3a12f3c5c011d73a67272a0",
        "parents": [
            "b374f729d28f7b6671ea4e09e6a6b4f45d367e35"
        ],
        "files": [
            {
                "sha": "3623709ec35bd933ff7d391934cb0476d7c82df2",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 1,
                "changes": 7,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/93b060f3b89ba5b6c3a12f3c5c011d73a67272a0/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/93b060f3b89ba5b6c3a12f3c5c011d73a67272a0/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -17,6 +17,11 @@\n     _docker_os_dist_major_version == \"18\"\n   tags: [\"install\", \"configure\"]\n \n+- name: Reset role variables\n+  set_fact:\n+    docker_systemd_service_config_tweaks: []\n+    docker_service_envs: {}\n+\n # https://wiki.ubuntu.com/SystemdForUpstartUsers\n # Important! systemd is only fully supported in Ubuntu 15.04 and later releases\n - name: Determine usage of systemd\n@@ -69,7 +74,7 @@\n \n - name: Configure non-systemd service\n   include_tasks: configure-non-systemd.yml\n-  when: _docker_systemd_used | bool\n+  when: not _docker_systemd_used | bool\n   tags: [\"configure\"]\n \n - name: Configure Docker"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-security",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #54: Just start the timer, not the service.",
        "sha": "4bf582e8a87813ddd8024a8bd41d4032e6641bbd",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-security/commits/4bf582e8a87813ddd8024a8bd41d4032e6641bbd",
        "parents": [
            "f3dd45a61b08de1b3351140cc442a705cb2fad82"
        ],
        "files": [
            {
                "sha": "bb4e615c2f2efd283132f1c3cd606942e1d5a60d",
                "filename": "tasks/autoupdate-RedHat.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/geerlingguy/ansible-role-security/blob/4bf582e8a87813ddd8024a8bd41d4032e6641bbd/tasks/autoupdate-RedHat.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-security/raw/4bf582e8a87813ddd8024a8bd41d4032e6641bbd/tasks/autoupdate-RedHat.yml",
                "status": "modified",
                "patch": "@@ -2,12 +2,14 @@\n - name: Set correct automatic update utility vars (RHEL 8).\n   set_fact:\n     update_utility: dnf-automatic\n+    update_service: dnf-automatic-install.timer\n     update_conf_path: /etc/dnf/automatic.conf\n   when: ansible_distribution_major_version | int == 8\n \n - name: Set correct automatic update utility vars (RHEL <= 7).\n   set_fact:\n     update_utility: yum-cron\n+    update_service: yum-cron\n     update_conf_path: /etc/yum/yum-cron.conf\n   when: ansible_distribution_major_version | int <= 7\n \n@@ -18,7 +20,7 @@\n \n - name: Ensure automatic update utility is running and enabled on boot.\n   service:\n-    name: '{{ update_utility }}'\n+    name: '{{ update_service }}'\n     state: started\n     enabled: true\n "
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "haxorof",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "haxorof",
        "committer_email": "bjorn.oscarsson@gmail.com",
        "message": "Fixes #1",
        "sha": "b11c4477d973b0cc87a296f6b028eaf9abab4686",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/b11c4477d973b0cc87a296f6b028eaf9abab4686",
        "parents": [
            "23d89498e8b43ab624b6e832c34b722ae49f106d"
        ],
        "files": [
            {
                "sha": "2c307c60a332af536d304b4059175c10570610dc",
                "filename": "tasks/main-Generic.yml",
                "previous_filename": null,
                "additions": 13,
                "deletions": 4,
                "changes": 17,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/b11c4477d973b0cc87a296f6b028eaf9abab4686/tasks/main-Generic.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/b11c4477d973b0cc87a296f6b028eaf9abab4686/tasks/main-Generic.yml",
                "status": "modified",
                "patch": "@@ -10,7 +10,7 @@\n - name: Set fact if old Docker installation shall be removed\n   set_fact:\n     remove_old_docker: \"{{docker_remove_pre_ce | bool }} == true and {{ cmd_docker_version.stdout_lines[0] | search('-ce') }} == false\"\n-  when: cmd_docker_version.stdout_lines[0] is defined\n+  when: cmd_docker_version.stdout_lines is defined and cmd_docker_version.stdout_lines[0] is defined\n \n - name: Check if Docker is running\n   command: systemctl status docker\n@@ -53,13 +53,22 @@\n     mode: 0755\n   become: true\n \n-- name: Configure Docker daemon\n+- name: Configure Docker daemon (file)\n   copy:\n-    content: \"{{docker_daemon_config | to_nice_json}}\"\n+    src: \"{{ docker_daemon_config_file }}\"\n     dest: /etc/docker/daemon.json\n   become: true\n   notify: restart docker\n-  when: docker_daemon_config is defined\n+  when: docker_daemon_config_file is defined\n+\n+- name: Configure Docker daemon (variables)\n+  copy:\n+    content: \"{{ docker_daemon_config | to_nice_json }}\"\n+    dest: /etc/docker/daemon.json\n+  become: true\n+  notify: restart docker\n+  when: docker_daemon_config_file is not defined and \n+        docker_daemon_config is defined\n \n - name: Enable and start Docker service\n   service:"
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjExOTEyODU=",
        "author_name": "Andrew Block",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "Fix conditional logic for generating variables without values (#202)",
        "sha": "e005198769366648182cf2c2a94a8e6de9604e31",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/e005198769366648182cf2c2a94a8e6de9604e31",
        "parents": [
            "713581e72f316f187c0c70afdba3b9a76695ecee"
        ],
        "files": [
            {
                "sha": "06de77e0a2917b03ede1eef237802127e0f1d10c",
                "filename": "roles/config-postgresql/tasks/install_containerized.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/e005198769366648182cf2c2a94a8e6de9604e31/roles/config-postgresql/tasks/install_containerized.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/e005198769366648182cf2c2a94a8e6de9604e31/roles/config-postgresql/tasks/install_containerized.yml",
                "status": "modified",
                "patch": "@@ -3,23 +3,23 @@\n - name: Generate Random DB Username\n   set_fact:\n     postgresql_username: \"{{ lookup('password', '/dev/null length=5 chars=ascii_letters') | lower }}\"\n-  when: postgresql_username is undefined and postgresql_username|trim == \"\"\n+  when: postgresql_username is undefined or postgresql_username|trim == \"\"\n \n - name: Generate Random DB Admin Username\n   set_fact:\n     postgresql_admin_user: \"{{ lookup('password', '/dev/null length=5 chars=ascii_letters') | lower }}\"\n-  when: postgresql_admin_user is undefined and postgresql_admin_user|trim == \"\"\n+  when: postgresql_admin_user is undefined or postgresql_admin_user|trim == \"\"\n \n \n - name: Generate Random DB Password\n   set_fact:\n     postgresql_password: \"{{ lookup('password', '/dev/null length=10 chars=ascii_letters,digits,hexdigits') }}\"\n-  when: postgresql_password is undefined and postgresql_password|trim == \"\"\n+  when: postgresql_password is undefined or postgresql_password|trim == \"\"\n \n - name: Generate Random Admin DB Password\n   set_fact:\n     postgresql_admin_password: \"{{ lookup('password', '/dev/null length=10 chars=ascii_letters,digits,hexdigits') }}\"\n-  when: postgresql_admin_password is undefined and postgresql_admin_password|trim == \"\"\n+  when: postgresql_admin_password is undefined or postgresql_admin_password|trim == \"\"\n \n - name: Configure Storage Directory\n   file:"
            },
            {
                "sha": "d25761965bf4e0077b067c3690ff96f157f4ab62",
                "filename": "roles/config-mysql/tasks/install_containerized.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/e005198769366648182cf2c2a94a8e6de9604e31/roles/config-mysql/tasks/install_containerized.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/e005198769366648182cf2c2a94a8e6de9604e31/roles/config-mysql/tasks/install_containerized.yml",
                "status": "modified",
                "patch": "@@ -3,25 +3,25 @@\n - name: Generate Random DB Username\n   set_fact:\n     mysql_username: \"{{ lookup('password', '/dev/null length=5 chars=ascii_letters') | lower }}\"\n-  when: mysql_username is undefined and mysql_username|trim == \"\"\n+  when: mysql_username is undefined or mysql_username|trim == \"\"\n   run_once: True\n \n - name: Generate Random DB Admin Username\n   set_fact:\n     mysql_root_username: \"root\"\n-  when: mysql_root_username is undefined and mysql_root_username|trim == \"\"\n+  when: mysql_root_username is undefined or mysql_root_username|trim == \"\"\n   run_once: True\n \n - name: Generate Random DB Password\n   set_fact:\n     mysql_password: \"{{ lookup('password', '/dev/null length=10 chars=ascii_letters,digits,hexdigits') }}\"\n-  when: mysql_password is undefined and mysql_password|trim == \"\"\n+  when: mysql_password is undefined or mysql_password|trim == \"\"\n   run_once: True\n \n - name: Generate Random Admin DB Password\n   set_fact:\n     mysql_root_password: \"{{ lookup('password', '/dev/null length=10 chars=ascii_letters,digits,hexdigits') }}\"\n-  when: mysql_root_password is undefined and mysql_root_password|trim == \"\"\n+  when: mysql_root_password is undefined or mysql_root_password|trim == \"\"\n   run_once: True\n \n - name: Configure Storage Directory"
            }
        ]
    },
    {
        "repo": "cytopia/ansible-role-cloudformation",
        "author_id": "MDQ6VXNlcjEyNTMzOTk5",
        "author_name": "cytopia",
        "committer_id": "MDQ6VXNlcjEyNTMzOTk5",
        "committer_name": "cytopia",
        "committer_email": "cytopia@everythingcli.org",
        "message": "Fixes #21 Use termination_protection (requires to bump Ansible from 2.4 to 2.5",
        "sha": "af1b4f6c5adde980e027a8b8f38684b11ffbfa19",
        "url": "https://api.github.com/repos/cytopia/ansible-role-cloudformation/commits/af1b4f6c5adde980e027a8b8f38684b11ffbfa19",
        "parents": [
            "06debddee35d8fefbe5e636c03cbe6c619befb00"
        ],
        "files": [
            {
                "sha": "1cdcad3eac647a1b95eb8defe0e622620e4c1730",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/cytopia/ansible-role-cloudformation/blob/af1b4f6c5adde980e027a8b8f38684b11ffbfa19/meta/main.yml",
                "raw_url": "https://github.com/cytopia/ansible-role-cloudformation/raw/af1b4f6c5adde980e027a8b8f38684b11ffbfa19/meta/main.yml",
                "status": "modified",
                "patch": "@@ -5,7 +5,7 @@ galaxy_info:\n   company: cytopia\n   license: MIT\n   description: Ansible role to render an arbitrary number of Jinja2 templates into cloudformation files and create any number of stacks.\n-  min_ansible_version: 2.4\n+  min_ansible_version: 2.5\n   platforms:\n     - name: Amazon\n       versions:"
            },
            {
                "sha": "fba1bb350bc6e088d98c3f3b0b0ff999c5725eb2",
                "filename": "tasks/run.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/cytopia/ansible-role-cloudformation/blob/af1b4f6c5adde980e027a8b8f38684b11ffbfa19/tasks/run.yml",
                "raw_url": "https://github.com/cytopia/ansible-role-cloudformation/raw/af1b4f6c5adde980e027a8b8f38684b11ffbfa19/tasks/run.yml",
                "status": "modified",
                "patch": "@@ -77,6 +77,7 @@\n     profile: \"{{ cloudformation.profile | default(cloudformation_defaults.profile | default(omit)) }}\"\n     region: \"{{ cloudformation.region | default(cloudformation_defaults.region | default(omit)) }}\"\n     notification_arns: \"{{ cloudformation.notification_arns | default(cloudformation_defaults.notification_arns | default(omit)) }}\"\n+    termination_protection: \"{{ cloudformation.termination_protextion | default(cloudformation_defaults.termination_protection | default(omit)) }}\"\n     template_parameters: \"{{ cloudformation.template_parameters | default(omit) }}\"\n     tags: \"{{ cloudformation.tags | default(omit) }}\"\n   when: not cloudformation_generate_only"
            }
        ]
    },
    {
        "repo": "redhat-cop/casl-ansible",
        "author_id": "MDQ6VXNlcjEwNTU3MzE4",
        "author_name": "Dan Jurgensmeyer",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "fix variable name (#140)",
        "sha": "660d837b44e084a3331e402d7f894ce1c6d0d6e7",
        "url": "https://api.github.com/repos/redhat-cop/casl-ansible/commits/660d837b44e084a3331e402d7f894ce1c6d0d6e7",
        "parents": [
            "fb2a3bb21d5916bce22804aec6009e8418c39ce3"
        ],
        "files": [
            {
                "sha": "3f4d4ebcd175556e27f229cb5a2d577ca5db9dcc",
                "filename": "playbooks/openshift/cinder-registry.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/redhat-cop/casl-ansible/blob/660d837b44e084a3331e402d7f894ce1c6d0d6e7/playbooks/openshift/cinder-registry.yml",
                "raw_url": "https://github.com/redhat-cop/casl-ansible/raw/660d837b44e084a3331e402d7f894ce1c6d0d6e7/playbooks/openshift/cinder-registry.yml",
                "status": "modified",
                "patch": "@@ -9,7 +9,7 @@\n   - name: \"set registry volumeID fact\"\n     set_fact: \n       openshift_hosted_registry_storage_openstack_volumeID: \"{{ disk.volume.id }}\"\n-      openshift_hosted_registry_storage_openstack_volume_size: \"{{ disk.volume.size }}Gi\"\n+      openshift_hosted_registry_storage_volume_size: \"{{ disk.volume.size }}Gi\"\n     with_items: \n     -  \"{{ hostvars['localhost'].os_volumes.results }}\"\n     when: "
            }
        ]
    },
    {
        "repo": "arknoll/ansible-role-selenium",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #3: Support for Chrome / Chrome Driver.",
        "sha": "93323682e05d5f752aeb35eccb3b32b4cac22568",
        "url": "https://api.github.com/repos/arknoll/ansible-role-selenium/commits/93323682e05d5f752aeb35eccb3b32b4cac22568",
        "parents": [
            "cf6e7591ce6688182d2ebd8f7f94d2681ace353c"
        ],
        "files": [
            {
                "sha": "3cbe3419d59e438016f42077cd0da4f46ddfb5a9",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 55,
                "deletions": 29,
                "changes": 84,
                "blob_url": "https://github.com/arknoll/ansible-role-selenium/blob/93323682e05d5f752aeb35eccb3b32b4cac22568/tasks/main.yml",
                "raw_url": "https://github.com/arknoll/ansible-role-selenium/raw/93323682e05d5f752aeb35eccb3b32b4cac22568/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -1,42 +1,68 @@\n ---\n # Tasks file for selenium\n+- name: Include OS-Specific variables\n+  include_vars: \"{{ ansible_os_family }}.yml\"\n+  tags: [configuration, selenium]\n+\n - name: create directory\n   file: \"path={{ selenium_install_dir }}/selenium state=directory recurse=yes\"\n   tags: [configuration, selenium, selenium-create-directory]\n \n-- name: download\n-  get_url: \"url=http://selenium-release.storage.googleapis.com/{{ selenium_version | regex_replace('\\\\.[0-9]+$', '') }}/selenium-server-standalone-{{ selenium_version }}.jar dest={{ selenium_install_dir }}/selenium/selenium-server-standalone-{{ selenium_version }}.jar\"\n+- name: Download Selenium\n+  get_url:\n+    url: \"http://selenium-release.storage.googleapis.com/{{ selenium_version | regex_replace('\\\\.[0-9]+$', '') }}/selenium-server-standalone-{{ selenium_version }}.jar\"\n+    dest: \"{{ selenium_install_dir }}/selenium/selenium-server-standalone-{{ selenium_version }}.jar\"\n   tags: [configuration, selenium, selenium-download]\n \n+- name: Install FireFox (if configured)\n+  package: name=firefox state=present\n+  when: selenium_install_firefox\n+  tags: [configuration, selenium, selenium-firefox]\n+\n+- name: Install Chrome (if configured, Debian)\n+  apt:\n+    deb: https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\n+    state: present\n+  when: ansible_os_family == 'Debian' and selenium_install_chrome\n+  tags: [configuration, selenium, selenium-chrome]\n+\n+- name: Install Chrome (if configured, RedHat)\n+  yum:\n+    name: https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm\n+    state: present\n+  when: ansible_os_family == 'RedHat' and selenium_install_chrome\n+  tags: [configuration, selenium, selenium-chrome]\n+\n+- name: Get the latest release for chromedriver\n+  uri:\n+    url: http://chromedriver.storage.googleapis.com/LATEST_RELEASE\n+    return_content: yes\n+  register: chromedriver_latest\n+  when: selenium_install_chrome\n+  tags: [configuration, selenium, selenium-chrome]\n+\n+- name: Install chromedriver\n+  unarchive:\n+    src: \"http://chromedriver.storage.googleapis.com/{{ chromedriver_latest.content | trim }}/chromedriver_linux64.zip\"\n+    dest: /usr/bin\n+    mode: 0755\n+    copy: no\n+  when: selenium_install_chrome\n+  tags: [configuration, selenium, selenium-chrome]\n+\n - name: Install xvfb\n-  apt: name={{item}}\n-  with_items:\n-    - xvfb\n-  when: ansible_os_family == 'Debian'\n-\n-- name: Install browser\n-  apt: name={{item}}\n-  with_items:\n-    - firefox\n-  when: ansible_os_family == 'Debian' and selenium_install_firefox\n-\n-- name: Install browser Xvfb\n-  yum: name={{item}}\n-  with_items:\n-    - xorg-x11-server-Xvfb\n-  when: ansible_os_family == 'RedHat'\n-\n-- name: Install browser\n-  yum: name={{item}}\n-  with_items:\n-    - firefox\n-  when: ansible_os_family == 'RedHat' and selenium_install_firefox\n-\n-\n-- name: install\n-  template: src=selenium-init-{{ ansible_os_family }}.j2 dest=/etc/init.d/selenium owner=root group=root mode=0755\n+  package: name={{ selenium_xvfb_package }}\n+  tags: [configuration, selenium, selenium-xvfb]\n+\n+- name: Install init script\n+  template:\n+    src: \"selenium-init-{{ ansible_os_family }}.j2\"\n+    dest: /etc/init.d/selenium\n+    owner: root\n+    group: root\n+    mode: 0755\n   tags: [configuration, selenium, selenium-install]\n \n-- name: run\n+- name: Ensure selenium is running\n   service: name=selenium state=started enabled=yes\n   tags: [configuration, selenium, selenium-run]"
            },
            {
                "sha": "81cc3dbb99919d1a2a37abeeaae5e52d21ea5fbb",
                "filename": "meta/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/arknoll/ansible-role-selenium/blob/93323682e05d5f752aeb35eccb3b32b4cac22568/meta/main.yml",
                "raw_url": "https://github.com/arknoll/ansible-role-selenium/raw/93323682e05d5f752aeb35eccb3b32b4cac22568/meta/main.yml",
                "status": "modified",
                "patch": "@@ -4,7 +4,7 @@ galaxy_info:\n   author: Alex Knoll\n   description: Set up selenium and Firefox for running selenium tests.\n   license: Apache V2\n-  min_ansible_version: 1.3\n+  min_ansible_version: 2.0\n   platforms:\n   - name: EL\n     versions:"
            }
        ]
    },
    {
        "repo": "kubevirt/kubevirt-ansible",
        "author_id": "MDQ6VXNlcjYyODQwMDM=",
        "author_name": "Shiyang Wang",
        "committer_id": "MDQ6VXNlcjE1MDU2ODQ=",
        "committer_name": "Lukas Bednar",
        "committer_email": "lukyn17@gmail.com",
        "message": "fix kraken crash due to MON_IP with wrong value (#236)\n\nSigned-off-by: Shiyang Wang <shiywang@redhat.com>",
        "sha": "82918d7eb1be551b248ab1c072ce966d922ebf8e",
        "url": "https://api.github.com/repos/kubevirt/kubevirt-ansible/commits/82918d7eb1be551b248ab1c072ce966d922ebf8e",
        "parents": [
            "6d923ac07f1261a6126ae7d910c2b90a5f4abdec"
        ],
        "files": [
            {
                "sha": "1895c4f701e57278752e0e07f2b642a705909279",
                "filename": "roles/storage-demo/templates/storage-demo.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 2,
                "changes": 8,
                "blob_url": "https://github.com/kubevirt/kubevirt-ansible/blob/82918d7eb1be551b248ab1c072ce966d922ebf8e/roles/storage-demo/templates/storage-demo.yml",
                "raw_url": "https://github.com/kubevirt/kubevirt-ansible/raw/82918d7eb1be551b248ab1c072ce966d922ebf8e/roles/storage-demo/templates/storage-demo.yml",
                "status": "modified",
                "patch": "@@ -50,7 +50,9 @@ spec:\n         args: [\"demo\"]\n         env:\n         - name: MON_IP\n-          value: \"{{ storage_demo_node_hostname }}\"\n+          valueFrom:\n+            fieldRef:\n+              fieldPath: status.hostIP\n         - name: CEPH_PUBLIC_NETWORK\n           value: \"0.0.0.0/0\"\n         - name: RGW_CIVETWEB_PORT\n@@ -94,7 +96,9 @@ spec:\n         command: [\"/scripts/ceph-service.sh\"]\n         env:\n         - name: MON_IP\n-          value: \"{{ storage_demo_node_hostname }}\"\n+          valueFrom:\n+            fieldRef:\n+              fieldPath: status.hostIP\n         volumeMounts:\n         - name: cephetc\n           mountPath: \"/etc/ceph\""
            }
        ]
    },
    {
        "repo": "haxorof/ansible-role-docker-ce",
        "author_id": "MDQ6VXNlcjExNDU3NjQy",
        "author_name": "Bjorn Oscarsson",
        "committer_id": "MDQ6VXNlcjExNDU3NjQy",
        "committer_name": "Bjorn Oscarsson",
        "committer_email": "haxorof@users.noreply.github.com",
        "message": "Fixes #102 #103",
        "sha": "6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d",
        "url": "https://api.github.com/repos/haxorof/ansible-role-docker-ce/commits/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d",
        "parents": [
            "a4353ba2ca894ca5adf7833aa086bfe53bd7df1e"
        ],
        "files": [
            {
                "sha": "f846c3f5c76e9d368274f25e5624f32840cd3c5d",
                "filename": "tasks/postinstall.yml",
                "previous_filename": null,
                "additions": 11,
                "deletions": 1,
                "changes": 12,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d/tasks/postinstall.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d/tasks/postinstall.yml",
                "status": "modified",
                "patch": "@@ -90,7 +90,17 @@\n     - _docker_additional_packages_pip | length > 0\n     - _docker_pip_cmd.rc != 0\n     - _docker_os_dist == \"Debian\"\n-    - _docker_os_dist_major_version == '8'\n+    - _docker_os_dist_major_version | int == 8\n+\n+- name: Ensure python-backports.ssl-match-hostname is present (Debian 10)\n+  set_fact:\n+    _docker_additional_packages_os: \"{{ _docker_additional_packages_os + ['python-backports.ssl-match-hostname'] }}\"\n+  when:\n+    - not _docker_python3 | bool\n+    - _docker_additional_packages_pip | length > 0\n+    - _docker_pip_cmd.rc != 0\n+    - _docker_os_dist == \"Debian\"\n+    - _docker_os_dist_major_version | int == 10\n \n - name: Ensure EPEL release repository is installed\n   become: true"
            },
            {
                "sha": "5c4bedb6c97a3d0977da76b76c758e248b294c3e",
                "filename": "tasks/configure-docker.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d/tasks/configure-docker.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d/tasks/configure-docker.yml",
                "status": "modified",
                "patch": "@@ -98,7 +98,7 @@\n         state: present\n       register: _pkg_result\n       until: _pkg_result is succeeded\n-      when: (_docker_os_dist == \"Ubuntu\" or (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version > '7'))\n+      when: (_docker_os_dist == \"Ubuntu\" or (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version | int > 7))\n   when:\n     - docker_daemon_config['storage-driver'] is defined\n     - docker_daemon_config['storage-driver'] == 'devicemapper'"
            },
            {
                "sha": "be66086fd2f6c257e084a81dd8c33cd038cf0ce2",
                "filename": "tasks/bug-tweaks.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d/tasks/bug-tweaks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d/tasks/bug-tweaks.yml",
                "status": "modified",
                "patch": "@@ -8,6 +8,6 @@\n   include_tasks: bug-tweaks/tweak-debian8-directlvm.yml\n   when:\n     - _docker_os_dist == \"Debian\"\n-    - _docker_os_dist_major_version == '8'\n+    - _docker_os_dist_major_version | int == 8\n     - docker_daemon_config['storage-opts'] is defined\n     - docker_daemon_config['storage-opts'] | select('match', '^dm.directlvm_device.+')"
            },
            {
                "sha": "e3e9ece788104302f230b5ed14d78646b10b6419",
                "filename": "tasks/checks/compatibility-checks.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d/tasks/checks/compatibility-checks.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d/tasks/checks/compatibility-checks.yml",
                "status": "modified",
                "patch": "@@ -22,7 +22,7 @@\n       this role on a host running Debian Wheezy.\n   when:\n     - _docker_os_dist == \"Debian\"\n-    - _docker_os_dist_major_version == '7'\n+    - _docker_os_dist_major_version | int == 7\n     - docker_stack | bool or\n       docker_sdk | bool or\n       docker_pip_upgrade | bool or"
            },
            {
                "sha": "68d88d87ae0a6ed66d5bde5f57276de72c31e240",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 27,
                "deletions": 2,
                "changes": 29,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d/tasks/main.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -13,10 +13,21 @@\n   set_fact:\n     _docker_os_dist: \"Ubuntu\"\n     _docker_os_dist_release: \"xenial\"\n-    _docker_os_dist_major_version: \"16\"\n+    _docker_os_dist_major_version: 16\n   when:\n     _docker_os_dist == \"Linux Mint\" and\n-    _docker_os_dist_major_version == \"18\"\n+    _docker_os_dist_major_version | int == 18\n+  tags: [\"always\"]\n+\n+- name: Reinterpret distribution facts for Debian 10 (Buster) due to bug\n+  set_fact:\n+    _docker_os_dist: \"Debian\"\n+    _docker_os_dist_release: \"buster\"\n+    _docker_os_dist_major_version: 10\n+  when:\n+    - _docker_os_dist == \"Debian\"\n+    - _docker_os_dist_release == \"buster\" or (ansible_lsb is defined\n+        and ansible_lsb.codename is defined and ansible_lsb.codename == \"buster\")\n   tags: [\"always\"]\n \n - name: OS release info\n@@ -26,6 +37,20 @@\n   register: _docker_os_release_info\n   tags: [\"always\"]\n \n+- name: Print OS release information\n+  debug:\n+    var: _docker_os_release_info\n+    verbosity: 1\n+  tags: [\"always\"]\n+\n+- name: Print LSB information\n+  debug:\n+    var: ansible_lsb\n+    verbosity: 1\n+  when:\n+    - ansible_lsb is defined\n+  tags: [\"always\"]\n+\n - name: Reinterpret distribution facts for Raspbian\n   set_fact:\n     _docker_os_arch: \"armhf\""
            },
            {
                "sha": "f28c8f28eaf65389acd16066b3c15eb6dbb1d844",
                "filename": "tasks/setup-repository-Ubuntu.yml",
                "previous_filename": null,
                "additions": 26,
                "deletions": 13,
                "changes": 39,
                "blob_url": "https://github.com/haxorof/ansible-role-docker-ce/blob/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d/tasks/setup-repository-Ubuntu.yml",
                "raw_url": "https://github.com/haxorof/ansible-role-docker-ce/raw/6a20b97dfa9f5a3b8ee4e66a6f84fa7334ceff8d/tasks/setup-repository-Ubuntu.yml",
                "status": "modified",
                "patch": "@@ -1,13 +1,26 @@\n ---\n-- name: Update APT cache\n-  become: true\n-  apt:\n-    update_cache: yes\n-  changed_when: false\n-  register: _pkg_result\n-  until: _pkg_result is succeeded\n-  when:\n-    - docker_network_access | bool\n+- name: Update APT cache block\n+  block:\n+    - name: Update APT cache\n+      become: true\n+      apt:\n+        update_cache: yes\n+      changed_when: false\n+      register: _pkg_result\n+      until: _pkg_result is succeeded\n+      when:\n+        - docker_network_access | bool\n+  rescue:\n+    - name: Retry APT cache update with allow-releaseinfo-change\n+      become: true\n+      command: apt-get update --allow-releaseinfo-change\n+      args:\n+        warn: false\n+      changed_when: false\n+      register: _pkg_result\n+      until: _pkg_result is succeeded\n+      when:\n+        - docker_network_access | bool\n \n - name: Ensure packages are installed for repository setup\n   become: true\n@@ -29,8 +42,8 @@\n   until: _pkg_result is succeeded\n   when:\n     - docker_network_access | bool\n-    - (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version > 14) or\n-      (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version > 7)\n+    - (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version | int > 14) or\n+      (_docker_os_dist == \"Debian\" and _docker_os_dist_major_version | int > 7)\n \n - name: Add Docker APT key (alternative for older Ubuntu systems without SNI).\n   become: true\n@@ -40,8 +53,8 @@\n   changed_when: false\n   when:\n     - docker_network_access | bool\n-    - (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version == 14) or\n-      (_docker_os_dist == \"Debian\" and  _docker_os_dist_major_version == 7)\n+    - (_docker_os_dist == \"Ubuntu\" and _docker_os_dist_major_version | int == 14) or\n+      (_docker_os_dist == \"Debian\" and  _docker_os_dist_major_version | int == 7)\n   tags:\n     - skip_ansible_lint\n "
            }
        ]
    },
    {
        "repo": "trailofbits/algo",
        "author_id": "MDQ6VXNlcjIwNjUzMjQy",
        "author_name": "Defunct",
        "committer_id": "MDQ6VXNlcjIwNjUzMjQy",
        "committer_name": "Defunct",
        "committer_email": "defunct@defunct.io",
        "message": "resolves #176 + other ec2 env issues",
        "sha": "a9dd0af3fe0b5a70ed74a7be204d616df9574023",
        "url": "https://api.github.com/repos/trailofbits/algo/commits/a9dd0af3fe0b5a70ed74a7be204d616df9574023",
        "parents": [
            "977fbd471bcd27ad5d1adbfedc83b2436014a7f1"
        ],
        "files": [
            {
                "sha": "343470b109853d625b48cf7d0c8e1a7965431a0d",
                "filename": "roles/cloud-ec2/tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/trailofbits/algo/blob/a9dd0af3fe0b5a70ed74a7be204d616df9574023/roles/cloud-ec2/tasks/main.yml",
                "raw_url": "https://github.com/trailofbits/algo/raw/a9dd0af3fe0b5a70ed74a7be204d616df9574023/roles/cloud-ec2/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -25,8 +25,8 @@\n \n - name: Configure EC2 virtual private clouds\n   ec2_vpc:\n-    aws_access_key: \"{{ aws_access_key }}\"\n-    aws_secret_key: \"{{ aws_secret_key }}\"\n+    aws_access_key: \"{{ aws_access_key | default(lookup('env','AWS_ACCESS_KEY_ID'))}}\"\n+    aws_secret_key: \"{{ aws_secret_key | default(lookup('env','AWS_SECRET_ACCESS_KEY'))}}\"\n     state: present\n     resource_tags: { \"Environment\":\"Algo\" }\n     region: \"{{ region }}\"\n@@ -39,6 +39,8 @@\n \n - name: Set up Public Subnets Route Table\n   ec2_vpc_route_table:\n+    aws_access_key: \"{{ aws_access_key | default(lookup('env','AWS_ACCESS_KEY_ID'))}}\"\n+    aws_secret_key: \"{{ aws_secret_key | default(lookup('env','AWS_SECRET_ACCESS_KEY'))}}\"\n     vpc_id: \"{{ vpc.vpc_id }}\"\n     region: \"{{ region }}\"\n     state: present"
            }
        ]
    },
    {
        "repo": "geerlingguy/ansible-role-solr",
        "author_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "author_name": "Jeff Geerling",
        "committer_id": "MDQ6VXNlcjQ4MTY3Nw==",
        "committer_name": "Jeff Geerling",
        "committer_email": "geerlingguy@mac.com",
        "message": "Fixes #58: Combine download and expand role tasks.",
        "sha": "0b1126b9c4fb5223ad2962bcafc5afd3fb069aaa",
        "url": "https://api.github.com/repos/geerlingguy/ansible-role-solr/commits/0b1126b9c4fb5223ad2962bcafc5afd3fb069aaa",
        "parents": [
            "d6975ce0821cb79bcdd4d0714033f0f0615d81f7"
        ],
        "files": [
            {
                "sha": "0a7a80cbd0819d9fab78f52949d0753678e3af16",
                "filename": "tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 8,
                "changes": 10,
                "blob_url": "https://github.com/geerlingguy/ansible-role-solr/blob/0b1126b9c4fb5223ad2962bcafc5afd3fb069aaa/tasks/main.yml",
                "raw_url": "https://github.com/geerlingguy/ansible-role-solr/raw/0b1126b9c4fb5223ad2962bcafc5afd3fb069aaa/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -12,18 +12,12 @@\n     solr_filename: \"apache-solr-{{ solr_version }}\"\n   when: \"solr_version.split('.')[0] == '3'\"\n \n-- name: Download Solr.\n-  get_url:\n-    url: \"{{ solr_mirror }}/lucene/solr/{{ solr_version }}/{{ solr_filename }}.tgz\"\n-    dest: \"{{ solr_workspace }}/{{ solr_filename }}.tgz\"\n-    force: no\n-\n - name: Expand Solr.\n   unarchive:\n-    src: \"{{ solr_workspace }}/{{ solr_filename }}.tgz\"\n+    src: \"{{ solr_mirror }}/lucene/solr/{{ solr_version }}/{{ solr_filename }}.tgz\"\n     dest: \"{{ solr_workspace }}\"\n+    remote_src: true\n     creates: \"{{ solr_workspace }}/{{ solr_filename }}/CHANGES.txt\"\n-    copy: no\n \n # Install Solr < 5.\n - include: install-pre5.yml"
            }
        ]
    },
    {
        "repo": "Capgemini/Apollo",
        "author_id": "MDQ6VXNlcjE2ODE4OTY=",
        "author_name": "Graham Taylor",
        "committer_id": "MDQ6VXNlcjE2ODE4OTY=",
        "committer_name": "Graham Taylor",
        "committer_email": "gtayzlor@gmail.com",
        "message": "Fix #497, #496, #502 - Upgrade mesos and marathon to latest stable versions",
        "sha": "ecbbe0b1fe5397830faf4c88cc4919146b2e6b11",
        "url": "https://api.github.com/repos/Capgemini/Apollo/commits/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11",
        "parents": [
            "21712b74b7f5d936e70186bbed6bb37e3a7ad5e6"
        ],
        "files": [
            {
                "sha": "61cb9e578478b8283a214846577e5410078334c6",
                "filename": "roles/marathon/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11/roles/marathon/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11/roles/marathon/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -2,7 +2,7 @@\n # defaults file for marathon\n marathon_consul_dir: /etc/consul.d\n marathon_enabled: true\n-marathon_version: '0.10.1'\n+marathon_version: '0.11.1'\n marathon_restart_policy: 'always'\n marathon_net: 'host'\n marathon_hostname: \"{{ ansible_ssh_host }}\""
            },
            {
                "sha": "96332335081d128ae85c81eadf9ed2b9b005ae12",
                "filename": "roles/mesos/tasks/master.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11/roles/mesos/tasks/master.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11/roles/mesos/tasks/master.yml",
                "status": "modified",
                "patch": "@@ -26,7 +26,7 @@\n   when: mesos_install_mode == \"master\"\n   docker:\n     name: mesos-master\n-    image: \"mesosphere/mesos-master:0.23.0-1.0.ubuntu1404\"\n+    image: \"{{ mesos_master_image }}\"\n     state: started\n     volumes:\n     - \"{{ mesos_master_work_dir }}:{{ mesos_master_work_dir }}\""
            },
            {
                "sha": "5dfba28358408db871316d05ded3388319b22c2d",
                "filename": "roles/zookeeper/defaults/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11/roles/zookeeper/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11/roles/zookeeper/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -1,6 +1,7 @@\n ---\n # defaults file for zookeeper\n zookeeper_config_dir: \"/etc/zookeeper/conf\"\n+zookeeper_image: \"mesosphere/mesos:0.25.0-0.2.70.ubuntu1404\"\n zookeeper_client_port: 2181\n zookeeper_leader_connect_port: 2888\n zookeeper_leader_election_port: 3888"
            },
            {
                "sha": "036cb479c1a313ba556a9c2690862004ab5e6e55",
                "filename": "roles/mesos/defaults/main.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11/roles/mesos/defaults/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11/roles/mesos/defaults/main.yml",
                "status": "modified",
                "patch": "@@ -6,17 +6,20 @@ mesos_cluster_name: \"Cluster01\"\n mesos_ip: \"{{ ansible_default_ipv4.address }}\"\n mesos_hostname: \"{{ ansible_ssh_host }}\"\n mesos_docker_socket: \"/var/run/weave/weave.sock\"\n+mesos_version: \"0.25.0-0.2.70.ubuntu1404\"\n \n # Defaults file for mesos-salve\n mesos_slave_port: 5051\n mesos_containerizers: \"docker,mesos\"\n mesos_resources: \"ports(*):[31000-32000]\"\n mesos_slave_work_dir: \"/tmp/mesos\"\n+mesos_slave_image: \"mesosphere/mesos-slave:{{ mesos_version }}\"\n \n # Defaults file for mesos-master\n mesos_zookeeper_group: zookeeper_servers\n mesos_master_port: 5050\n mesos_master_work_dir: \"/var/lib/mesos\"\n+mesos_master_image: \"mesosphere/mesos-master:{{ mesos_version }}\"\n \n # The Mesos quorum value is based on the number of Mesos Masters. Take the\n # number of masters, divide by 2, and round-up to nearest integer. For example,"
            },
            {
                "sha": "d7431cbd7efff438af55b61edb261b0e2b6c8a71",
                "filename": "roles/mesos/tasks/slave.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11/roles/mesos/tasks/slave.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11/roles/mesos/tasks/slave.yml",
                "status": "modified",
                "patch": "@@ -15,7 +15,7 @@\n   when: mesos_install_mode == \"slave\"\n   docker:\n     name: mesos-slave\n-    image: \"mesosphere/mesos-slave:0.23.0-1.0.ubuntu1404\"\n+    image: \"{{ mesos_slave_image }}\"\n     state: started\n     privileged: true\n     volumes:"
            },
            {
                "sha": "72cfdcad0e57931884baedba6e81399dde19d195",
                "filename": "roles/zookeeper/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/Capgemini/Apollo/blob/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11/roles/zookeeper/tasks/main.yml",
                "raw_url": "https://github.com/Capgemini/Apollo/raw/ecbbe0b1fe5397830faf4c88cc4919146b2e6b11/roles/zookeeper/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -75,7 +75,7 @@\n - name: run zookeeper container\n   docker:\n     name: zookeeper\n-    image: \"mesosphere/mesos:0.23.0-1.0.ubuntu1404\"\n+    image: \"{{ zookeeper_image }}\"\n     state: started\n     volumes:\n     - \"{{ zookeeper_config_dir }}/:{{ zookeeper_config_dir }}/\""
            }
        ]
    },
    {
        "repo": "nusenu/ansible-relayor",
        "author_id": null,
        "author_name": "nusenu",
        "committer_id": null,
        "committer_name": "nusenu",
        "committer_email": "nusenu@openmailbox.org",
        "message": "OpenBSD: fix a bug in openfiles-max handling (closes #37) Users of previous versions can remove the line \"tordaemon::openfiles-max=13500::tc=daemon:\" from their /etc/login.conf files",
        "sha": "c5b489aa56c545dd0b51910b5a0d701d838ff071",
        "url": "https://api.github.com/repos/nusenu/ansible-relayor/commits/c5b489aa56c545dd0b51910b5a0d701d838ff071",
        "parents": [
            "12d2d30c292e5749809cd7476458762a4de31554"
        ],
        "files": [
            {
                "sha": "3929e7fce2cbb6891d2f9e994ddd158f933f973e",
                "filename": "tasks/openbsd_install.yml",
                "previous_filename": null,
                "additions": 6,
                "deletions": 7,
                "changes": 13,
                "blob_url": "https://github.com/nusenu/ansible-relayor/blob/c5b489aa56c545dd0b51910b5a0d701d838ff071/tasks/openbsd_install.yml",
                "raw_url": "https://github.com/nusenu/ansible-relayor/raw/c5b489aa56c545dd0b51910b5a0d701d838ff071/tasks/openbsd_install.yml",
                "status": "modified",
                "patch": "@@ -32,14 +32,13 @@\n   lineinfile: dest=/etc/sysctl.conf regexp=^kern.maxfiles line=\"kern.maxfiles=20000\" create=yes\n   when: currentlimits.stdout|int < 20000\n \n+# We rise openfiles limits for every tor instance separately.\n+# An instance is identified by its rc.d file name.\n - name: Ensure Tor process file descriptor limits are reasonable (OpenBSD)\n   sudo: yes\n-  lineinfile: \"dest=/etc/login.conf line='{{ tor_loginclass }}::openfiles-max=13500::tc=daemon:'\"\n+  lineinfile: \"dest=/etc/login.conf line='tor{{ item[0]| replace('.','_') }}_{{ item.1.orport }}::openfiles-max=13500::tc=daemon:'\"\n+  with_nested:\n+   - tor_ips\n+   - tor_ports\n   #TODO\n   #notify: restart tor\n-\n-- name: Ensure 'tor_user' has appropriate login class set (OpenBSD)\n-  sudo: yes\n-  user: name={{ tor_user }} login_class={{ tor_loginclass }}\n-  #TODO \n-  #notify: restart tor"
            }
        ]
    },
    {
        "repo": "NVIDIA/deepops",
        "author_id": "MDQ6VXNlcjY4NzI2OQ==",
        "author_name": "Luke Yeager",
        "committer_id": "MDQ6VXNlcjEwMzQzMA==",
        "committer_name": "Doug Holt",
        "committer_email": "doug.holt@gmail.com",
        "message": "Fix warning about ssh role syntax (#66)",
        "sha": "292beaebc7ccbf548c012e15e4867e0b5b9f5429",
        "url": "https://api.github.com/repos/NVIDIA/deepops/commits/292beaebc7ccbf548c012e15e4867e0b5b9f5429",
        "parents": [
            "08e99e2fd312f5fead6903c49417d0af18585784"
        ],
        "files": [
            {
                "sha": "81df19584544963e9bd4caf75549f246f9092e63",
                "filename": "ansible/roles/ssh/handlers/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 4,
                "changes": 6,
                "blob_url": "https://github.com/NVIDIA/deepops/blob/292beaebc7ccbf548c012e15e4867e0b5b9f5429/ansible/roles/ssh/handlers/main.yml",
                "raw_url": "https://github.com/NVIDIA/deepops/raw/292beaebc7ccbf548c012e15e4867e0b5b9f5429/ansible/roles/ssh/handlers/main.yml",
                "status": "modified",
                "patch": "@@ -5,10 +5,8 @@\n \n - name: restart ssh\n   action: service name=ssh state=restarted\n-  when: ssh_service_state != 'stopped'\n-  when: ansible_os_family == \"Debian\"\n+  when: (ssh_service_state != 'stopped' and ansible_os_family == \"Debian\")\n \n - name: restart ssh\n   action: service name=sshd state=restarted\n-  when: ssh_service_state != 'stopped'\n-  when: ansible_os_family == \"Redhat\"\n+  when: (ssh_service_state != 'stopped' and ansible_os_family == \"Redhat\")"
            }
        ]
    },
    {
        "repo": "redhat-cop/infra-ansible",
        "author_id": "MDQ6VXNlcjEwNTU3MzE4",
        "author_name": "Dan Jurgensmeyer",
        "committer_id": "MDQ6VXNlcjc1NDk3ODU=",
        "committer_name": "\u00d8ystein Bedin",
        "committer_email": "oybed@users.noreply.github.com",
        "message": "Fix pxe for buggy UEFI (#54)",
        "sha": "5bfe61883e47a94b616c2b14d0b55adb0b51e75a",
        "url": "https://api.github.com/repos/redhat-cop/infra-ansible/commits/5bfe61883e47a94b616c2b14d0b55adb0b51e75a",
        "parents": [
            "1f090d167b17bd9c5ba938346dab7990530a904f"
        ],
        "files": [
            {
                "sha": "84123fa4576057b137552f0227564b4b60e9857f",
                "filename": "roles/config-pxe/tasks/pxe.yml",
                "previous_filename": null,
                "additions": 7,
                "deletions": 1,
                "changes": 8,
                "blob_url": "https://github.com/redhat-cop/infra-ansible/blob/5bfe61883e47a94b616c2b14d0b55adb0b51e75a/roles/config-pxe/tasks/pxe.yml",
                "raw_url": "https://github.com/redhat-cop/infra-ansible/raw/5bfe61883e47a94b616c2b14d0b55adb0b51e75a/roles/config-pxe/tasks/pxe.yml",
                "status": "modified",
                "patch": "@@ -19,10 +19,16 @@\n   - \"/usr/share/syslinux/vesamenu.c32\"\n   - \"/usr/share/syslinux/menu.c32\"\n \n-# Note: the Ansible 'copy' module doesn't support resursive copy of directories as-is, hence the 'command'\n+# Note: the Ansible 'copy' module doesn't support resursive copy of remote src directories as-is, hence the 'command'\n - name: \"Copy in necessary PXE files for UEFI use\"\n   shell: \"cp -r {{ uefi_source }}/* {{ tftpserver_root_dir }}/pxelinux\"\n \n+- name: \"Workaround for buggy UEFI requiring lowercase\"\n+  copy: \n+    src: \"{{ tftpserver_root_dir }}/pxelinux/BOOTX64.EFI\"\n+    dest: \"{{ tftpserver_root_dir }}/pxelinux/bootx64.efi\"\n+    remote_src: True\n+\n - name: \"Ensure the hosted OS directories exists\"\n   file:\n     path: \"{{ tftpserver_root_dir }}/{{ item.destination }}\""
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjI5NTYwNQ==",
        "author_name": "Scott Walkinshaw",
        "committer_id": "MDQ6VXNlcjI5NTYwNQ==",
        "committer_name": "Scott Walkinshaw",
        "committer_email": "scott.walkinshaw@gmail.com",
        "message": "Fix #550 - Properly skip permalink setup for MU",
        "sha": "3cad79f7ded349127fa0d183402e5c35b10d0f37",
        "url": "https://api.github.com/repos/roots/trellis/commits/3cad79f7ded349127fa0d183402e5c35b10d0f37",
        "parents": [
            "9527520e6647e4b7708689c48d42fe928a7e7c68"
        ],
        "files": [
            {
                "sha": "cb5999a3b9fb349dbbd12c78744a1583b3a34dee",
                "filename": "roles/wordpress-install/tasks/main.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 3,
                "changes": 5,
                "blob_url": "https://github.com/roots/trellis/blob/3cad79f7ded349127fa0d183402e5c35b10d0f37/roles/wordpress-install/tasks/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/3cad79f7ded349127fa0d183402e5c35b10d0f37/roles/wordpress-install/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -40,12 +40,11 @@\n   changed_when: \"'WordPress is already installed.' not in wp_install_results.stdout\"\n \n - name: Setup Permalink Structure\n-  command: wp rewrite structure {{ item.value.initial_permalink_structure | default(\"/%postname%/\") }}\n-           --allow-root\n+  command: wp rewrite structure {{ item.value.initial_permalink_structure | default(\"/%postname%/\") }} --allow-root\n   args:\n     chdir: \"{{ www_root }}/{{ item.key }}/current/\"\n   with_dict: \"{{ wordpress_sites }}\"\n-  when: wp_install_results | changed and not wp_install_results | skipped\n+  when: wp_install_results | changed and not item.value.multisite.enabled | default(false)\n \n - name: Install WP Multisite\n   command: wp core multisite-install"
            }
        ]
    },
    {
        "repo": "dev-sec/ansible-os-hardening",
        "author_id": null,
        "author_name": "Sebastian Gumprich",
        "committer_id": null,
        "committer_name": "Sebastian Gumprich",
        "committer_email": "sebastian.gumprich@38.de",
        "message": "fix wrong permissions passwdqc #170",
        "sha": "b7c6bfe0369646ca69beeb3dfe07e8218d61c940",
        "url": "https://api.github.com/repos/dev-sec/ansible-os-hardening/commits/b7c6bfe0369646ca69beeb3dfe07e8218d61c940",
        "parents": [
            "f4408034296e2e7cf358226617b514c0a1101b93"
        ],
        "files": [
            {
                "sha": "ed0423a016b37fa31f3fb5bd160c11e90a007c5b",
                "filename": "tasks/pam.yml",
                "previous_filename": null,
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/dev-sec/ansible-os-hardening/blob/b7c6bfe0369646ca69beeb3dfe07e8218d61c940/tasks/pam.yml",
                "raw_url": "https://github.com/dev-sec/ansible-os-hardening/raw/b7c6bfe0369646ca69beeb3dfe07e8218d61c940/tasks/pam.yml",
                "status": "modified",
                "patch": "@@ -35,7 +35,7 @@\n   template:\n     src: 'pam_passwdqc.j2'\n     dest: '{{ passwdqc_path }}'\n-    mode: '0640'\n+    mode: '0644'\n     owner: 'root'\n     group: 'root'\n   when: (ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu') and os_auth_pam_passwdqc_enable\n@@ -56,7 +56,7 @@\n   template:\n     src: 'pam_tally2.j2'\n     dest: '{{ tally2_path }}'\n-    mode: '0640'\n+    mode: '0644'\n     owner: 'root'\n     group: 'root'\n   when: (ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu') and not os_auth_pam_passwdqc_enable and os_auth_retries > 0"
            }
        ]
    },
    {
        "repo": "iiab/iiab",
        "author_id": "MDQ6VXNlcjgwODg5NQ==",
        "author_name": "Arky",
        "committer_id": "MDQ6VXNlcjgwODg5NQ==",
        "committer_name": "Arky",
        "committer_email": "hitmanarky@gmail.com",
        "message": "Adding 'no-cache-dir' extra argumuments\n\nPerhaps using no-cache-dir will preview out-of-memory errors on\nRaspberry Pi.\n\nFixes #908",
        "sha": "5c9ad5a9b451575b838963594b87293cbbac829d",
        "url": "https://api.github.com/repos/iiab/iiab/commits/5c9ad5a9b451575b838963594b87293cbbac829d",
        "parents": [
            "9e3783dac89261108975edd93b255a85420e75c9"
        ],
        "files": [
            {
                "sha": "d2921a38a70b03f2dd315c66ea89035f78ed1386",
                "filename": "roles/kolibri/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/iiab/iiab/blob/5c9ad5a9b451575b838963594b87293cbbac829d/roles/kolibri/tasks/main.yml",
                "raw_url": "https://github.com/iiab/iiab/raw/5c9ad5a9b451575b838963594b87293cbbac829d/roles/kolibri/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -23,6 +23,7 @@\n   pip:\n     name: kolibri\n     state: latest\n+    extra_args: --no-cache-dir\n   when: internet_available\n \n - name: Create kolibri systemd service file"
            }
        ]
    },
    {
        "repo": "inkatze/wildfly",
        "author_id": "MDQ6VXNlcjE3NjgzMTky",
        "author_name": "popovk206",
        "committer_id": "MDQ6VXNlcjY2NzE2NTM=",
        "committer_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041a\u043e\u0441\u0442\u044b\u0440\u0435\u0432",
        "committer_email": "kostyrev@users.noreply.github.com",
        "message": "Fix systemd service to make it able to start (#52)",
        "sha": "843b0ad45915a80e0f6000cb5bbdc3f20edbfce4",
        "url": "https://api.github.com/repos/inkatze/wildfly/commits/843b0ad45915a80e0f6000cb5bbdc3f20edbfce4",
        "parents": [
            "b60fa6c875f2c52c4b2b199a0e00b3daa49d9317"
        ],
        "files": [
            {
                "sha": "9796e18eec5c34a0f67a2f781e2c5293b4469d60",
                "filename": "tasks/configure.yml",
                "previous_filename": null,
                "additions": 10,
                "deletions": 6,
                "changes": 16,
                "blob_url": "https://github.com/inkatze/wildfly/blob/843b0ad45915a80e0f6000cb5bbdc3f20edbfce4/tasks/configure.yml",
                "raw_url": "https://github.com/inkatze/wildfly/raw/843b0ad45915a80e0f6000cb5bbdc3f20edbfce4/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -38,13 +38,17 @@\n     - restart wildfly\n     - change standalone data mode\n \n-- name: Copy wildfly systemd unit file\n-  template: src=wildfly.service.j2 dest={{ wildfly_systemd_dir }}/wildfly.service owner=root\n-            group=root mode=0640\n+- block:\n+  - name: Copy wildfly systemd unit file\n+    template: src=wildfly.service.j2 dest={{ wildfly_systemd_dir }}/wildfly.service owner=root\n+              group=root mode=0640\n+    notify:\n+        - restart wildfly\n+        - change standalone data mode\n+  - name: systemd reload\n+    systemd:\n+      daemon_reload: yes\n   when: ansible_service_mgr == 'systemd'\n-  notify:\n-    - restart wildfly\n-    - change standalone data mode\n \n - block:\n   - name: Open wildfly management http tcp port"
            }
        ]
    },
    {
        "repo": "roots/trellis",
        "author_id": "MDQ6VXNlcjUxNzA1OQ==",
        "author_name": "Nathan Byloff",
        "committer_id": "MDQ6VXNlcjUxNzA1OQ==",
        "committer_name": "Nathan Byloff",
        "committer_email": "nbyloff@gmail.com",
        "message": "Fixes #412 - Stop cron job emails",
        "sha": "58debd6aed54dc0804531b22a2889f04f4d877dc",
        "url": "https://api.github.com/repos/roots/trellis/commits/58debd6aed54dc0804531b22a2889f04f4d877dc",
        "parents": [
            "5dc3b692c073d4bee4c5f6de3ab977193af8da40"
        ],
        "files": [
            {
                "sha": "596a74e38bd02ac756d5b941ca400d552caf9c3f",
                "filename": "roles/wordpress-setup/tasks/main.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/roots/trellis/blob/58debd6aed54dc0804531b22a2889f04f4d877dc/roles/wordpress-setup/tasks/main.yml",
                "raw_url": "https://github.com/roots/trellis/raw/58debd6aed54dc0804531b22a2889f04f4d877dc/roles/wordpress-setup/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -26,7 +26,7 @@\n     name: \"{{ item.key }} WordPress cron\"\n     minute: \"*/15\"\n     user: \"{{ web_user }}\"\n-    job: \"curl -s {{ item.value.env.wp_siteurl }}/wp-cron.php\"\n+    job: \"curl -s {{ item.value.env.wp_siteurl }}/wp-cron.php > /dev/null 2>&1\"\n     cron_file: \"wordpress-{{ item.key | replace('.', '_') }}\"\n   with_dict: wordpress_sites\n   when: item.value.env.disable_wp_cron | default(false) and not item.value.multisite.enabled | default(false)"
            }
        ]
    },
    {
        "repo": "NVIDIA/deepops",
        "author_id": "MDQ6VXNlcjExMzMzNjI0",
        "author_name": "Tony Fouchard",
        "committer_id": "MDQ6VXNlcjEwMzQzMA==",
        "committer_name": "Doug Holt",
        "committer_email": "doug.holt@gmail.com",
        "message": "Fix qwant (#39)\n\n* Fixed dgx-servers group and YML file name in README.md\r\n\r\n* Deepops provisioning through proxies",
        "sha": "30e72e8f702e8d9bec1351260ec992a071d09fe5",
        "url": "https://api.github.com/repos/NVIDIA/deepops/commits/30e72e8f702e8d9bec1351260ec992a071d09fe5",
        "parents": [
            "0abeba9c69c70823dbe73e7bcc5f69acfffffb90"
        ],
        "files": [
            {
                "sha": "3b605c25a0dcb72402b636a8c788a6721bb94a1d",
                "filename": "playbooks/k8s-gpu.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 1,
                "changes": 5,
                "blob_url": "https://github.com/NVIDIA/deepops/blob/30e72e8f702e8d9bec1351260ec992a071d09fe5/playbooks/k8s-gpu.yml",
                "raw_url": "https://github.com/NVIDIA/deepops/raw/30e72e8f702e8d9bec1351260ec992a071d09fe5/playbooks/k8s-gpu.yml",
                "status": "modified",
                "patch": "@@ -18,7 +18,8 @@\n     - name: nvidia-docker | apt key\n       apt_key:\n         url: https://nvidia.github.io/nvidia-docker/gpgkey\n-        state: latest\n+        state: present\n+      environment: \"{{proxy_env if proxy_env is defined else {}}}\"\n     - name: nvidia-docker | apt repo\n       apt_repository:\n         repo: \"{{ item }}\"\n@@ -29,13 +30,15 @@\n         - \"deb https://nvidia.github.io/libnvidia-container/ubuntu16.04/amd64 /\"\n         - \"deb https://nvidia.github.io/nvidia-container-runtime/ubuntu16.04/amd64 /\"\n         - \"deb https://nvidia.github.io/nvidia-docker/ubuntu16.04/amd64 /\"\n+      environment: \"{{proxy_env if proxy_env is defined else {}}}\"\n     - name: nvidia-docker | install\n       apt:\n         name: \"{{ item }}\"\n         state: present\n       with_items:\n         - \"nvidia-docker2=2.0.3+docker18.03.1-1\"\n         - \"nvidia-container-runtime=2.0.0+docker18.03.1-1\"\n+      environment: \"{{proxy_env if proxy_env is defined else {}}}\"\n     - name: set docker default runtime\n       copy:\n         content: \"{{ daemon_json | to_nice_json }}\""
            },
            {
                "sha": "538286690feb1269aa77f0ae6f8b98178ffae79d",
                "filename": "ansible/playbooks/bootstrap.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/NVIDIA/deepops/blob/30e72e8f702e8d9bec1351260ec992a071d09fe5/ansible/playbooks/bootstrap.yml",
                "raw_url": "https://github.com/NVIDIA/deepops/raw/30e72e8f702e8d9bec1351260ec992a071d09fe5/ansible/playbooks/bootstrap.yml",
                "status": "modified",
                "patch": "@@ -7,7 +7,7 @@\n     ansible_python_interpreter: /usr/bin/python3\n   tasks:\n     - name: Install Python for Ansible\n-      raw: test -e /usr/bin/python || (apt -y update && apt install -y python-minimal)\n+      raw: \"test -e /usr/bin/python || (http_proxy={{proxy_env.http_proxy if (proxy_env is defined and proxy_env.http_proxy is defined) else \\\"\\\"}} https_proxy={{proxy_env.https_proxy if (proxy_env is defined and proxy_env.https_proxy is defined) else \\\"\\\"}} apt -y update && apt install -y python-minimal)\"\n       register: output\n       changed_when: output.stdout != \"\"\n \n@@ -38,8 +38,10 @@\n       lineinfile: path=/etc/fstab regexp='swap' state=absent\n     - name: install nfs tools\n       apt: name=nfs-common state=latest\n+      environment: \"{{proxy_env if proxy_env is defined else {}}}\"\n     - name: remove resolvconf\n       apt: name=resolvconf state=absent\n+      environment: \"{{proxy_env if proxy_env is defined else {}}}\"\n  \n # configure root ssh keys so local user home directory can be modified\n # root ssh keys should be set in group_vars/all"
            },
            {
                "sha": "477fff98eb977df4eadff80b4016dddfd78496c6",
                "filename": "ansible/roles/ssh/tasks/install.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/NVIDIA/deepops/blob/30e72e8f702e8d9bec1351260ec992a071d09fe5/ansible/roles/ssh/tasks/install.yml",
                "raw_url": "https://github.com/NVIDIA/deepops/raw/30e72e8f702e8d9bec1351260ec992a071d09fe5/ansible/roles/ssh/tasks/install.yml",
                "status": "modified",
                "patch": "@@ -8,3 +8,4 @@\n     - openssh-server\n     - openssh-client\n   when: ansible_os_family == \"Debian\"\n+  environment: \"{{proxy_env if proxy_env is defined else {}}}\""
            },
            {
                "sha": "81f9ad2da870785bbcc62c5d36855f4412bb3eae",
                "filename": "ansible/roles/dgx-software/tasks/main.yml",
                "previous_filename": null,
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/NVIDIA/deepops/blob/30e72e8f702e8d9bec1351260ec992a071d09fe5/ansible/roles/dgx-software/tasks/main.yml",
                "raw_url": "https://github.com/NVIDIA/deepops/raw/30e72e8f702e8d9bec1351260ec992a071d09fe5/ansible/roles/dgx-software/tasks/main.yml",
                "status": "modified",
                "patch": "@@ -27,6 +27,7 @@\n   with_items: \"{{ default_ubuntu_packages }}\"\n   tags:\n     - packages\n+  environment: \"{{proxy_env if proxy_env is defined else {}}}\"\n \n - name: install smart monitoring tools\n   apt:\n@@ -37,6 +38,7 @@\n     - smartmontools\n   tags:\n     - packages\n+  environment: \"{{proxy_env if proxy_env is defined else {}}}\"\n \n - name: install nvidia drivers and datacenter manager\n   apt:\n@@ -49,6 +51,7 @@\n     - nvidia-sysinfo-dgx\n   tags:\n     - packages\n+  environment: \"{{proxy_env if proxy_env is defined else {}}}\"\n   when: not is_official\n \n - name: install nvidia peer memory\n@@ -60,5 +63,6 @@\n     - nvidia-peer-memory-dkms\n   tags:\n     - packages\n+  environment: \"{{proxy_env if proxy_env is defined else {}}}\"\n   when: not is_official\n "
            }
        ]
    },
    {
        "repo": "inkatze/wildfly",
        "author_id": "MDQ6VXNlcjk5ODMxNQ==",
        "author_name": "Juergen Hoffmann",
        "committer_id": null,
        "committer_name": "Juan Diego Romero Gonz\u00e1lez",
        "committer_email": "jd@beardcode.mx",
        "message": "Fixed another typo (#14)\n\n* Fixed a typo\r\n\r\n* Fixes #8\r\n\r\nA systemd definition requires the identification of a given Service, whether it is a service or a socket, etc. This bugfix fixes #8. But there are more things to do. The init script allowed for a lot more options, which need to be ported into the systemd script. I think the easiest would be to call the init script with the start option from the service definition file. Let me know what you think.",
        "sha": "7d3796b2ddfc26da3887cbd9712d28e4cc816d53",
        "url": "https://api.github.com/repos/inkatze/wildfly/commits/7d3796b2ddfc26da3887cbd9712d28e4cc816d53",
        "parents": [
            "a78cbc37062ee951f83a96da4eb5a101165821f9"
        ],
        "files": [
            {
                "sha": "8e59de4e9d144c7ac86e85040acaf5ccf3b1fe64",
                "filename": "tasks/configure.yml",
                "previous_filename": null,
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/inkatze/wildfly/blob/7d3796b2ddfc26da3887cbd9712d28e4cc816d53/tasks/configure.yml",
                "raw_url": "https://github.com/inkatze/wildfly/raw/7d3796b2ddfc26da3887cbd9712d28e4cc816d53/tasks/configure.yml",
                "status": "modified",
                "patch": "@@ -40,7 +40,7 @@\n     - change standalone data mode\n \n - name: Copy wildfly systemd unit file\n-  template: src=wildfly.service.j2 dest={{ wildfly_systemd_dir }}/wildfly owner=root\n+  template: src=wildfly.service.j2 dest={{ wildfly_systemd_dir }}/wildfly.service owner=root\n             group=root mode=0640\n   when: ansible_service_mgr == 'systemd'\n   notify:"
            }
        ]
    },
    {
        "repo": "awailly/cis-ubuntu-ansible",
        "author_id": null,
        "author_name": "Ubuntu",
        "committer_id": null,
        "committer_name": "Ubuntu",
        "committer_email": "ubuntu@ip-172-31-38-171.eu-west-1.compute.internal",
        "message": "Fix #75 Modifying 13.8 to not remove but suggest removal\n\n- Closer to CIS rule\n- There was a race condition with 13.9",
        "sha": "893a1fff787d5de72ccc2033fc28ef228432b780",
        "url": "https://api.github.com/repos/awailly/cis-ubuntu-ansible/commits/893a1fff787d5de72ccc2033fc28ef228432b780",
        "parents": [
            "9eb1a8fa8e281ef06687c1851f51fa0beec3e232"
        ],
        "files": [
            {
                "sha": "3ca1b18faf03c323aea9ac1272b1f63cf33a734b",
                "filename": "tasks/section_13_level1.yml",
                "previous_filename": null,
                "additions": 3,
                "deletions": 5,
                "changes": 8,
                "blob_url": "https://github.com/awailly/cis-ubuntu-ansible/blob/893a1fff787d5de72ccc2033fc28ef228432b780/tasks/section_13_level1.yml",
                "raw_url": "https://github.com/awailly/cis-ubuntu-ansible/raw/893a1fff787d5de72ccc2033fc28ef228432b780/tasks/section_13_level1.yml",
                "status": "modified",
                "patch": "@@ -235,18 +235,16 @@\n \n   - name: 13.18 Check for Presence of User .netrc Files (stat) (Scored)\n     stat: path='{{ item }}/.netrc'\n-    with_items: home_users.stdout_lines\n+    with_items: '{{ home_users.stdout_lines }}'\n     register: netrc_files\n     tags:\n       - section13\n       - section13.18\n \n   - name: 13.18 Check for Presence of User .netrc Files (Scored)\n-    file: >\n-        path='{{ item.stat.path }}'\n-        state=absent\n+    debug: msg='Check if {{ item.stat.path}} is needed, and remove otherwise'\n     when: item is defined and item.stat.exists == True\n-    with_items: netrc_files.results\n+    with_items: '{{ netrc_files.results }}'\n     tags:\n       - section13\n       - section13.18"
            }
        ]
    }
]