# Extract metrics

`radon-miner extract-metrics -h`

```text
usage: radon-miner extract-metrics [-h] path_to_repo src {ansible,tosca} {product,process,delta,all} {release,commit} dest

positional arguments:
  path_to_repo          the path to a cloned git repository
  src                   the json report generated from a previous run of 'radon-miner mine'
  {ansible,tosca}       extract metrics for Ansible or Tosca
  {product,process,delta,all}
                        the metrics to extract
  {release,commit}      extract metrics at each release or commit
  dest                  destination folder to save the resulting csv

optional arguments:
  -h, --help            show this help message and exit
```

!!! note
    This command is expected to be executed after `radon-miner mine`. Therefore, it does not automatically clones the 
    repository. Rather, it requires the path to a cloned repository, which can be the one cloned in `$TMP_REPOSITORIES_DIR`
    during a previous mining, or one cloned anywhere on the user machine.

## path_to_repo
The path to the cloned repository. This is mandatory to access the file content and to extract metrics.

## src
The path to a *json* report generated by a previous run of `radon-miner mine ...`.

## language {ansible, tosca}
Extract metrics related to this language.


## metrics {product, commit}
Extract metrics at each `release` or at each `commit`.

**Product metrics** are extracted by [`radon-ansible-metrics`](https://github.com/radon-h2020/radon-ansible-metrics) and [`radon-tosca-metrics`](https://github.com/radon-h2020/radon-tosca-metrics) 
for Ansible and Tosca, respectively.

**Process metrics** are extracted by the [`ishepard/pydriller`](https://pydriller.readthedocs.io/en/latest/processmetrics.html).

**Delta metrics** are calculated as the difference of each metric between two successive releases or commits (see next section for more information).


## at {release, commit}
Extract metrics at each `release` or at each `commit`.

## dest
The folder where to save the resulting file `metrics.csv`. 